import"./chunk-ZRTXXNTS.js";import"./chunk-C2IPSNV6.js";import{a as P}from"./chunk-HO4B2M3A.js";import{a as le,b as ce,c as fe}from"./chunk-JY3TYQXN.js";import{a as oe}from"./chunk-6T2FLOJ2.js";import{F as se,K as me,T as J,U as ue,V as pe,e as te,g as x,m as ne,o as ie,s as ae,u as re,w as de}from"./chunk-ETI2QEAY.js";import{$ as Q,$a as X,Ab as h,B as K,Fb as ee,Lb as R,Ma as C,Nb as A,Q as E,Qb as G,Tb as O,V as v,W as _,Ya as p,Za as f,_a as W,ab as Y,ba as w,bb as y,cb as s,db as d,eb as g,fb as o,ga as N,gb as c,hb as u,ib as k,jb as V,mb as M,nb as S,ob as m,wb as Z,xa as I,xb as $,yb as r,za as a,zb as b}from"./chunk-G3X2Z5OP.js";var Ce=["appCandidatureHero",""];function xe(t,n){if(t&1&&(s(0,"div",5),g(1,"i",9),s(2,"span",7),r(3),d()()),t&2){let e=m();a(3),b(e.candidature==null?null:e.candidature.localisation)}}function be(t,n){if(t&1&&(s(0,"div",8),g(1,"app-status-badge",10),d()),t&2){let e=m();a(),y("statut",e.candidature.statut)}}var B=class t{candidature=null;get companyInitial(){return this.candidature?.entreprise?.charAt(0)??""}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["","appCandidatureHero",""]],inputs:{candidature:"candidature"},attrs:Ce,decls:13,vars:5,consts:[[1,"flex","items-start","gap-4","mb-4"],[1,"w-16","h-16","rounded-2xl","bg-gradient-to-br","from-primary-500","to-purple-600","flex","items-center","justify-center","text-white","text-2xl","font-bold","shadow-lg","transition-transform","hover:scale-105"],[1,"flex-1"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","mb-3"],[1,"flex","flex-wrap","items-center","gap-3","mb-3"],[1,"flex","items-center","gap-2","px-3","py-1","rounded-lg","bg-gray-100","dark:bg-gray-800"],[1,"fas","fa-building","text-primary-500","text-sm"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"mt-2"],[1,"fas","fa-map-marker-alt","text-primary-500","text-sm"],[3,"statut"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1),r(2),d(),s(3,"div",2)(4,"h1",3),r(5),d(),s(6,"div",4)(7,"div",5),g(8,"i",6),s(9,"span",7),r(10),d()(),p(11,xe,4,1,"div",5),d(),p(12,be,2,1,"div",8),d()()),e&2&&(a(2),h(" ",i.companyInitial," "),a(3),b(i.candidature==null?null:i.candidature.poste),a(5),b(i.candidature==null?null:i.candidature.entreprise),a(),f(i.candidature!=null&&i.candidature.localisation?11:-1),a(),f(i.candidature!=null&&i.candidature.statut?12:-1))},dependencies:[x,fe],encapsulation:2,changeDetection:0})};var ye=["appCandidatureTimeline",""];function ve(t,n){if(t&1&&(o(0,"div",4),u(1,"div",11),o(2,"div",12)(3,"div",7),u(4,"i",13),o(5,"p",9),r(6,"Dernier contact "),o(7,"span",10),r(8),R(9,"date"),c()()()()()),t&2){let e=m();a(8),b(A(9,1,e.candidature==null?null:e.candidature.dateDernierContact,"dd/MM/yyyy"))}}function _e(t,n){if(t&1&&(o(0,"div",4),u(1,"div",14),o(2,"div",15)(3,"div",7),u(4,"i",16),o(5,"p",9),r(6,"Relance pr\xE9vue "),o(7,"span",10),r(8),R(9,"date"),c()()()()()),t&2){let e=m();a(8),b(A(9,1,e.candidature==null?null:e.candidature.dateRelancePrevue,"dd/MM/yyyy"))}}var j=class t{candidature=null;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["","appCandidatureTimeline",""]],inputs:{candidature:"candidature"},attrs:ye,decls:17,vars:6,consts:[[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-6","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-blue-500","to-cyan-500","flex","items-center","justify-center"],[1,"fas","fa-history","text-white","text-sm"],[1,"relative","space-y-6","pl-6","border-l-2","border-gray-200","dark:border-gray-700"],[1,"relative","group"],[1,"absolute","-left-[29px]","w-4","h-4","rounded-full","bg-gradient-to-br","from-blue-500","to-cyan-500","border-2","border-white","dark:border-gray-800","transition-transform","group-hover:scale-125"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-blue-50","to-cyan-50","dark:from-blue-900/10","dark:to-cyan-900/10","border","border-blue-200","dark:border-blue-800","transition-all","hover:shadow-md"],[1,"flex","items-center","gap-2"],[1,"fas","fa-paper-plane","text-blue-500","text-sm"],[1,"text-sm","font-bold","text-gray-900","dark:text-white"],[1,"font-normal"],[1,"absolute","-left-[29px]","w-4","h-4","rounded-full","bg-gradient-to-br","from-green-500","to-emerald-500","border-2","border-white","dark:border-gray-800","transition-transform","group-hover:scale-125"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-green-50","to-emerald-50","dark:from-green-900/10","dark:to-emerald-900/10","border","border-green-200","dark:border-green-800","transition-all","hover:shadow-md"],[1,"fas","fa-handshake","text-green-500","text-sm"],[1,"absolute","-left-[29px]","w-4","h-4","rounded-full","bg-gradient-to-br","from-orange-500","to-amber-500","border-2","border-white","dark:border-gray-800","animate-pulse","group-hover:scale-125","transition-transform"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-orange-50","to-amber-50","dark:from-orange-900/10","dark:to-amber-900/10","border","border-orange-200","dark:border-orange-800","transition-all","hover:shadow-md"],[1,"fas","fa-bell","text-orange-500","text-sm"]],template:function(e,i){e&1&&(o(0,"h2",0)(1,"div",1),u(2,"i",2),c(),r(3,` Chronologie
`),c(),o(4,"div",3)(5,"div",4),u(6,"div",5),o(7,"div",6)(8,"div",7),u(9,"i",8),o(10,"p",9),r(11,"Postul\xE9 le "),o(12,"span",10),r(13),R(14,"date"),c()()()()(),p(15,ve,10,4,"div",4),p(16,_e,10,4,"div",4),c()),e&2&&(a(13),b(A(14,3,i.candidature==null?null:i.candidature.dateCandidature,"dd/MM/yyyy")),a(2),f(i.candidature!=null&&i.candidature.dateDernierContact?15:-1),a(),f(i.candidature!=null&&i.candidature.dateRelancePrevue?16:-1))},dependencies:[x,te],encapsulation:2,changeDetection:0})};var F=class t{priorite=O.required();config=G(()=>se(this.priorite()));badgeClass=G(()=>{let n=this.config().color,e={red:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",yellow:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",gray:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"};return e[n]||e.gray});static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-priorite-badge"]],inputs:{priorite:[1,"priorite"]},decls:3,vars:5,consts:[[1,"inline-flex","items-center","gap-1","px-2","py-1","text-xs","font-medium","rounded-md"]],template:function(e,i){e&1&&(o(0,"span",0),u(1,"i"),r(2),c()),e&2&&($(i.badgeClass()),a(),$(i.config().icon),a(),h(" ",i.config().label,`
`))},dependencies:[x],encapsulation:2,changeDetection:0})};var H=class t{typeContrat=O.required();getTypeContratLabel=me;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-type-contrat-badge"]],inputs:{typeContrat:[1,"typeContrat"]},decls:3,vars:1,consts:[[1,"inline-flex","items-center","gap-1","px-2","py-1","text-xs","font-medium","rounded-md","bg-indigo-100","text-indigo-800","dark:bg-indigo-900/30","dark:text-indigo-300"],[1,"fas","fa-file-contract"]],template:function(e,i){e&1&&(o(0,"span",0),u(1,"i",1),r(2),c()),e&2&&(a(2),h(" ",i.getTypeContratLabel(i.typeContrat()),`
`))},dependencies:[x],encapsulation:2,changeDetection:0})};var he=["appCandidatureInfo",""],Ee=()=>[1,2,3,4,5];function we(t,n){t&1&&(s(0,"div",4)(1,"p",7),r(2,"Priorit\xE9 "),d(),g(3,"app-priorite-badge",8),d()),t&2&&(a(3),y("priorite",n))}function ke(t,n){if(t&1&&g(0,"i",14),t&2){let e=n.$implicit,i=m(2);Z("text-yellow-400",e<=((i.candidature==null?null:i.candidature.score)??0))("text-gray-300",e>((i.candidature==null?null:i.candidature.score)??0))}}function Se(t,n){if(t&1&&(s(0,"div",5)(1,"p",9),r(2,"Niveau d'int\xE9r\xEAt"),d(),s(3,"div",10)(4,"div",11),X(5,ke,1,4,"i",12,W),d(),s(7,"span",13),r(8),d()()()),t&2){let e=m();a(5),Y(ee(1,Ee)),a(3),h("",e.candidature.score,"/5")}}function De(t,n){t&1&&(s(0,"div",6)(1,"p",15),r(2,"Type de contrat"),d(),g(3,"app-type-contrat-badge",16),d()),t&2&&(a(3),y("typeContrat",n))}var z=class t{candidature=null;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["","appCandidatureInfo",""]],inputs:{candidature:"candidature"},attrs:he,decls:8,vars:3,consts:[[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-6","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-purple-500","to-pink-500","flex","items-center","justify-center"],[1,"fas","fa-info-circle","text-white","text-sm"],[1,"grid","grid-cols-1","gap-4"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-purple-50","to-pink-50","dark:from-purple-900/20","dark:to-pink-900/20","border","border-purple-200","dark:border-purple-800","transition-all","hover:shadow-md","hover:scale-105"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-yellow-50","to-orange-50","dark:from-yellow-900/20","dark:to-orange-900/20","border","border-yellow-200","dark:border-yellow-800","transition-all","hover:shadow-md","hover:scale-105"],[1,"p-4","rounded-xl","bg-gradient-to-br","from-indigo-50","to-blue-50","dark:from-indigo-900/20","dark:to-blue-900/20","border","border-indigo-200","dark:border-indigo-800","transition-all","hover:shadow-md","hover:scale-105"],[1,"text-xs","font-medium","text-purple-600","dark:text-purple-400","uppercase","tracking-wide","mb-2"],[3,"priorite"],[1,"text-xs","font-medium","text-yellow-600","dark:text-yellow-400","uppercase","tracking-wide","mb-2"],[1,"flex","items-center","gap-2"],[1,"flex","gap-1"],[1,"fas","fa-star","text-sm",3,"text-yellow-400","text-gray-300"],[1,"text-sm","font-bold","text-gray-900","dark:text-white"],[1,"fas","fa-star","text-sm"],[1,"text-xs","font-medium","text-indigo-600","dark:text-indigo-400","uppercase","tracking-wide","mb-2"],[3,"typeContrat"]],template:function(e,i){if(e&1&&(s(0,"h2",0)(1,"div",1),g(2,"i",2),d(),r(3,` Informations cl\xE9s
`),d(),s(4,"div",3),p(5,we,4,1,"div",4),p(6,Se,9,2,"div",5),p(7,De,4,1,"div",6),d()),e&2){let l,L;a(5),f((l=i.candidature==null?null:i.candidature.priorite)?5:-1,l),a(),f(i.candidature!=null&&i.candidature.score?6:-1),a(),f((L=i.candidature==null?null:i.candidature.typeContrat)?7:-1,L)}},dependencies:[x,F,H],encapsulation:2,changeDetection:0})};var Te=["appCandidatureContact",""];function Ie(t,n){if(t&1&&(o(0,"div",5)(1,"p",6),r(2,"Nom du contact"),c(),o(3,"p",7),r(4),c()()),t&2){let e=m(2);a(4),b(e.candidature.contactNom)}}function Me(t,n){if(t&1&&(o(0,"div",5)(1,"p",6),r(2,"E-mail"),c(),o(3,"a",8),r(4),c()()),t&2){let e=m(2);a(3),V("href","mailto:"+e.candidature.contactEmail,I),a(),b(e.candidature.contactEmail)}}function Ne(t,n){if(t&1&&(o(0,"div",5)(1,"p",6),r(2,"T\xE9l\xE9phone"),c(),o(3,"a",8),r(4),c()()),t&2){let e=m(2);a(3),V("href","tel:"+e.candidature.contactTelephone,I),a(),b(e.candidature.contactTelephone)}}function Pe(t,n){if(t&1){let e=k();o(0,"div",5)(1,"p",6),r(2,"Lien de l'offre"),c(),o(3,"div",9)(4,"a",10),r(5),c(),o(6,"button",11),S("click",function(){v(e);let l=m(2);return _(l.copyLink.emit(l.candidature.lienOffre))}),u(7,"i",12),c()()()}if(t&2){let e=m(2);a(4),V("href",e.candidature.lienOffre,I),a(),b(e.candidature.lienOffre)}}function Le(t,n){if(t&1&&(o(0,"div",3),p(1,Ie,5,1,"div",5),p(2,Me,5,2,"div",5),p(3,Ne,5,2,"div",5),p(4,Pe,8,2,"div",5),c()),t&2){let e=m();a(),f(e.candidature!=null&&e.candidature.contactNom?1:-1),a(),f(e.candidature!=null&&e.candidature.contactEmail?2:-1),a(),f(e.candidature!=null&&e.candidature.contactTelephone?3:-1),a(),f(e.candidature!=null&&e.candidature.lienOffre?4:-1)}}function Ve(t,n){t&1&&(o(0,"div",4),u(1,"i",13),o(2,"p",14),r(3,"Aucune information de contact"),c()())}var q=class t{candidature=null;copyLink=new w;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["","appCandidatureContact",""]],inputs:{candidature:"candidature"},outputs:{copyLink:"copyLink"},attrs:Te,decls:6,vars:1,consts:[[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-6","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-teal-500","to-cyan-500","flex","items-center","justify-center"],[1,"fas","fa-user-tie","text-white","text-sm"],[1,"space-y-3"],[1,"text-center","py-8"],[1,"p-4","rounded-xl","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","transition-all","hover:shadow-md","hover:border-teal-300","dark:hover:border-teal-600"],[1,"text-xs","text-teal-600","dark:text-teal-400","font-medium","uppercase","mb-1"],[1,"font-bold","text-gray-900","dark:text-white"],[1,"font-bold","text-primary-600","dark:text-primary-400","hover:underline",3,"href"],[1,"flex","items-center","gap-2"],["target","_blank","rel","noopener noreferrer",1,"text-sm","text-primary-600","dark:text-primary-400","hover:underline","truncate","flex-1",3,"href"],["type","button","aria-label","Copier le lien",1,"btn-icon","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-copy"],[1,"fas","fa-address-book","text-4xl","text-gray-300","dark:text-gray-600","mb-3"],[1,"text-sm","text-gray-500","dark:text-gray-400"]],template:function(e,i){e&1&&(o(0,"h2",0)(1,"div",1),u(2,"i",2),c(),r(3,` Informations de contact
`),c(),p(4,Le,5,4,"div",3)(5,Ve,4,0,"div",4)),e&2&&(a(4),f(i.candidature!=null&&i.candidature.contactNom||i.candidature!=null&&i.candidature.contactEmail||i.candidature!=null&&i.candidature.contactTelephone||i.candidature!=null&&i.candidature.lienOffre?4:5))},dependencies:[x],encapsulation:2,changeDetection:0})};var Re=["appCandidatureActions",""],U=class t{edit=new w;duplicate=new w;share=new w;delete=new w;static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["","appCandidatureActions",""]],outputs:{edit:"edit",duplicate:"duplicate",share:"share",delete:"delete"},attrs:Re,decls:21,vars:0,consts:[[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-amber-500","to-yellow-500","flex","items-center","justify-center"],[1,"fas","fa-bolt","text-white","text-sm"],[1,"grid","grid-cols-1","sm:grid-cols-2","gap-3"],["type","button","title","Modifier la candidature","aria-label","Modifier la candidature",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2","rounded-lg","bg-primary-600","text-white","shadow-sm","hover:shadow-md","transition-transform","transform","hover:-translate-y-0.5","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-edit"],[1,"font-medium"],["type","button","title","Dupliquer la candidature","aria-label","Dupliquer la candidature",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2","rounded-lg","bg-white","dark:bg-gray-800","border","border-gray-200","dark:border-gray-700","text-gray-800","dark:text-gray-200","hover:bg-gray-50","dark:hover:bg-gray-900","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-copy"],["type","button","title","Partager la candidature","aria-label","Partager la candidature",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2","rounded-lg","bg-white/60","dark:bg-gray-800/60","border","border-gray-200","dark:border-gray-700","text-primary-600","dark:text-primary-400","hover:bg-white/80","dark:hover:bg-gray-800/80","transition","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-share-alt"],["type","button","title","Supprimer la candidature","aria-label","Supprimer la candidature",1,"w-full","flex","items-center","justify-center","gap-2","px-4","py-2","rounded-lg","bg-red-600","text-white","shadow-sm","hover:shadow-md","transition-transform","transform","hover:-translate-y-0.5","focus:outline-none","focus:ring-2","focus:ring-red-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-trash"]],template:function(e,i){e&1&&(o(0,"h2",0)(1,"div",1),u(2,"i",2),c(),r(3,` Actions rapides
`),c(),o(4,"div",3)(5,"button",4),S("click",function(){return i.edit.emit()}),u(6,"i",5),o(7,"span",6),r(8,"Modifier"),c()(),o(9,"button",7),S("click",function(){return i.duplicate.emit()}),u(10,"i",8),o(11,"span",6),r(12,"Dupliquer"),c()(),o(13,"button",9),S("click",function(){return i.share.emit()}),u(14,"i",10),o(15,"span",6),r(16,"Partager"),c()(),o(17,"button",11),S("click",function(){return i.delete.emit()}),u(18,"i",12),o(19,"span",6),r(20,"Supprimer"),c()()())},dependencies:[x],encapsulation:2,changeDetection:0})};function Ae(t,n){t&1&&g(0,"app-loading-spinner",1),t&2&&y("fullscreen",!0)}function Oe(t,n){if(t&1){let e=k();s(0,"app-error-card",3),M("retry",function(){v(e);let l=m();return _(l.loadCandidature(l.candidatureId()))}),d()}if(t&2){let e=m();y("title","Erreur")("message",e.errorMessage())("showRetry",!0)}}function Be(t,n){if(t&1&&(s(0,"div",11)(1,"h2",13)(2,"div",14),g(3,"i",15),d(),r(4," Description du poste "),d(),s(5,"div",16)(6,"div",17)(7,"p",18),r(8),d()()()()),t&2){let e=m(2);a(8),b(e.candidature().description)}}function je(t,n){if(t&1){let e=k();s(0,"div",11)(1,"h2",13)(2,"div",19),g(3,"i",20),d(),r(4," Lien de l'offre "),d(),s(5,"div",21),g(6,"i",22),s(7,"a",23),r(8),d(),s(9,"button",24),M("click",function(){v(e);let l=m(2);return _(l.copyLink(l.candidature().lienOffre))}),g(10,"i",25),d()()()}if(t&2){let e=m(2);a(7),y("href",e.candidature().lienOffre,I),a(),h(" ",e.candidature().lienOffre," ")}}function Fe(t,n){if(t&1){let e=k();g(0,"div",26),s(1,"div",27),M("copyLink",function(l){v(e);let L=m(2);return _(L.copyLink(l))}),d(),s(2,"div",28),M("edit",function(){v(e);let l=m(2);return _(l.editCandidature())})("duplicate",function(){v(e);let l=m(2);return _(l.duplicateCandidature())})("share",function(){v(e);let l=m(2);return _(l.shareCandidature())})("delete",function(){v(e);let l=m(2);return _(l.deleteCandidature())}),d()}if(t&2){let e=m(2);y("candidature",e.candidature()),a(),y("candidature",e.candidature())}}function He(t,n){if(t&1){let e=k();s(0,"button",4),M("click",function(){v(e);let l=m();return _(l.goBack())}),g(1,"i",5),s(2,"span",6),r(3,"Retour \xE0 la liste"),d()(),s(4,"div",7)(5,"div",8),g(6,"div",9)(7,"div",10),p(8,Be,9,1,"div",11),p(9,je,11,2,"div",11),d(),s(10,"div",12),p(11,Fe,3,2),d()()}if(t&2){let e,i,l=m();a(6),y("candidature",l.candidature()),a(),y("candidature",l.candidature()),a(),f((e=l.candidature())!=null&&e.description?8:-1),a(),f((i=l.candidature())!=null&&i.lienOffre?9:-1),a(2),f(l.candidature()?11:-1)}}var ge=class t{candidatureService=E(oe);notificationService=E(re);confirmationService=E(de);route=E(ne);router=E(ie);destroyRef=E(Q);candidature=N(null);candidatureId=N(0);isLoading=N(!1);errorMessage=N("");loadingInProgress=!1;ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));n&&!isNaN(n)?(this.candidatureId.set(n),this.loadCandidature(n)):this.errorMessage.set("ID de candidature invalide")}loadCandidature(n){this.loadingInProgress||(this.loadingInProgress=!0,this.isLoading.set(!0),this.errorMessage.set(""),this.candidature.set(null),this.candidatureService.getCandidatureById(n).pipe(P(this.destroyRef),K(()=>{this.isLoading.set(!1),this.loadingInProgress=!1})).subscribe({next:e=>{this.candidature.set(e)},error:e=>{console.error("Erreur lors du chargement de la candidature:",e),this.errorMessage.set(ue(e,pe,"Erreur lors du chargement de la candidature."))}}))}goBack(){this.router.navigate(["/candidatures"])}editCandidature(){let n=this.candidature();n&&this.router.navigate(["/candidatures",n.id,"edit"])}deleteCandidature(){let n=this.candidature();n&&this.confirmationService.confirmDelete(`${n.poste} chez ${n.entreprise}`).pipe(P(this.destroyRef)).subscribe(e=>{e&&this.candidatureService.deleteCandidature(n.id).pipe(P(this.destroyRef)).subscribe({next:()=>{this.notificationService.success("Candidature supprim\xE9e avec succ\xE8s"),this.router.navigate(["/candidatures"])},error:i=>{console.error("Erreur lors de la suppression:",i),this.notificationService.error("Erreur lors de la suppression de la candidature")}})})}duplicateCandidature(){let n=this.candidature();if(!n)return;let e={entreprise:n.entreprise,poste:n.poste,localisation:n.localisation,dateCandidature:new Date,statut:n.statut,source:n.source,description:n.description,lienOffre:n.lienOffre};this.candidatureService.createCandidature(e).pipe(P(this.destroyRef)).subscribe({next:i=>{this.notificationService.success("Candidature dupliqu\xE9e avec succ\xE8s"),this.router.navigate(["/candidatures",i.id])},error:i=>{console.error("Erreur lors de la duplication:",i),this.notificationService.error("Erreur lors de la duplication de la candidature")}})}shareCandidature(){let n=this.candidature();if(!n)return;let e=`Candidature - ${n.poste} chez ${n.entreprise}
Statut: ${n.statut}`;navigator.share?navigator.share({title:"Partager la candidature",text:e,url:window.location.href}).catch(async()=>{(await J(e)).success?this.notificationService.success("Copi\xE9 dans le presse-papier"):this.notificationService.error("Erreur lors de la copie")}):this.copyLink(e)}async copyLink(n){(await J(n)).success?this.notificationService.success("Copi\xE9 dans le presse-papier"):this.notificationService.error("Erreur lors de la copie")}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-candidature-detail"]],decls:4,vars:1,consts:[[1,"max-w-7xl","mx-auto","p-6","space-y-6"],["message","Chargement de la candidature...",3,"fullscreen"],[3,"title","message","showRetry"],[3,"retry","title","message","showRetry"],["type","button","aria-label","Retour \xE0 la liste",1,"inline-flex","items-center","gap-2","text-gray-600","hover:text-primary-600","mb-4","focus:outline-none","focus:ring-2","focus:ring-primary-500","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-arrow-left"],[1,"font-medium"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-2","space-y-6"],["appCandidatureHero","",1,"card",3,"candidature"],["appCandidatureTimeline","",1,"card",3,"candidature"],[1,"card","transition-all","hover:shadow-lg"],[1,"space-y-6"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white","mb-4","flex","items-center","gap-3"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-indigo-500","to-purple-500","flex","items-center","justify-center"],[1,"fas","fa-file-alt","text-white","text-sm"],[1,"prose","prose-sm","dark:prose-invert","max-w-none"],[1,"p-4","rounded-lg","bg-gray-50","dark:bg-gray-800/50","border","border-gray-200","dark:border-gray-700"],[1,"whitespace-pre-wrap","leading-relaxed","text-gray-700","dark:text-gray-300","m-0"],[1,"w-8","h-8","rounded-lg","bg-gradient-to-br","from-blue-500","to-cyan-500","flex","items-center","justify-center"],[1,"fas","fa-link","text-white","text-sm"],[1,"flex","items-center","gap-3","p-3","rounded-lg","bg-blue-50","dark:bg-blue-900/20","border","border-blue-200","dark:border-blue-800"],[1,"fas","fa-external-link-alt","text-blue-500","flex-shrink-0"],["target","_blank","rel","noopener noreferrer",1,"text-primary-600","dark:text-primary-400","hover:underline","truncate","flex-1","font-medium",3,"href"],["type","button","aria-label","Copier le lien",1,"btn-icon","focus:outline-none","focus:ring-2","focus:ring-primary-500","transition-transform","hover:scale-110","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-copy"],["appCandidatureInfo","",1,"card",3,"candidature"],["appCandidatureContact","",1,"card",3,"copyLink","candidature"],["appCandidatureActions","",1,"card",3,"edit","duplicate","share","delete"]],template:function(e,i){e&1&&(s(0,"div",0),p(1,Ae,1,1,"app-loading-spinner",1)(2,Oe,1,3,"app-error-card",2)(3,He,12,5),d()),e&2&&(a(),f(i.isLoading()?1:i.errorMessage()?2:3))},dependencies:[x,ae,le,ce,B,j,z,q,U],encapsulation:2,changeDetection:0})};export{ge as CandidatureDetailComponent};
