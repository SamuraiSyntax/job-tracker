import{b as q,c as b,d as L,e as O,g as B,i as z,j as H,q as J,r as K,s as Q}from"./chunk-PFMXRURO.js";import"./chunk-E52SVNQE.js";import{a as G}from"./chunk-R53HURH7.js";import"./chunk-EIPPF5CY.js";import{X as U,g as S,u as R,v as k}from"./chunk-KLJDSKD7.js";import{$a as M,Db as v,Ma as y,Q as p,V as P,W as N,Ya as F,Za as D,a as C,ab as j,b as T,bb as u,cb as e,db as t,eb as a,fb as m,ga as x,gb as c,hb as w,ib as V,mb as f,nb as A,ob as I,wb as g,xb as $,yb as n,za as o,zb as h}from"./chunk-G3X2Z5OP.js";var E=class s{themeService=p(k);currentTheme=this.themeService.currentTheme;effectiveTheme=this.themeService.effectiveTheme;toggleTheme(){this.themeService.toggleTheme()}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=y({type:s,selectors:[["app-switch-theme"]],decls:21,vars:20,consts:[["aria-label","Changer le th\xE8me","title","Basculer entre le mode clair et sombre",1,"theme-switch-toggle","relative","flex","items-center","justify-between","w-full","p-4","rounded-xl","bg-gradient-to-r","from-amber-50","to-indigo-50","dark:from-amber-900/20","dark:to-indigo-900/20","border-2","border-gray-200","dark:border-gray-700","hover:border-primary-400","dark:hover:border-primary-500","transition-all","duration-300","group","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"flex","items-center","gap-3","flex-1","transition-all","duration-300"],[1,"w-12","h-12","rounded-xl","bg-gradient-to-br","from-amber-400","to-orange-500","flex","items-center","justify-center","shadow-lg"],[1,"fas","fa-sun","text-white","text-2xl"],[1,"font-semibold","text-gray-900","dark:text-white"],[1,"text-xs","text-gray-600","dark:text-gray-400"],[1,"relative","mx-4"],[1,"w-16","h-8","bg-gray-300","dark:bg-gray-600","rounded-full","transition-colors","duration-300","shadow-inner"],[1,"absolute","top-1","left-1","w-6","h-6","bg-white","dark:bg-gray-800","rounded-full","shadow-lg","transition-all","duration-300","flex","items-center","justify-center"],[1,"w-4","h-4","rounded-full","bg-gradient-to-br","from-amber-400","to-orange-500","dark:from-indigo-400","dark:to-purple-500","transition-all","duration-300"],[1,"flex","items-center","gap-3","flex-1","justify-end","transition-all","duration-300"],[1,"text-right"],[1,"w-12","h-12","rounded-xl","bg-gradient-to-br","from-indigo-500","to-purple-600","flex","items-center","justify-center","shadow-lg"],[1,"fas","fa-moon","text-white","text-2xl"]],template:function(i,r){i&1&&(m(0,"button",0),A("click",function(){return r.toggleTheme()}),m(1,"div",1)(2,"div",2),w(3,"i",3),c(),m(4,"div")(5,"div",4),n(6,"Mode Clair"),c(),m(7,"div",5),n(8,"Lumineux et \xE9nergique"),c()()(),m(9,"div",6)(10,"div",7)(11,"div",8),w(12,"div",9),c()()(),m(13,"div",10)(14,"div",11)(15,"div",4),n(16,"Mode Sombre"),c(),m(17,"div",5),n(18,"Doux pour les yeux"),c()(),m(19,"div",12),w(20,"i",13),c()()()),i&2&&(o(),g("opacity-100",r.effectiveTheme()==="light")("opacity-40",r.effectiveTheme()==="dark")("scale-105",r.effectiveTheme()==="light")("scale-95",r.effectiveTheme()==="dark"),o(10),g("translate-x-8",r.effectiveTheme()==="dark")("translate-x-0",r.effectiveTheme()==="light"),o(2),g("opacity-100",r.effectiveTheme()==="dark")("opacity-40",r.effectiveTheme()==="light")("scale-105",r.effectiveTheme()==="dark")("scale-95",r.effectiveTheme()==="light"))},dependencies:[S],encapsulation:2,changeDetection:0})};var W=(s,d)=>d.id;function ee(s,d){s&1&&(e(0,"div",26),a(1,"i",52),n(2," Les mots de passe ne correspondent pas "),t())}function te(s,d){s&1&&a(0,"i",28)}function ie(s,d){s&1&&a(0,"i",29)}function re(s,d){if(s&1){let i=V();e(0,"div",32)(1,"div",40),a(2,"i"),e(3,"div")(4,"h4",42),n(5),t(),e(6,"p",43),n(7),t()()(),e(8,"label",53)(9,"input",54),f("change",function(){let l=P(i).$implicit,_=I();return N(_.onNotificationToggle(l))}),t(),a(10,"div",55),t()()}if(s&2){let i=d.$implicit;o(2),$("fas fa-"+i.icon.replace("_","-")+" text-2xl "),g("text-primary-600",i.enabled)("dark:text-primary-400",i.enabled)("text-gray-400",!i.enabled),o(3),h(i.label),o(2),h(i.description),o(),u("for",v("notification-",i.id)),o(),u("id",v("notification-",i.id))("checked",i.enabled)}}function ne(s,d){if(s&1){let i=V();e(0,"div",32)(1,"div",40),a(2,"i"),e(3,"div")(4,"h4",42),n(5),t(),e(6,"p",43),n(7),t()()(),e(8,"label",53)(9,"input",54),f("change",function(){let l=P(i).$implicit,_=I();return N(_.onPrivacyToggle(l))}),t(),a(10,"div",55),t()()}if(s&2){let i=d.$implicit;o(2),$("fas fa-"+i.icon.replace("_","-")+" text-2xl "),g("text-primary-600",i.enabled)("dark:text-primary-400",i.enabled)("text-gray-400",!i.enabled),o(3),h(i.label),o(2),h(i.description),o(),u("for",v("privacy-",i.id)),o(),u("id",v("privacy-",i.id))("checked",i.enabled)}}var X=class s{fb=p(J);authService=p(G);notificationService=p(R);themeService=p(k);passwordForm;isChangingPassword=x(!1);notificationSettings=x([{id:"email_entretien",label:"Rappels d'entretiens",description:"Recevoir des rappels pour les entretiens \xE0 venir",enabled:!0,icon:"event"},{id:"email_stats",label:"Rapport hebdomadaire",description:"Recevoir un r\xE9sum\xE9 hebdomadaire de vos candidatures",enabled:!1,icon:"bar_chart"},{id:"push_notifications",label:"Notifications push",description:"Activer les notifications push dans le navigateur",enabled:!1,icon:"notifications_active"}]);privacySettings=x([{id:"profile_public",label:"Profil public",description:"Rendre votre profil visible par d'autres utilisateurs",enabled:!1,icon:"public"},{id:"analytics",label:"Donn\xE9es analytiques",description:"Autoriser la collecte de donn\xE9es pour am\xE9liorer l'application",enabled:!0,icon:"analytics"}]);ngOnInit(){this.initPasswordForm()}initPasswordForm(){this.passwordForm=this.fb.group({currentPassword:["",b.required],newPassword:["",[b.required,b.minLength(8)]],confirmPassword:["",b.required]},{validators:U()})}onChangePassword(){this.passwordForm.valid&&(this.isChangingPassword.set(!0),setTimeout(()=>{this.notificationService.success("Mot de passe modifi\xE9 avec succ\xE8s"),this.passwordForm.reset(),this.isChangingPassword.set(!1)},1500))}onNotificationToggle(d){this.notificationSettings.update(r=>r.map(l=>l.id===d.id?T(C({},l),{enabled:!l.enabled}):l));let i=this.notificationSettings().find(r=>r.id===d.id);this.notificationService.success(`${d.label} ${i?.enabled?"activ\xE9":"d\xE9sactiv\xE9"}`)}onPrivacyToggle(d){this.privacySettings.update(r=>r.map(l=>l.id===d.id?T(C({},l),{enabled:!l.enabled}):l));let i=this.privacySettings().find(r=>r.id===d.id);this.notificationService.success(`${d.label} ${i?.enabled?"activ\xE9":"d\xE9sactiv\xE9"}`)}onExportData(){this.notificationService.success("Export des donn\xE9es en cours...")}onDeleteAccount(){confirm("\xCAtes-vous s\xFBr de vouloir supprimer votre compte ? Cette action est irr\xE9versible.")&&this.notificationService.error("Suppression du compte en cours...")}static \u0275fac=function(i){return new(i||s)};static \u0275cmp=y({type:s,selectors:[["app-settings"]],decls:100,vars:4,consts:[[1,"min-h-screen","bg-gray-50","dark:bg-gray-900","py-8","px-4","sm:px-6","lg:px-8"],[1,"max-w-4xl","mx-auto","space-y-6"],[1,"text-center","mb-8"],[1,"inline-flex","items-center","justify-center","w-16","h-16","bg-gradient-to-br","from-primary-500","to-primary-700","rounded-2xl","shadow-lg","mb-4"],[1,"fas","fa-cog","text-3xl","text-white"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-2"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-gray-200","dark:border-gray-700","overflow-hidden"],[1,"p-6","border-b","border-gray-200","dark:border-gray-700"],[1,"text-xl","font-semibold","text-gray-900","dark:text-white","flex","items-center","gap-2"],[1,"fas","fa-shield-alt","text-primary-600","dark:text-primary-400"],[1,"p-6"],[1,"text-lg","font-medium","text-gray-900","dark:text-white","mb-4"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","currentPassword",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"relative"],[1,"fas","fa-lock","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["id","currentPassword","type","password","formControlName","currentPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","pl-10","pr-4","py-2.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent","text-gray-900","dark:text-white","placeholder-gray-400","transition-all"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["for","newPassword",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"fas","fa-lock-open","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["id","newPassword","type","password","formControlName","newPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","pl-10","pr-4","py-2.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent","text-gray-900","dark:text-white","placeholder-gray-400","transition-all"],[1,"text-xs","text-gray-500","dark:text-gray-400","mt-1"],["for","confirmPassword",1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"fas","fa-check-circle","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],["id","confirmPassword","type","password","formControlName","confirmPassword","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"w-full","pl-10","pr-4","py-2.5","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-lg","focus:ring-2","focus:ring-primary-500","focus:border-transparent","text-gray-900","dark:text-white","placeholder-gray-400","transition-all"],[1,"text-sm","text-red-600","dark:text-red-400","flex","items-center","gap-2"],["type","submit",1,"px-4","py-2.5","bg-primary-600","hover:bg-primary-700","disabled:bg-gray-400","cursor-pointer","disabled:cursor-not-allowed","text-white","rounded-lg","font-medium","transition-all","inline-flex","items-center","gap-2","shadow-sm",3,"disabled"],[1,"fas","fa-spinner","fa-spin"],[1,"fas","fa-save"],[1,"fas","fa-bell","text-primary-600","dark:text-primary-400"],[1,"p-6","space-y-4"],[1,"flex","items-center","justify-between","p-4","rounded-lg","bg-gray-50","dark:bg-gray-700/50","hover:bg-gray-100","dark:hover:bg-gray-700","transition-colors"],[1,"fas","fa-user-shield","text-primary-600","dark:text-primary-400"],[1,"fas","fa-palette","text-primary-600","dark:text-primary-400"],[1,"p-6","space-y-6"],[1,"border-t","border-gray-200","dark:border-gray-700"],[1,"bg-white","dark:bg-gray-800","rounded-xl","shadow-sm","border","border-red-200","dark:border-red-900/50","overflow-hidden"],[1,"p-6","border-b","border-red-200","dark:border-red-900/50"],[1,"fas","fa-database","text-primary-600","dark:text-primary-400"],[1,"flex","items-center","gap-4"],[1,"fas","fa-download","text-2xl","text-gray-600","dark:text-gray-400"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"px-4","py-2","bg-gray-200","dark:bg-gray-600","hover:bg-gray-300","dark:hover:bg-gray-500","text-gray-900","dark:text-white","rounded-lg","font-medium","transition-colors","inline-flex","items-center","gap-2","shadow-sm","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-file-download"],[1,"flex","items-center","justify-between","p-4","rounded-lg","bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-900/50"],[1,"fas","fa-trash-alt","text-2xl","text-red-600","dark:text-red-400"],[1,"font-medium","text-red-900","dark:text-red-100"],[1,"text-sm","text-red-700","dark:text-red-300"],[1,"px-4","py-2","bg-red-600","hover:bg-red-700","text-white","rounded-lg","font-medium","transition-colors","inline-flex","items-center","gap-2","shadow-sm","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-exclamation-triangle"],[1,"fas","fa-exclamation-circle"],[1,"relative","inline-flex","items-center","cursor-pointer",3,"for"],["type","checkbox",1,"sr-only","peer",3,"change","id","checked"],[1,"w-11","h-6","bg-gray-200","peer-focus:outline-none","peer-focus:ring-4","peer-focus:ring-primary-300","dark:peer-focus:ring-primary-800","rounded-full","peer","dark:bg-gray-600","peer-checked:after:translate-x-full","rtl:peer-checked:after:-translate-x-full","peer-checked:after:border-white","after:content-['']","after:absolute","after:top-[2px]","after:start-[2px]","after:bg-white","after:border-gray-300","after:border","after:rounded-full","after:h-5","after:w-5","after:transition-all","dark:border-gray-600","peer-checked:bg-primary-600"]],template:function(i,r){if(i&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),a(4,"i",4),t(),e(5,"h1",5),n(6,"Param\xE8tres"),t(),e(7,"p",6),n(8,"G\xE9rez vos pr\xE9f\xE9rences et param\xE8tres de compte"),t()(),e(9,"div",7)(10,"div",8)(11,"h2",9),a(12,"i",10),n(13," S\xE9curit\xE9 "),t()(),e(14,"div",11)(15,"h3",12),n(16,"Changer le mot de passe"),t(),e(17,"form",13),f("ngSubmit",function(){return r.onChangePassword()}),e(18,"div")(19,"label",14),n(20,"Mot de passe actuel"),t(),e(21,"div",15),a(22,"i",16)(23,"input",17),t()(),e(24,"div",18)(25,"div")(26,"label",19),n(27,"Nouveau mot de passe"),t(),e(28,"div",15),a(29,"i",20)(30,"input",21),t(),e(31,"p",22),n(32,"8 caract\xE8res minimum"),t()(),e(33,"div")(34,"label",23),n(35,"Confirmer le mot de passe"),t(),e(36,"div",15),a(37,"i",24)(38,"input",25),t()()(),F(39,ee,3,0,"div",26),e(40,"button",27),F(41,te,1,0,"i",28)(42,ie,1,0,"i",29),n(43," Changer le mot de passe "),t()()()(),e(44,"div",7)(45,"div",8)(46,"h2",9),a(47,"i",30),n(48," Notifications "),t()(),e(49,"div",31),M(50,re,11,15,"div",32,W),t()(),e(52,"div",7)(53,"div",8)(54,"h2",9),a(55,"i",33),n(56," Confidentialit\xE9 "),t()(),e(57,"div",31),M(58,ne,11,15,"div",32,W),t()(),e(60,"div",7)(61,"div",8)(62,"h2",9),a(63,"i",34),n(64," Apparence "),t()(),e(65,"div",35)(66,"div")(67,"h3",12),n(68,"Th\xE8me"),t(),a(69,"app-switch-theme"),t(),a(70,"div",36),t()(),e(71,"div",37)(72,"div",38)(73,"h2",9),a(74,"i",39),n(75," Donn\xE9es "),t()(),e(76,"div",35)(77,"div",32)(78,"div",40),a(79,"i",41),e(80,"div")(81,"h4",42),n(82,"Exporter mes donn\xE9es"),t(),e(83,"p",43),n(84,"T\xE9l\xE9charger une copie de toutes vos donn\xE9es"),t()()(),e(85,"button",44),f("click",function(){return r.onExportData()}),a(86,"i",45),n(87," Exporter "),t()(),a(88,"div",36),e(89,"div",46)(90,"div",40),a(91,"i",47),e(92,"div")(93,"h4",48),n(94,"Supprimer mon compte"),t(),e(95,"p",49),n(96,"Supprimer d\xE9finitivement votre compte et toutes vos donn\xE9es"),t()()(),e(97,"button",50),f("click",function(){return r.onDeleteAccount()}),a(98,"i",51),n(99," Supprimer "),t()()()()()()),i&2){let l;o(17),u("formGroup",r.passwordForm),o(22),D(r.passwordForm.hasError("passwordMismatch")&&((l=r.passwordForm.get("confirmPassword"))!=null&&l.touched)?39:-1),o(),u("disabled",r.passwordForm.invalid||r.isChangingPassword()),o(),D(r.isChangingPassword()?41:42),o(9),j(r.notificationSettings()),o(8),j(r.privacySettings())}},dependencies:[S,Q,B,q,L,O,H,z,K,E],encapsulation:2,changeDetection:0})};export{X as SettingsComponent};
