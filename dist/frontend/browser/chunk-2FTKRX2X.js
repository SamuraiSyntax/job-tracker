import{a as G}from"./chunk-7NERXNDC.js";import{a as Ke,i as pe}from"./chunk-R2XGUXF2.js";import{B as We,a as Ye,b as Ue,c as Ge,d as Q,e as Je,f as ce,g as U,h as j,i as R,l as ue,o as I,q as me}from"./chunk-SABFLBFF.js";import"./chunk-UTN363WZ.js";import{b as He,d as je,f as ze,s as ie}from"./chunk-R4UMKJBA.js";import"./chunk-LJWELZMP.js";import{a as qe}from"./chunk-3VPM3Y2R.js";import{$ as b,A as g,Aa as ae,B as Ve,C as Ee,E as w,Ea as re,F as oe,Fa as ne,Ga as Re,H as Ae,Ia as Ie,J,Ka as de,L as Pe,La as le,M as o,Na as q,Oa as C,Pa as x,Q as F,Ta as se,Va as Be,Z as Le,Za as M,_ as f,a as $,aa as N,b as Y,ba as P,ca as L,da as T,ea as u,fa as m,fb as Oe,g as De,ga as k,gb as ee,ha as s,i as Fe,ia as c,ja as _,jb as te,ka as v,la as H,lb as $e,ma as S,n as Me,na as y,nb as Qe,oa as d,ra as Ne,sa as W,ta as X,va as E,wa as D,xa as l,y as Z,ya as z,z as p,za as h}from"./chunk-KT62HJZU.js";function rt(r,t){if(r&1){let e=v();u(0,"button",4),S("click",function(){p(e);let n=d();return g(n.clearSearch())}),k(1,"i",5),m()}}var ge=class r{searchTerm=x("");searchTermChange=C();onSearchChange(t){this.searchTermChange.emit(t)}clearSearch(){this.searchTermChange.emit("")}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-search-bar"]],inputs:{searchTerm:[1,"searchTerm"]},outputs:{searchTermChange:"searchTermChange"},decls:4,vars:2,consts:[[1,"relative","group"],[1,"fas","fa-search","absolute","left-4","top-1/2","-translate-y-1/2","text-gray-400","transition-all","group-focus-within:text-primary-600","dark:group-focus-within:text-primary-400","group-focus-within:scale-110"],["type","text","placeholder","Rechercher par entreprise, poste, localisation...",1,"input","pl-12","w-full","transition-all","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400",3,"ngModelChange","ngModel"],["title","Effacer la recherche",1,"absolute","cursor-pointer","right-3","top-1/2","-translate-y-1/2","btn-icon","text-gray-400","hover:text-red-500","transition-colors"],["title","Effacer la recherche",1,"absolute","cursor-pointer","right-3","top-1/2","-translate-y-1/2","btn-icon","text-gray-400","hover:text-red-500","transition-colors",3,"click"],[1,"fas","fa-times-circle"]],template:function(e,i){e&1&&(u(0,"div",0),k(1,"i",1),u(2,"input",2),S("ngModelChange",function(a){return i.onSearchChange(a)}),m(),f(3,rt,2,0,"button",3),m()),e&2&&(o(2),T("ngModel",i.searchTerm()),o(),b(i.searchTerm()?3:-1))},dependencies:[M,ie,He,je,ze],encapsulation:2})};function nt(r,t){if(r&1&&(s(0,"span",8),l(1),c()),r&2){let e=d();D(e.getStatutBadgeClass(e.selectedStatut())),o(),h(" ",e.getStatutLabelOrAll(e.selectedStatut())," ")}}function ot(r,t){r&1&&(s(0,"span",5),l(1,"Tous les statuts"),c())}function at(r,t){r&1&&_(0,"i",12)}function dt(r,t){r&1&&_(0,"i",12)}function lt(r,t){if(r&1){let e=v();s(0,"button",9),y("click",function(){let n=p(e).$implicit,a=d(2);return g(a.selectStatut(n))}),s(1,"span",15),l(2),c(),f(3,dt,1,0,"i",12),c()}if(r&2){let e=t.$implicit,i=d(2);E("bg-primary-50",i.selectedStatut()===e)("dark:bg-primary-900/20",i.selectedStatut()===e),o(),D(i.getStatutBadgeClass(e)),o(),h(" ",i.getStatutLabel(e)," "),o(),b(i.selectedStatut()===e?3:-1)}}function st(r,t){if(r&1){let e=v();s(0,"div",7)(1,"button",9),y("click",function(){p(e);let n=d();return g(n.selectStatut(""))}),_(2,"i",10),s(3,"span",11),l(4,"Tous les statuts"),c(),f(5,at,1,0,"i",12),c(),_(6,"div",13),P(7,lt,4,8,"button",14,N),c()}if(r&2){let e=d();o(),E("bg-primary-50",!e.selectedStatut())("dark:bg-primary-900/20",!e.selectedStatut()),o(4),b(e.selectedStatut()?-1:5),o(2),L(e.statuts)}}var Ce=class r{selectedStatut=x("");statutChange=C();showDropdown=w(!1);statuts=Je();getStatutLabel=Q;toggleDropdown(){this.showDropdown.update(t=>!t)}selectStatut(t){this.statutChange.emit(t),this.showDropdown.set(!1)}getStatutBadgeClass(t){return t?`status-${t}`:""}getStatutLabelOrAll(t){return t?this.getStatutLabel(t):"Tous les statuts"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-status-filter"]],inputs:{selectedStatut:[1,"selectedStatut"]},outputs:{statutChange:"statutChange"},decls:8,vars:24,consts:[[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-clipboard-list","text-gray-400","transition-all"],[1,"status-badge","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"status-badge","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"status-badge"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return i.toggleDropdown()}),s(2,"div",2),_(3,"i",3),f(4,nt,2,3,"span",4)(5,ot,2,0,"span",5),c(),_(6,"i",6),c(),f(7,st,9,5,"div",7),c()),e&2&&(o(),E("ring-2",i.showDropdown())("ring-primary-500",i.showDropdown())("dark:ring-primary-400",i.showDropdown())("border-primary-500",i.showDropdown())("dark:border-primary-400",i.showDropdown()),o(2),E("text-primary-600",i.showDropdown())("dark:text-primary-400",i.showDropdown())("scale-110",i.showDropdown()),o(),b(i.selectedStatut()?4:5),o(2),E("rotate-180",i.showDropdown())("text-primary-600",i.showDropdown())("dark:text-primary-400",i.showDropdown()),o(),b(i.showDropdown()?7:-1))},dependencies:[M],encapsulation:2})};function ct(r,t){if(r&1&&(s(0,"span",8),l(1),c()),r&2){let e=d();D(e.getPrioriteBadgeClass(e.selectedPriorite())),o(),h(" ",e.getPrioriteLabelOrAll(e.selectedPriorite())," ")}}function ut(r,t){r&1&&(s(0,"span",5),l(1,"Toutes les priorit\xE9s"),c())}function mt(r,t){r&1&&_(0,"i",12)}function pt(r,t){r&1&&_(0,"i",12)}function gt(r,t){if(r&1){let e=v();s(0,"button",9),y("click",function(){let n=p(e).$implicit,a=d(2);return g(a.selectPriorite(n))}),s(1,"span",15),l(2),c(),f(3,pt,1,0,"i",12),c()}if(r&2){let e=t.$implicit,i=d(2);E("bg-primary-50",i.selectedPriorite()===e)("dark:bg-primary-900/20",i.selectedPriorite()===e),o(),D(i.getPrioriteBadgeClass(e)),o(),h(" ",i.getPrioriteLabel(e)," "),o(),b(i.selectedPriorite()===e?3:-1)}}function Ct(r,t){if(r&1){let e=v();s(0,"div",7)(1,"button",9),y("click",function(){p(e);let n=d();return g(n.selectPriorite(""))}),_(2,"i",10),s(3,"span",11),l(4,"Toutes les priorit\xE9s"),c(),f(5,mt,1,0,"i",12),c(),_(6,"div",13),P(7,gt,4,8,"button",14,N),c()}if(r&2){let e=d();o(),E("bg-primary-50",!e.selectedPriorite())("dark:bg-primary-900/20",!e.selectedPriorite()),o(4),b(e.selectedPriorite()?-1:5),o(2),L(e.priorites)}}var _e=class r{selectedPriorite=x("");prioriteChange=C();showDropdown=w(!1);priorites=Object.values(U);getPrioriteLabel=R;toggleDropdown(){this.showDropdown.update(t=>!t)}selectPriorite(t){this.prioriteChange.emit(t),this.showDropdown.set(!1)}getPrioriteBadgeClass(t){return t&&{HAUTE:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",MOYENNE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",BASSE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}[t]||""}getPrioriteLabelOrAll(t){return t?this.getPrioriteLabel(t):"Toutes les priorit\xE9s"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-priority-filter"]],inputs:{selectedPriorite:[1,"selectedPriorite"]},outputs:{prioriteChange:"prioriteChange"},decls:8,vars:24,consts:[[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-flag","text-gray-400","transition-all"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return i.toggleDropdown()}),s(2,"div",2),_(3,"i",3),f(4,ct,2,3,"span",4)(5,ut,2,0,"span",5),c(),_(6,"i",6),c(),f(7,Ct,9,5,"div",7),c()),e&2&&(o(),E("ring-2",i.showDropdown())("ring-primary-500",i.showDropdown())("dark:ring-primary-400",i.showDropdown())("border-primary-500",i.showDropdown())("dark:border-primary-400",i.showDropdown()),o(2),E("text-primary-600",i.showDropdown())("dark:text-primary-400",i.showDropdown())("scale-110",i.showDropdown()),o(),b(i.selectedPriorite()?4:5),o(2),E("rotate-180",i.showDropdown())("text-primary-600",i.showDropdown())("dark:text-primary-400",i.showDropdown()),o(),b(i.showDropdown()?7:-1))},dependencies:[M],encapsulation:2})};function _t(r,t){if(r&1&&(s(0,"span",9),l(1),c()),r&2){let e=d();D(e.getTypeContratBadgeClass(e.selectedTypeContrat())),o(),h(" ",e.getTypeContratLabelOrAll(e.selectedTypeContrat())," ")}}function ft(r,t){r&1&&(s(0,"span",6),l(1,"Tous les types"),c())}function bt(r,t){r&1&&_(0,"i",13)}function xt(r,t){r&1&&_(0,"i",13)}function ht(r,t){if(r&1){let e=v();s(0,"button",10),y("click",function(){let n=p(e).$implicit,a=d(2);return g(a.selectTypeContrat(n))}),s(1,"span",16),l(2),c(),f(3,xt,1,0,"i",13),c()}if(r&2){let e=t.$implicit,i=d(2);E("bg-primary-50",i.selectedTypeContrat()===e)("dark:bg-primary-900/20",i.selectedTypeContrat()===e),o(),D(i.getTypeContratBadgeClass(e)),o(),h(" ",i.getTypeContratLabel(e)," "),o(),b(i.selectedTypeContrat()===e?3:-1)}}function vt(r,t){if(r&1){let e=v();s(0,"div",8)(1,"button",10),y("click",function(){p(e);let n=d();return g(n.selectTypeContrat(""))}),_(2,"i",11),s(3,"span",12),l(4,"Tous les types"),c(),f(5,bt,1,0,"i",13),c(),_(6,"div",14),P(7,ht,4,8,"button",15,N),c()}if(r&2){let e=d();o(),E("bg-primary-50",!e.selectedTypeContrat())("dark:bg-primary-900/20",!e.selectedTypeContrat()),o(4),b(e.selectedTypeContrat()?-1:5),o(2),L(e.typesContrat)}}var fe=class r{selectedTypeContrat=x("");typeContratChange=C();showTypeContratDropdown=w(!1);typesContrat=Object.values(j);getTypeContratLabel=I;toggleTypeContratDropdown(){this.showTypeContratDropdown.update(t=>!t)}selectTypeContrat(t){this.typeContratChange.emit(t),this.showTypeContratDropdown.set(!1)}getTypeContratBadgeClass(t){return t&&{CDI:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",CDD:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-300",FREELANCE:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",STAGE:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",ALTERNANCE:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300",INTERIM:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}[t]||""}getTypeContratLabelOrAll(t){return t?this.getTypeContratLabel(t):"Tous les types"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-contrat-filter"]],inputs:{selectedTypeContrat:[1,"selectedTypeContrat"]},outputs:{typeContratChange:"typeContratChange"},decls:9,vars:20,consts:[[1,"lg:w-auto","flex-auto"],[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-file-contract","text-gray-400","transition-all"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"button",2),y("click",function(){return i.toggleTypeContratDropdown()}),s(3,"div",3),_(4,"i",4),f(5,_t,2,3,"span",5)(6,ft,2,0,"span",6),c(),_(7,"i",7),c(),f(8,vt,9,5,"div",8),c()()),e&2&&(o(2),E("ring-2",i.showTypeContratDropdown())("ring-primary-500",i.showTypeContratDropdown())("dark:ring-primary-400",i.showTypeContratDropdown())("border-primary-500",i.showTypeContratDropdown())("dark:border-primary-400",i.showTypeContratDropdown()),o(2),E("text-primary-600",i.showTypeContratDropdown())("dark:text-primary-400",i.showTypeContratDropdown())("scale-110",i.showTypeContratDropdown()),o(),b(i.selectedTypeContrat()?5:6),o(2),E("rotate-180",i.showTypeContratDropdown()),o(),b(i.showTypeContratDropdown()?8:-1))},dependencies:[M],encapsulation:2})};var Xe=()=>[0,1,2,3,4,5];function yt(r,t){r&1&&_(0,"i",3)}function wt(r,t){r&1&&_(0,"i",4)}function St(r,t){if(r&1){let e=v();s(0,"div",5)(1,"span",7),_(2,"i",8),l(3),c(),s(4,"button",9),y("click",function(){p(e);let n=d();return g(n.onClearFilters())}),_(5,"i",10),s(6,"span",11),l(7,"Effacer"),c()()()}if(r&2){let e=d();o(3),h(" ",e.activeFiltersCount()," filtre(s) actif(s) ")}}function kt(r,t){if(r&1&&(s(0,"span",40),l(1),c()),r&2){let e=t.$implicit,i=d(2);E("text-primary-600",i.selectedScoreMin()===e)("dark:text-primary-400",i.selectedScoreMin()===e)("font-bold",i.selectedScoreMin()===e),o(),z(e)}}function Tt(r,t){if(r&1&&(s(0,"span",40),l(1),c()),r&2){let e=t.$implicit,i=d(2);E("text-primary-600",i.selectedScoreMax()===e)("dark:text-primary-400",i.selectedScoreMax()===e)("font-bold",i.selectedScoreMax()===e),o(),z(e)}}function Et(r,t){if(r&1){let e=v();s(0,"div",6)(1,"div",12)(2,"div",13)(3,"div",14),_(4,"i",15),l(5," Score "),c(),s(6,"div",16)(7,"div")(8,"label",17)(9,"span",18),l(10,"Minimum"),c(),s(11,"span",19),l(12),c()(),s(13,"input",20),y("input",function(n){p(e);let a=d();return g(a.onScoreMinChange(+n.target.value))}),c(),s(14,"div",21),P(15,kt,2,7,"span",22,N),c()(),s(17,"div")(18,"label",23)(19,"span",18),l(20,"Maximum"),c(),s(21,"span",19),l(22),c()(),s(23,"input",24),y("input",function(n){p(e);let a=d();return g(a.onScoreMaxChange(+n.target.value))}),c(),s(24,"div",21),P(25,Tt,2,7,"span",22,N),c()()()(),s(27,"div",13)(28,"div",14),_(29,"i",25),l(30," P\xE9riode "),c(),s(31,"div",13)(32,"div")(33,"label",26),l(34," D\xE9but "),c(),s(35,"div",27),_(36,"i",28),s(37,"input",29),y("input",function(n){p(e);let a=d();return g(a.onDateDebutChange(n.target.value))}),c()()(),s(38,"div")(39,"label",30),l(40," Fin "),c(),s(41,"div",27),_(42,"i",31),s(43,"input",32),y("input",function(n){p(e);let a=d();return g(a.onDateFinChange(n.target.value))}),c()()()()(),s(44,"div",13)(45,"label",14),_(46,"i",33),l(47," Options "),c(),s(48,"label",34)(49,"input",35),y("change",function(n){p(e);let a=d();return g(a.onNonArchivedChange(n.target.checked))}),c(),s(50,"div",36)(51,"div",5),_(52,"i",37),s(53,"span",38),l(54," Afficher non archiv\xE9es "),c()()()(),s(55,"label",34)(56,"input",35),y("change",function(n){p(e);let a=d();return g(a.onArchivedChange(n.target.checked))}),c(),s(57,"div",36)(58,"div",5),_(59,"i",39),s(60,"span",38),l(61," Afficher archiv\xE9es "),c()()()()()()()}if(r&2){let e=d();o(12),h(" ",e.selectedScoreMin()," "),o(),H("value",e.selectedScoreMin()),o(2),L(re(8,Xe)),o(7),h(" ",e.selectedScoreMax()," "),o(),H("value",e.selectedScoreMax()),o(2),L(re(9,Xe)),o(12),H("value",e.dateDebut()),o(6),H("value",e.dateFin()),o(6),H("checked",e.showNonArchivedCandidatures()),o(7),H("checked",e.showArchivedCandidatures())}}var be=class r{selectedScoreMin=x(0);selectedScoreMax=x(5);dateDebut=x("");dateFin=x("");showArchivedCandidatures=x(!1);showNonArchivedCandidatures=x(!0);activeFiltersCount=x(0);scoreMinChange=C();scoreMaxChange=C();dateDebutChange=C();dateFinChange=C();archivedChange=C();nonArchivedChange=C();clearFilters=C();showAdvancedFilters=w(!1);typesContrat=Object.values(j);toggleAdvancedFilters(){this.showAdvancedFilters.update(t=>!t)}onScoreMinChange(t){this.scoreMinChange.emit(t)}onScoreMaxChange(t){this.scoreMaxChange.emit(t)}onDateDebutChange(t){this.dateDebutChange.emit(t)}onDateFinChange(t){this.dateFinChange.emit(t)}onArchivedChange(t){this.archivedChange.emit(t)}onNonArchivedChange(t){this.nonArchivedChange.emit(t)}onClearFilters(){this.clearFilters.emit()}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-advanced-filters"]],inputs:{selectedScoreMin:[1,"selectedScoreMin"],selectedScoreMax:[1,"selectedScoreMax"],dateDebut:[1,"dateDebut"],dateFin:[1,"dateFin"],showArchivedCandidatures:[1,"showArchivedCandidatures"],showNonArchivedCandidatures:[1,"showNonArchivedCandidatures"],activeFiltersCount:[1,"activeFiltersCount"]},outputs:{scoreMinChange:"scoreMinChange",scoreMaxChange:"scoreMaxChange",dateDebutChange:"dateDebutChange",dateFinChange:"dateFinChange",archivedChange:"archivedChange",nonArchivedChange:"nonArchivedChange",clearFilters:"clearFilters"},decls:9,vars:7,consts:[[1,"flex","flex-wrap","items-center","gap-3"],[1,"btn-outline","text-sm","cursor-pointer",3,"click"],[1,"fas","fa-sliders-h"],[1,"fas","fa-chevron-up","text-xs"],[1,"fas","fa-chevron-down","text-xs"],[1,"flex","items-center","gap-2"],[1,"mt-6","pt-6","border-t","border-gray-200","dark:border-gray-700","animate-in","slide-in-from-top-2","fade-in","duration-300"],[1,"px-3","py-1.5","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300","rounded-full","text-sm","font-medium","flex","items-center","gap-2"],[1,"fas","fa-filter","text-xs"],[1,"btn-outline-danger","text-sm","cursor-pointer",3,"click"],[1,"fas","fa-times"],[1,"hidden","sm:inline"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"space-y-3"],[1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300"],[1,"fas","fa-star","text-yellow-500"],[1,"space-y-4"],["for","score-min-range",1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-xs","font-bold","text-primary-600","dark:text-primary-400","px-2","py-1","bg-primary-50","dark:bg-primary-900/30","rounded-full"],["id","score-min-range","type","range","min","0","max","5","step","1",1,"w-full","h-2","bg-gray-200","dark:bg-gray-700","rounded-lg","appearance-none","cursor-pointer","accent-primary-600","dark:accent-primary-400","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors",3,"input","value"],[1,"flex","justify-between","mt-1"],[1,"text-xs","text-gray-400",3,"text-primary-600","dark:text-primary-400","font-bold"],["for","score-max-range",1,"flex","items-center","justify-between","mb-2"],["id","score-max-range","type","range","min","0","max","5","step","1",1,"w-full","h-2","bg-gray-200","dark:bg-gray-700","rounded-lg","appearance-none","cursor-pointer","accent-primary-600","dark:accent-primary-400","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors",3,"input","value"],[1,"fas","fa-calendar-alt","text-blue-500"],["for","date-debut",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400","mb-1.5"],[1,"relative"],[1,"fas","fa-calendar","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["id","date-debut","type","date",1,"input","pl-10","w-full","cursor-pointer","hover:border-primary-400","dark:hover:border-primary-500","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","transition-all",3,"input","value"],["for","date-fin",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400","mb-1.5"],[1,"fas","fa-calendar-check","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["id","date-fin","type","date",1,"input","pl-10","w-full","cursor-pointer","hover:border-primary-400","dark:hover:border-primary-500","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","transition-all",3,"input","value"],[1,"fas","fa-cog","text-gray-500"],[1,"flex","items-center","gap-3","p-4","rounded-lg","border","border-gray-200","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-700/30","cursor-pointer","transition-all","group"],["type","checkbox",1,"w-5","h-5","text-primary-600","bg-gray-100","dark:bg-gray-700","border-gray-300","dark:border-gray-600","rounded","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","cursor-pointer",3,"change","checked"],[1,"flex-1"],[1,"fas","fa-inbox","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-300","transition-colors"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","group-hover:text-gray-900","dark:group-hover:text-white","transition-colors"],[1,"fas","fa-archive","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-300","transition-colors"],[1,"text-xs","text-gray-400"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return i.toggleAdvancedFilters()}),_(2,"i",2),s(3,"span"),l(4,"Filtres avanc\xE9s"),c(),f(5,yt,1,0,"i",3)(6,wt,1,0,"i",4),c(),f(7,St,8,1,"div",5),c(),f(8,Et,62,10,"div",6)),e&2&&(o(),E("bg-primary-50",i.showAdvancedFilters())("dark:bg-primary-900/20",i.showAdvancedFilters()),o(4),b(i.showAdvancedFilters()?5:6),o(2),b(i.activeFiltersCount()>0?7:-1),o(),b(i.showAdvancedFilters()?8:-1))},dependencies:[M,ie],encapsulation:2})};var Dt=(r,t)=>t.key;function Ft(r,t){if(r&1&&(s(0,"span",4),l(1),c()),r&2){let e=d();o(),h(" ",e.getVisibleColumnCount()," ")}}function Mt(r,t){if(r&1){let e=v();s(0,"div",19),y("dragstart",function(n){let a=p(e).$index,A=d(2);return g(A.onDragStart(a,n))})("dragover",function(n){let a=p(e).$index,A=d(2);return g(A.onDragOver(a,n))})("drop",function(n){let a=p(e).$index,A=d(2);return g(A.onDrop(a,n))})("dragend",function(){p(e);let n=d(2);return g(n.onDragEnd())}),_(1,"span",20),s(2,"input",21),y("change",function(){let n=p(e).$implicit,a=d(2);return g(a.onToggleColumn(n.key))}),c(),s(3,"label",22),l(4),c()()}if(r&2){let e=t.$implicit,i=t.$index,n=d(2);E("bg-primary-50",n.dragOverIndex===i),Le("aria-grabbed",n.draggedIndex===i)("tabindex",0)("aria-dropeffect",n.draggedIndex!==null?"move":null),o(2),H("id","col-checkbox-"+e.key)("checked",n.isColumnVisible(e.key)),o(),H("htmlFor","col-checkbox-"+e.key),o(),h(" ",e.label," ")}}function Vt(r,t){r&1&&(s(0,"div",13)(1,"p"),l(2,"Aucune colonne trouv\xE9e"),c()())}function At(r,t){if(r&1){let e=v();s(0,"div",6)(1,"div",8)(2,"div",0),_(3,"i",9),s(4,"input",10),y("input",function(n){p(e);let a=d();return g(a.updateSearchTerm(n.target.value))}),c()()(),s(5,"div",11),P(6,Mt,5,9,"div",12,Dt),f(8,Vt,3,0,"div",13),c(),s(9,"div",14)(10,"button",15),y("click",function(){p(e);let n=d();return g(n.onShowAllColumns())}),_(11,"i",16),l(12," Tout afficher "),c(),s(13,"button",17),y("click",function(){p(e);let n=d();return g(n.onHideAllColumns())}),_(14,"i",18),l(15," Tout masquer "),c()()()}if(r&2){let e=d();o(4),H("value",e.searchColumnTerm()),o(2),L(e.getFilteredColumns()),o(2),b(e.getFilteredColumns().length===0?8:-1)}}function Pt(r,t){if(r&1){let e=v();s(0,"div",23),y("click",function(){p(e);let n=d();return g(n.closeColumnSelector())})("keyup.enter",function(){p(e);let n=d();return g(n.closeColumnSelector())})("keydown.space",function(){p(e);let n=d();return g(n.closeColumnSelector())}),c()}}var xe=class r{visibleColumns=x(new Set);availableColumns=x([]);toggleColumn=C();showAllColumns=C();hideAllColumns=C();showColumnSelector=w(!1);searchColumnTerm=w("");toggleColumnSelector(){this.showColumnSelector.update(t=>!t)}closeColumnSelector(){this.showColumnSelector.set(!1)}isColumnVisible(t){return this.visibleColumns().has(t)}getVisibleColumnCount(){return this.visibleColumns().size}onToggleColumn(t){this.toggleColumn.emit(t)}onShowAllColumns(){this.showAllColumns.emit()}onHideAllColumns(){this.hideAllColumns.emit()}updateSearchTerm(t){this.searchColumnTerm.set(t)}draggedIndex=null;dragOverIndex=null;columnsReordered=C();localColumns=[];ngOnInit(){this.localColumns=[...this.availableColumns()]}ngOnChanges(){this.localColumns=[...this.availableColumns()]}getFilteredColumns(){let t=this.searchColumnTerm().toLowerCase(),e=this.localColumns;return t?e.filter(i=>i.label.toLowerCase().includes(t)):e}onDragStart(t,e){this.draggedIndex=t,e.dataTransfer?.setData("text/plain",t.toString()),e.dataTransfer.effectAllowed="move"}onDragOver(t,e){e.preventDefault(),this.dragOverIndex=t}onDrop(t,e){if(e.preventDefault(),this.draggedIndex===null||this.draggedIndex===t)return;let i=[...this.localColumns],[n]=i.splice(this.draggedIndex,1);i.splice(t,0,n),this.localColumns=i,this.draggedIndex=null,this.dragOverIndex=null,this.columnsReordered.emit(i)}onDragEnd(){this.draggedIndex=null,this.dragOverIndex=null}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-column-selector"]],inputs:{visibleColumns:[1,"visibleColumns"],availableColumns:[1,"availableColumns"]},outputs:{toggleColumn:"toggleColumn",showAllColumns:"showAllColumns",hideAllColumns:"hideAllColumns",columnsReordered:"columnsReordered"},features:[Ae],decls:9,vars:9,consts:[[1,"relative"],[1,"flex","items-center","gap-2","px-4","py-2.5","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-all","shadow-sm","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-columns","text-gray-600","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"px-2","py-0.5","text-xs","font-semibold","bg-blue-100","dark:bg-blue-900/50","text-blue-800","dark:text-blue-300","rounded-full"],[1,"fas","fa-chevron-down","text-xs","transition-transform"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","border","border-gray-200","dark:border-gray-700","z-[9999]"],["tabindex","0","role","button","aria-label","Fermer le s\xE9lecteur de colonnes",1,"fixed","inset-0","z-[9998]"],[1,"p-3","border-b","border-gray-200","dark:border-gray-700"],[1,"fas","fa-search","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["type","text","placeholder","Rechercher une colonne...",1,"w-full","pl-9","pr-3","py-2","text-sm","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-50","dark:bg-gray-900","text-gray-900","dark:text-gray-100","placeholder-gray-500","dark:placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],[1,"max-h-96","overflow-y-auto","p-2"],["draggable","true",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","group","transition-colors","cursor-move","select-none",3,"bg-primary-50"],[1,"px-3","py-4","text-center","text-sm","text-gray-500","dark:text-gray-400"],[1,"p-3","border-t","border-gray-200","dark:border-gray-700","flex","gap-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-blue-600","dark:text-blue-400","hover:bg-blue-50","dark:hover:bg-blue-900/30","rounded-lg","transition-colors","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-check-double","mr-1.5"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-gray-600","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-lg","transition-colors","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-times","mr-1.5"],["draggable","true",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","group","transition-colors","cursor-move","select-none",3,"dragstart","dragover","drop","dragend"],[1,"fas","fa-grip-lines","text-gray-400","mr-1","cursor-move"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","dark:bg-gray-700","border-gray-300","dark:border-gray-600","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","focus:ring-2","cursor-pointer",3,"change","id","checked"],[1,"flex-1","text-sm","font-medium","text-gray-700","dark:text-gray-300","group-hover:text-gray-900","dark:group-hover:text-gray-100","cursor-pointer",3,"for"],["tabindex","0","role","button","aria-label","Fermer le s\xE9lecteur de colonnes",1,"fixed","inset-0","z-[9998]",3,"click","keyup.enter","keydown.space"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return i.toggleColumnSelector()}),_(2,"i",2),s(3,"span",3),l(4,"Colonnes"),c(),f(5,Ft,2,1,"span",4),_(6,"i",5),c(),f(7,At,16,2,"div",6),f(8,Pt,1,0,"div",7),c()),e&2&&(o(),E("ring-2",i.showColumnSelector())("ring-blue-500",i.showColumnSelector()),o(4),b(i.getVisibleColumnCount()>0?5:-1),o(),E("rotate-180",i.showColumnSelector()),o(),b(i.showColumnSelector()?7:-1),o(),b(i.showColumnSelector()?8:-1))},dependencies:[M],encapsulation:2})};var he=class r{searchTerm=x("");selectedStatut=x("");selectedPriorite=x("");selectedTypeContrat=x("");selectedScoreMin=x(0);selectedScoreMax=x(5);dateDebut=x("");dateFin=x("");showArchivedCandidatures=x(!1);showNonArchivedCandidatures=x(!0);activeFiltersCount=x(0);visibleColumnsSet=x(new Set);availableColumns=x([]);searchTermChange=C();statutChange=C();prioriteChange=C();typeContratChange=C();scoreMinChange=C();scoreMaxChange=C();dateDebutChange=C();dateFinChange=C();archivedChange=C();nonArchivedChange=C();clearFilters=C();toggleColumn=C();showAllColumns=C();hideAllOptionalColumns=C();columnsReordered=C();static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-candidature-filters"]],inputs:{searchTerm:[1,"searchTerm"],selectedStatut:[1,"selectedStatut"],selectedPriorite:[1,"selectedPriorite"],selectedTypeContrat:[1,"selectedTypeContrat"],selectedScoreMin:[1,"selectedScoreMin"],selectedScoreMax:[1,"selectedScoreMax"],dateDebut:[1,"dateDebut"],dateFin:[1,"dateFin"],showArchivedCandidatures:[1,"showArchivedCandidatures"],showNonArchivedCandidatures:[1,"showNonArchivedCandidatures"],activeFiltersCount:[1,"activeFiltersCount"],visibleColumnsSet:[1,"visibleColumnsSet"],availableColumns:[1,"availableColumns"]},outputs:{searchTermChange:"searchTermChange",statutChange:"statutChange",prioriteChange:"prioriteChange",typeContratChange:"typeContratChange",scoreMinChange:"scoreMinChange",scoreMaxChange:"scoreMaxChange",dateDebutChange:"dateDebutChange",dateFinChange:"dateFinChange",archivedChange:"archivedChange",nonArchivedChange:"nonArchivedChange",clearFilters:"clearFilters",toggleColumn:"toggleColumn",showAllColumns:"showAllColumns",hideAllOptionalColumns:"hideAllOptionalColumns",columnsReordered:"columnsReordered"},decls:13,vars:13,consts:[[1,"card","mb-6","backdrop-blur-sm","bg-white/80","dark:bg-gray-800/80","shadow-lg","relative","z-40"],[1,"flex","flex-col","lg:flex-row","gap-4","mb-4"],[1,"flex-[2]"],[3,"searchTermChange","searchTerm"],[1,"w-auto","flex-[1]"],[3,"statutChange","selectedStatut"],[3,"prioriteChange","selectedPriorite"],[3,"typeContratChange","selectedTypeContrat"],[1,"flex","flex-col","justify-between","lg:flex-row","gap-4"],[3,"scoreMinChange","scoreMaxChange","dateDebutChange","dateFinChange","archivedChange","nonArchivedChange","clearFilters","selectedScoreMin","selectedScoreMax","dateDebut","dateFin","showArchivedCandidatures","showNonArchivedCandidatures","activeFiltersCount"],[3,"toggleColumn","showAllColumns","hideAllColumns","columnsReordered","visibleColumns","availableColumns"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search-bar",3),S("searchTermChange",function(a){return i.searchTermChange.emit(a)}),m()(),u(4,"div",4)(5,"app-status-filter",5),S("statutChange",function(a){return i.statutChange.emit(a)}),m()(),u(6,"div",4)(7,"app-priority-filter",6),S("prioriteChange",function(a){return i.prioriteChange.emit(a)}),m()(),u(8,"div",4)(9,"app-contrat-filter",7),S("typeContratChange",function(a){return i.typeContratChange.emit(a)}),m()()(),u(10,"div",8)(11,"app-advanced-filters",9),S("scoreMinChange",function(a){return i.scoreMinChange.emit(a)})("scoreMaxChange",function(a){return i.scoreMaxChange.emit(a)})("dateDebutChange",function(a){return i.dateDebutChange.emit(a)})("dateFinChange",function(a){return i.dateFinChange.emit(a)})("archivedChange",function(a){return i.archivedChange.emit(a)})("nonArchivedChange",function(a){return i.nonArchivedChange.emit(a)})("clearFilters",function(){return i.clearFilters.emit()}),m(),u(12,"app-column-selector",10),S("toggleColumn",function(a){return i.toggleColumn.emit(a)})("showAllColumns",function(){return i.showAllColumns.emit()})("hideAllColumns",function(){return i.hideAllOptionalColumns.emit()})("columnsReordered",function(a){return i.columnsReordered.emit(a)}),m()()()),e&2&&(o(3),T("searchTerm",i.searchTerm()),o(2),T("selectedStatut",i.selectedStatut()),o(2),T("selectedPriorite",i.selectedPriorite()),o(2),T("selectedTypeContrat",i.selectedTypeContrat()),o(2),T("selectedScoreMin",i.selectedScoreMin())("selectedScoreMax",i.selectedScoreMax())("dateDebut",i.dateDebut())("dateFin",i.dateFin())("showArchivedCandidatures",i.showArchivedCandidatures())("showNonArchivedCandidatures",i.showNonArchivedCandidatures())("activeFiltersCount",i.activeFiltersCount()),o(),T("visibleColumns",i.visibleColumnsSet())("availableColumns",i.availableColumns()))},dependencies:[M,ge,Ce,_e,fe,be,xe],encapsulation:2})};function Lt(r,t){if(r&1){let e=v();s(0,"span",3),_(1,"i",9),l(2),s(3,"button",10),y("click",function(){p(e);let n=d();return g(n.clearSearch.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();o(2),h(' "',e.filters().searchTerm,'" ')}}function Nt(r,t){if(r&1){let e=v();s(0,"span",12),l(1),s(2,"button",13),y("click",function(){p(e);let n=d();return g(n.clearStatut.emit())}),_(3,"i",11),c()()}if(r&2){let e=d();D(e.getStatutBadgeClass(e.filters().selectedStatut)),o(),h(" ",e.filters().selectedStatut," ")}}function Rt(r,t){if(r&1){let e=v();s(0,"span",14),_(1,"i",15),l(2),s(3,"button",13),y("click",function(){p(e);let n=d();return g(n.clearPriorite.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();D(e.getPrioriteBadgeClass(e.filters().selectedPriorite)),o(2),h(" ",e.getPrioriteLabelSafe(e.filters().selectedPriorite)," ")}}function It(r,t){if(r&1){let e=v();s(0,"span",14),_(1,"i",16),l(2),s(3,"button",13),y("click",function(){p(e);let n=d();return g(n.clearTypeContrat.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();D(e.getTypeContratBadgeClass(e.filters().selectedTypeContrat)),o(2),h(" ",e.getTypeContratLabelSafe(e.filters().selectedTypeContrat)," ")}}function Bt(r,t){if(r&1){let e=v();s(0,"span",6),_(1,"i",17),l(2),s(3,"button",10),y("click",function(){p(e);let n=d();return g(n.clearScore.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();o(2),ae(" Score: ",e.filters().selectedScoreMin," - ",e.filters().selectedScoreMax," ")}}function Ot(r,t){if(r&1){let e=v();s(0,"span",7),_(1,"i",18),l(2),s(3,"button",10),y("click",function(){p(e);let n=d();return g(n.clearDateDebut.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();o(2),h(" Depuis: ",e.filters().dateDebut," ")}}function $t(r,t){if(r&1){let e=v();s(0,"span",8),_(1,"i",19),l(2),s(3,"button",10),y("click",function(){p(e);let n=d();return g(n.clearDateFin.emit())}),_(4,"i",11),c()()}if(r&2){let e=d();o(2),h(" Jusqu'\xE0: ",e.filters().dateFin," ")}}var ve=class r{filters=x.required();clearSearch=C();clearStatut=C();clearPriorite=C();clearTypeContrat=C();clearScore=C();clearDateDebut=C();clearDateFin=C();getStatutBadgeClass(t){return t?`status-${t}`:""}getPrioriteBadgeClass(t){return t&&{HAUTE:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",MOYENNE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",BASSE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}[t]||""}getTypeContratBadgeClass(t){return t&&{CDI:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",CDD:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",FREELANCE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",STAGE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",ALTERNANCE:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",INTERIM:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300"}[t]||""}getStatutLabel=Q;getPrioriteLabel=R;getTypeContratLabel=I;getPrioriteLabelSafe(t){return t?R(t):""}getTypeContratLabelSafe(t){return t?I(t):""}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-filter-chips"]],inputs:{filters:[1,"filters"]},outputs:{clearSearch:"clearSearch",clearStatut:"clearStatut",clearPriorite:"clearPriorite",clearTypeContrat:"clearTypeContrat",clearScore:"clearScore",clearDateDebut:"clearDateDebut",clearDateFin:"clearDateFin"},decls:11,vars:7,consts:[[1,"flex","items-center","gap-2","flex-wrap"],[1,"text-xs","text-gray-500","dark:text-gray-400","font-semibold","flex","items-center","gap-1"],[1,"fas","fa-filter"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300","rounded-full","text-xs","font-medium"],[1,"status-badge","text-xs",3,"class"],[1,"inline-flex","items-center","gap-1","px-3","py-1","rounded-full","text-xs","font-medium",3,"class"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-amber-100","dark:bg-amber-900/30","text-amber-700","dark:text-amber-300","rounded-full","text-xs","font-medium"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-blue-100","dark:bg-blue-900/30","text-blue-700","dark:text-blue-300","rounded-full","text-xs","font-medium"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-green-100","dark:bg-green-900/30","text-green-700","dark:text-green-300","rounded-full","text-xs","font-medium"],[1,"fas","fa-search"],[1,"ml-1","cursor-pointer","hover:text-red-600",3,"click"],[1,"fas","fa-times"],[1,"status-badge","text-xs"],[1,"ml-1","cursor-pointer","hover:opacity-70",3,"click"],[1,"inline-flex","items-center","gap-1","px-3","py-1","rounded-full","text-xs","font-medium"],[1,"fas","fa-flag"],[1,"fas","fa-file-contract"],[1,"fas","fa-star"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-check"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"span",1),_(2,"i",2),l(3," Filtres actifs: "),c(),f(4,Lt,5,1,"span",3),f(5,Nt,4,3,"span",4),f(6,Rt,5,3,"span",5),f(7,It,5,3,"span",5),f(8,Bt,5,2,"span",6),f(9,Ot,5,1,"span",7),f(10,$t,5,1,"span",8),c()),e&2&&(o(4),b(i.filters().searchTerm?4:-1),o(),b(i.filters().selectedStatut?5:-1),o(),b(i.filters().selectedPriorite?6:-1),o(),b(i.filters().selectedTypeContrat?7:-1),o(),b(i.filters().selectedScoreMin>0||i.filters().selectedScoreMax<5?8:-1),o(),b(i.filters().dateDebut?9:-1),o(),b(i.filters().dateFin?10:-1))},dependencies:[M],encapsulation:2})};var Ht=["appTableHeader",""],jt=(r,t)=>t.key;function zt(r,t){if(r&1&&_(0,"i",4),r&2){let e=d().$implicit,i=d();D(i.getSortIcon(e.key))}}function qt(r,t){if(r&1){let e=v();s(0,"th",1),y("click",function(){let n=p(e).$implicit,a=d();return g(a.onColumnClick(n))}),s(1,"div",2)(2,"span"),l(3),c(),f(4,zt,1,2,"i",3),c()()}if(r&2){let e=t.$implicit;E("w-20",e.key==="id")("w-40",e.key==="typeContrat"||e.key==="dateCandidature")("w-32",e.key==="statut"||e.key==="priorite"||e.key==="score")("w-36",e.key==="salaire")("w-28",e.key==="actions")("min-w-[150px]",e.key==="entreprise"||e.key==="poste")("min-w-[120px]",e.key==="localisation"||e.key==="source"||e.key==="contact")("cursor-pointer",e.sortable)("hover:bg-gray-100",e.sortable)("dark:hover:bg-gray-700/50",e.sortable)("hover:text-primary-600",e.sortable)("dark:hover:text-primary-400",e.sortable),o(3),z(e.label),o(),b(e.sortable?4:-1)}}var ye=class r{columns=x.required();sortColumn=x(null);sortDirection=x(null);sort=C();onColumnClick(t){if(!t.sortable)return;let e;this.sortColumn()===t.key?e=this.sortDirection()==="asc"?"desc":this.sortDirection()==="desc"?null:"asc":e="asc",this.sort.emit({column:e?t.key:"",direction:e})}getSortIcon(t){return this.sortColumn()!==t?"fa-sort text-gray-300 opacity-50 group-hover:opacity-100":this.sortDirection()==="asc"?"fa-sort-up text-primary-600 dark:text-primary-400 scale-110":"fa-sort-down text-primary-600 dark:text-primary-400 scale-110"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["","appTableHeader",""]],inputs:{columns:[1,"columns"],sortColumn:[1,"sortColumn"],sortDirection:[1,"sortDirection"]},outputs:{sort:"sort"},attrs:Ht,decls:3,vars:0,consts:[["scope","col",1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","dark:text-gray-300","uppercase","tracking-wider","border-b-2","border-gray-300","dark:border-gray-600","transition-all","duration-200",3,"w-20","w-40","w-32","w-36","w-28","min-w-[150px]","min-w-[120px]","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700/50","hover:text-primary-600","dark:hover:text-primary-400"],["scope","col",1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","dark:text-gray-300","uppercase","tracking-wider","border-b-2","border-gray-300","dark:border-gray-600","transition-all","duration-200",3,"click"],[1,"flex","items-center","gap-1.5"],[1,"fas","text-[10px]","transition-all","duration-200",3,"class"],[1,"fas","text-[10px]","transition-all","duration-200"]],template:function(e,i){e&1&&(s(0,"tr"),P(1,qt,5,26,"th",0,jt),c()),e&2&&(o(),L(i.columns()))},dependencies:[M],encapsulation:2})};var Qt=["typeContratBtn"],Yt=["statutBtn"],Ut=["prioriteBtn"],Kt=["dropdownTypeContrat"],Gt=["dropdownStatut"],Jt=["dropdownPriorite"],Wt=["appTableRow",""],tt=r=>["/candidatures",r],Xt=()=>[1,2,3,4,5];function Zt(r,t){if(r&1&&(u(0,"td",6)(1,"span",17),l(2),m()()),r&2){let e=d(2);o(2),h(" #",e.candidature().id," ")}}function ei(r,t){if(r&1&&(u(0,"td",7)(1,"span",18),l(2),m()()),r&2){let e=d(2);o(2),h(" ",e.candidature().entreprise||"-"," ")}}function ti(r,t){if(r&1&&(u(0,"td",8)(1,"a",19),l(2),m()()),r&2){let e=d(2);o(),T("routerLink",ne(2,tt,e.candidature().id)),o(),h(" ",e.candidature().poste||"-"," ")}}function ii(r,t){if(r&1&&(u(0,"td",8)(1,"div",20),k(2,"i",21),l(3),m()()),r&2){let e=d(2);o(3),h(" ",e.candidature().localisation||"-"," ")}}function ri(r,t){r&1&&k(0,"i",28)}function ni(r,t){if(r&1){let e=v();u(0,"button",26),S("click",function(){let n=p(e).$implicit,a=d(4);return g(a.onSaveEdit("typeContrat",n))}),u(1,"span",27),l(2),m(),f(3,ri,1,0,"i",28),m()}if(r&2){let e=t.$implicit,i=d(4);o(),D(i.getTypeContratBadgeClass(e)),o(),h(" ",i.getTypeContratLabel(e)," "),o(),b(i.candidature().typeContrat===e?3:-1)}}function oi(r,t){if(r&1&&(u(0,"div",23,1),P(2,ni,4,4,"button",25,N),m()),r&2){let e=d(3);T("ngStyle",e.getDropdownPosition("typeContrat")),o(2),L(e.typesContrat)}}function ai(r,t){if(r&1){let e=v();u(0,"td",9)(1,"div",22),f(2,oi,4,1,"div",23),u(3,"button",24,0),S("click",function(){p(e);let n=d(2);return g(n.onToggleDropdown("typeContrat"))}),l(5),m()()()}if(r&2){let e=d(2);o(2),b(e.isDropdownActive("typeContrat")?2:-1),o(),D(e.getTypeContratBadgeClassSafe(e.candidature().typeContrat)),o(2),h(" ",e.getTypeContratLabelSafe(e.candidature().typeContrat)," ")}}function di(r,t){if(r&1&&(u(0,"td",10)(1,"div",29)(2,"span"),l(3),m(),u(4,"span",30),l(5),de(6,"timeAgo"),m()()()),r&2){let e=d(2);o(3),z(e.formatDate(e.candidature().dateCandidature)),o(2),z(le(6,2,e.candidature().dateCandidature))}}function li(r,t){r&1&&k(0,"i",36)}function si(r,t){if(r&1){let e=v();u(0,"button",34),S("click",function(){let n=p(e).$implicit,a=d(4);return g(a.onSaveEdit("statut",n))}),u(1,"span",35),l(2),m(),f(3,li,1,0,"i",36),m()}if(r&2){let e=t.$implicit,i=d(4);o(),D(i.getStatutBadgeClass(e)),o(),h(" ",i.getStatutLabel(e)," "),o(),b(i.candidature().statut===e?3:-1)}}function ci(r,t){if(r&1&&(u(0,"div",31,3),P(2,si,4,4,"button",33,N),m()),r&2){let e=d(3);T("ngStyle",e.getDropdownPosition("statut")),o(2),L(e.statuts)}}function ui(r,t){if(r&1){let e=v();u(0,"td",11)(1,"div",22),f(2,ci,4,1,"div",31),u(3,"button",32,2),S("click",function(){p(e);let n=d(2);return g(n.onToggleDropdown("statut"))}),l(5),m()()()}if(r&2){let e=d(2);o(2),b(e.isDropdownActive("statut")?2:-1),o(),D(e.getStatutBadgeClass(e.candidature().statut)),o(2),h(" ",e.getStatutLabel(e.candidature().statut)," ")}}function mi(r,t){r&1&&k(0,"i",36)}function pi(r,t){if(r&1){let e=v();u(0,"button",34),S("click",function(){let n=p(e).$implicit,a=d(4);return g(a.onSaveEdit("priorite",n))}),u(1,"span",38),l(2),m(),f(3,mi,1,0,"i",36),m()}if(r&2){let e=t.$implicit,i=d(4);o(),D(i.getPrioriteBadgeClass(e)),o(),h(" ",i.getPrioriteLabel(e)," "),o(),b(i.candidature().priorite===e?3:-1)}}function gi(r,t){if(r&1&&(u(0,"div",31,5),P(2,pi,4,4,"button",33,N),m()),r&2){let e=d(3);T("ngStyle",e.getDropdownPosition("priorite")),o(2),L(e.priorites)}}function Ci(r,t){if(r&1){let e=v();u(0,"td",11)(1,"div",22),f(2,gi,4,1,"div",31),u(3,"button",37,4),S("click",function(){p(e);let n=d(2);return g(n.onToggleDropdown("priorite"))}),l(5),m()()()}if(r&2){let e=d(2);o(2),b(e.isDropdownActive("priorite")?2:-1),o(),D(e.getPrioriteBadgeClassSafe(e.candidature().priorite)),o(2),h(" ",e.getPrioriteLabelSafe(e.candidature().priorite)," ")}}function _i(r,t){if(r&1&&l(0),r&2){let e=d(3);ae(" ",e.candidature().salaireMin,"",e.candidature().salaireMax?" - "+e.candidature().salaireMax:""," \u20AC ")}}function fi(r,t){r&1&&l(0," - ")}function bi(r,t){if(r&1&&(u(0,"td",12)(1,"div",39),f(2,_i,1,2)(3,fi,1,0),m()()),r&2){let e=d(2);o(2),b(e.candidature().salaireMin?2:3)}}function xi(r,t){if(r&1){let e=v();u(0,"button",42),S("mouseenter",function(){let n=p(e).$implicit,a=d(3);return g(a.onScoreHover(n))})("click",function(){let n=p(e).$implicit,a=d(3);return g(a.onScoreClick(n))}),k(1,"i",43),m()}if(r&2){let e=t.$implicit,i=d(3);o(),D(e<=i.getDisplayScore()?"fas fa-star text-yellow-500 drop-shadow-lg":"far fa-star text-gray-300 dark:text-gray-600 hover:text-yellow-400")}}function hi(r,t){if(r&1){let e=v();u(0,"td",11)(1,"div",40),S("mouseleave",function(){p(e);let n=d(2);return g(n.onScoreLeave())}),P(2,xi,2,2,"button",41,N),m()()}r&2&&(o(2),L(re(0,Xt)))}function vi(r,t){if(r&1&&(u(0,"td",13),l(1),m()),r&2){let e=d(2);o(),h(" ",e.candidature().source||"-",`
`)}}function yi(r,t){if(r&1&&(u(0,"td",13),l(1),m()),r&2){let e=d(2);o(),h(" ",e.candidature().contactNom||"-",`
`)}}function wi(r,t){if(r&1&&(u(0,"td",14)(1,"div",44),l(2),m()()),r&2){let e=d(2);o(2),h(" ",e.candidature().description||"-"," ")}}function Si(r,t){if(r&1&&(u(0,"a",45),k(1,"i",47),l(2," Voir l'offre "),m()),r&2){let e=d(3);T("href",e.candidature().lienOffre,Pe)}}function ki(r,t){r&1&&(u(0,"span",46),l(1,"-"),m())}function Ti(r,t){if(r&1&&(u(0,"td",15),f(1,Si,3,1,"a",45)(2,ki,2,0,"span",46),m()),r&2){let e=d(2);o(),b(e.candidature().lienOffre?1:2)}}function Ei(r,t){if(r&1){let e=v();u(0,"td",16)(1,"div",48)(2,"button",49),k(3,"i",50),m(),u(4,"button",51),S("click",function(){p(e);let n=d(2);return g(n.onArchive())}),k(5,"i"),m(),u(6,"button",52),S("click",function(){p(e);let n=d(2);return g(n.onDelete())}),k(7,"i",53),m()()()}if(r&2){let e=d(2);o(2),T("routerLink",ne(4,tt,e.candidature().id)),o(2),T("title",e.candidature().archivee?"D\xE9sarchiver":"Archiver"),o(),D(e.candidature().archivee?"fas fa-box-open text-sm":"fas fa-archive text-sm")}}function Di(r,t){r&1&&k(0,"td")}function Fi(r,t){if(r&1&&f(0,Zt,3,1,"td",6)(1,ei,3,1,"td",7)(2,ti,3,4,"td",8)(3,ii,4,1,"td",8)(4,ai,6,4,"td",9)(5,di,7,4,"td",10)(6,ui,6,4,"td",11)(7,Ci,6,4,"td",11)(8,bi,4,1,"td",12)(9,hi,4,1,"td",11)(10,vi,2,1,"td",13)(11,yi,2,1,"td",13)(12,wi,3,1,"td",14)(13,Ti,3,1,"td",15)(14,Ei,8,6,"td",16)(15,Di,1,0,"td"),r&2){let e,i=t.$implicit;b((e=i)==="id"?0:e==="entreprise"?1:e==="poste"?2:e==="localisation"?3:e==="typeContrat"?4:e==="dateCandidature"?5:e==="statut"?6:e==="priorite"?7:e==="salaire"?8:e==="score"?9:e==="source"?10:e==="contact"?11:e==="description"?12:e==="lienOffre"?13:e==="actions"?14:15)}}var we=class r{candidature=x.required();visibleColumns=x([]);editingCell=x(null);activeDropdown=x(null);hoveredScore=x(null);typeContratBtn;statutBtn;prioriteBtn;dropdownTypeContrat;dropdownStatut;dropdownPriorite;dropdownStyle={typeContrat:w({top:"0px",left:"0px"}),statut:w({top:"0px",left:"0px"}),priorite:w({top:"0px",left:"0px"})};dropdownHeight={typeContrat:w(240),statut:w(240),priorite:w(240)};constructor(){oe(()=>{this.isDropdownActive("typeContrat")&&this.updateDropdownPosition("typeContrat"),this.isDropdownActive("statut")&&this.updateDropdownPosition("statut"),this.isDropdownActive("priorite")&&this.updateDropdownPosition("priorite")})}updateDropdownPosition(t){let e,i;if(t==="typeContrat"&&(e=this.typeContratBtn,i=this.dropdownTypeContrat),t==="statut"&&(e=this.statutBtn,i=this.dropdownStatut),t==="priorite"&&(e=this.prioriteBtn,i=this.dropdownPriorite),!e)return;let n=e.nativeElement.getBoundingClientRect(),a=240;i&&i.nativeElement&&(a=i.nativeElement.offsetHeight||240),this.dropdownHeight[t].set(a);let A=window.innerHeight-n.bottom,V=n.bottom+window.scrollY,K=n.left+window.scrollX,Te;A<a&&n.top>a?(V=n.top+window.scrollY-a,Te="translateY(-8px)"):Te="translateY(8px)",this.dropdownStyle[t].set({top:V+"px",left:K+"px",transform:Te})}getDropdownPosition(t){return this.dropdownStyle[t]()}edit=C();delete=C();view=C();archive=C();startEdit=C();cancelEdit=C();toggleDropdown=C();scoreHover=C();scoreLeave=C();statuts=Object.values(Ge);priorites=Object.values(U);typesContrat=Object.values(j);getStatutLabel=Q;getPrioriteLabel=R;getTypeContratLabel=I;isColumnVisible(t){return this.visibleColumns().includes(t)}isEditing(t){let e=this.editingCell();return e?.candidatureId===this.candidature().id&&e?.field===t}isDropdownActive(t){let e=this.activeDropdown();return e?.candidatureId===this.candidature().id&&e?.field===t}getDisplayScore(){let t=this.hoveredScore();return t?.candidatureId===this.candidature().id?t.score:this.candidature().score||0}onStartEdit(t){this.startEdit.emit(t)}onSaveEdit(t,e){this.edit.emit({field:t,value:e})}onCancelEdit(){this.cancelEdit.emit()}onToggleDropdown(t){setTimeout(()=>{this.updateDropdownPosition(t)},0),this.toggleDropdown.emit(t)}onScoreHover(t){this.scoreHover.emit(t)}onScoreLeave(){this.scoreLeave.emit()}onScoreClick(t){this.onSaveEdit("score",t),this.scoreLeave.emit()}onDelete(){this.delete.emit()}onView(){this.view.emit()}onArchive(){this.archive.emit()}getStatutBadgeClass(t){return{APPLIQUEE:"bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",ENTRETIEN_TELEPHONIQUE:"bg-gradient-to-r from-purple-100 to-purple-200 dark:from-purple-900/50 dark:to-purple-800/50 text-purple-800 dark:text-purple-200 border border-purple-300 dark:border-purple-700 shadow-sm",ENTRETIEN_TECHNIQUE:"bg-gradient-to-r from-orange-100 to-orange-200 dark:from-orange-900/50 dark:to-orange-800/50 text-orange-800 dark:text-orange-200 border border-orange-300 dark:border-orange-700 shadow-sm",ENTRETIEN_RH:"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-200 border border-yellow-300 dark:border-yellow-700 shadow-sm",OFFRE:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-200 border border-green-300 dark:border-green-700 shadow-sm",REFUSEE:"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-200 border border-red-300 dark:border-red-700 shadow-sm",SANS_REPONSE:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-800 dark:text-gray-100 border border-gray-300 dark:border-gray-600 shadow-sm"}[t]||""}getPrioriteBadgeClass(t){return{BASSE:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-800 dark:text-gray-100 border border-gray-300 dark:border-gray-600 shadow-sm",MOYENNE:"bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",HAUTE:"bg-gradient-to-r from-orange-100 to-red-100 dark:from-orange-900/50 dark:to-red-800/50 text-orange-900 dark:text-orange-100 border border-orange-400 dark:border-orange-700 shadow-sm font-bold"}[t]||""}getTypeContratBadgeClass(t){return{CDI:"bg-gradient-to-r from-green-100 to-emerald-200 dark:from-green-900/50 dark:to-emerald-800/50 text-green-900 dark:text-green-100 border border-green-300 dark:border-green-700 shadow-sm font-bold",CDD:"bg-gradient-to-r from-blue-100 to-cyan-200 dark:from-blue-900/50 dark:to-cyan-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",INTERIM:"bg-gradient-to-r from-purple-100 to-fuchsia-200 dark:from-purple-900/50 dark:to-fuchsia-800/50 text-purple-800 dark:text-purple-200 border border-purple-300 dark:border-purple-700 shadow-sm",STAGE:"bg-gradient-to-r from-orange-100 to-amber-200 dark:from-orange-900/50 dark:to-amber-800/50 text-orange-800 dark:text-orange-200 border border-orange-300 dark:border-orange-700 shadow-sm",ALTERNANCE:"bg-gradient-to-r from-indigo-100 to-violet-200 dark:from-indigo-900/50 dark:to-violet-800/50 text-indigo-800 dark:text-indigo-200 border border-indigo-300 dark:border-indigo-700 shadow-sm",FREELANCE:"bg-gradient-to-r from-yellow-100 to-lime-200 dark:from-yellow-900/50 dark:to-lime-800/50 text-yellow-900 dark:text-yellow-100 border border-yellow-400 dark:border-yellow-700 shadow-sm"}[t]||""}getTypeContratBadgeClassSafe(t){return t?this.getTypeContratBadgeClass(t):""}getTypeContratLabelSafe(t){return t?I(t):"-"}getPrioriteBadgeClassSafe(t){return t?this.getPrioriteBadgeClass(t):""}getPrioriteLabelSafe(t){return t?R(t):"-"}formatDate(t){return t?(typeof t=="string"?new Date(t):t).toLocaleDateString("fr-FR"):"-"}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["","appTableRow",""]],viewQuery:function(e,i){if(e&1&&Ne(Qt,5,J)(Yt,5,J)(Ut,5,J)(Kt,5,J)(Gt,5,J)(Jt,5,J),e&2){let n;W(n=X())&&(i.typeContratBtn=n.first),W(n=X())&&(i.statutBtn=n.first),W(n=X())&&(i.prioriteBtn=n.first),W(n=X())&&(i.dropdownTypeContrat=n.first),W(n=X())&&(i.dropdownStatut=n.first),W(n=X())&&(i.dropdownPriorite=n.first)}},inputs:{candidature:[1,"candidature"],visibleColumns:[1,"visibleColumns"],editingCell:[1,"editingCell"],activeDropdown:[1,"activeDropdown"],hoveredScore:[1,"hoveredScore"]},outputs:{edit:"edit",delete:"delete",view:"view",archive:"archive",startEdit:"startEdit",cancelEdit:"cancelEdit",toggleDropdown:"toggleDropdown",scoreHover:"scoreHover",scoreLeave:"scoreLeave"},attrs:Wt,decls:2,vars:0,consts:[["typeContratBtn",""],["dropdownTypeContrat",""],["statutBtn",""],["dropdownStatut",""],["prioriteBtn",""],["dropdownPriorite",""],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-20"],[1,"px-6","py-4","align-middle","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-40"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-40","text-sm","text-gray-600","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-32"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-36"],[1,"px-6","py-4","whitespace-nowrap","align-middle","min-w-[120px]","text-sm","text-gray-600","dark:text-gray-400","truncate","max-w-xs"],[1,"px-6","py-4","align-middle","text-sm","text-gray-600","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","align-middle"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-28","text-sm"],[1,"inline-flex","items-center","justify-center","px-2.5","py-1","rounded-md","text-xs","font-bold","text-primary-700","dark:text-primary-300","bg-primary-100","dark:bg-primary-900/40","border","border-primary-300","dark:border-primary-700"],[1,"text-sm","font-bold","text-gray-900","dark:text-white"],["title","Voir le d\xE9tail de la candidature",1,"text-sm","font-bold","text-gray-900","dark:text-white","font-semibold","underline-none","underline-offset-2","hover:text-primary-900","dark:hover:text-primary-100","transition-colors","cursor-pointer",3,"routerLink"],[1,"text-sm","text-gray-600","dark:text-gray-400","flex","items-center","gap-1","truncate"],[1,"fas","fa-map-marker-alt","text-xs"],[1,"relative"],[1,"fixed","z-50","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border-2","border-gray-200","dark:border-gray-600","min-w-[220px]","overflow-hidden","animate-fadeIn",3,"ngStyle"],[1,"px-3","py-1.5","rounded-lg","text-xs","font-bold","cursor-pointer","hover:shadow-md","hover:scale-105","transition-all","duration-200","border","border-transparent","hover:border-current",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","hover:bg-gradient-to-r","hover:from-primary-50","hover:to-primary-100/50","dark:hover:from-primary-900/20","dark:hover:to-primary-800/10","cursor-pointer","flex","items-center","gap-3","transition-all","duration-200","border-b","border-gray-100","dark:border-gray-700","last:border-0"],["type","button",1,"w-full","px-4","py-3","text-left","hover:bg-gradient-to-r","hover:from-primary-50","hover:to-primary-100/50","dark:hover:from-primary-900/20","dark:hover:to-primary-800/10","cursor-pointer","flex","items-center","gap-3","transition-all","duration-200","border-b","border-gray-100","dark:border-gray-700","last:border-0",3,"click"],[1,"px-3","py-1.5","rounded-lg","text-xs","font-bold","shadow-sm","transition-transform","hover:scale-105"],[1,"fas","fa-check-circle","text-primary-600","dark:text-primary-400","ml-auto","text-base","animate-pulse"],[1,"flex","flex-col","gap-1"],[1,"text-xs","text-gray-400"],[1,"fixed","z-50","bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","border","border-gray-200","dark:border-gray-700","min-w-[200px]",3,"ngStyle"],[1,"status-badge","cursor-pointer","hover:opacity-80",3,"click"],["type","button",1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","flex","items-center","gap-2"],["type","button",1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"status-badge"],[1,"fas","fa-check","text-primary-600","ml-auto"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","cursor-pointer","hover:opacity-80",3,"click"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"text-sm","text-gray-700","dark:text-gray-300"],[1,"flex","gap-1","items-center",3,"mouseleave"],[1,"cursor-pointer","hover:scale-125","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-yellow-400","rounded-full","p-0.5"],[1,"cursor-pointer","hover:scale-125","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-yellow-400","rounded-full","p-0.5",3,"mouseenter","click"],[1,"text-lg","transition-all","duration-200"],[1,"line-clamp-2"],["target","_blank","rel","noopener noreferrer",1,"text-primary-600","dark:text-primary-400","hover:underline","text-sm","flex","items-center","gap-1",3,"href"],[1,"text-gray-400"],[1,"fas","fa-external-link-alt","text-xs"],[1,"flex","items-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity","duration-200"],["title","Voir les d\xE9tails",1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-primary-600","dark:hover:bg-primary-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"routerLink"],[1,"fas","fa-eye","text-sm"],[1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-yellow-500","dark:hover:bg-yellow-600","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click","title"],["title","Supprimer",1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-red-600","dark:hover:bg-red-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-trash","text-sm"]],template:function(e,i){e&1&&P(0,Fi,16,1,null,null,N),e&2&&L(i.visibleColumns())},dependencies:[M,Be,te,ee,ie,pe],encapsulation:2})};var Mi=(r,t,e,i)=>({"bg-gray-100 dark:bg-gray-900":r,"hover:bg-gray-50 dark:hover:bg-gray-800/40":t,"bg-neutral-200/70 dark:bg-neutral-900/70 opacity-70":e,"hover:opacity-100":i});function Vi(r,t){if(r&1){let e=v();u(0,"tr",5),S("edit",function(n){let a=p(e).$implicit,A=d();return g(A.onSaveEdit(a.id,n.field,n.value))})("delete",function(){let n=p(e).$implicit,a=d();return g(a.onDelete(n.id))})("view",function(){let n=p(e).$implicit,a=d();return g(a.onView(n.id))})("archive",function(){let n=p(e).$implicit,a=d();return g(a.onArchive(n.id))})("startEdit",function(n){let a=p(e).$implicit,A=d();return g(A.onStartEdit(a.id,n))})("cancelEdit",function(){p(e);let n=d();return g(n.onCancelEdit())})("toggleDropdown",function(n){let a=p(e).$implicit,A=d();return g(A.onToggleDropdown(a.id,n))})("scoreHover",function(n){let a=p(e).$implicit,A=d();return g(A.onScoreHover(a.id,n))})("scoreLeave",function(){p(e);let n=d();return g(n.onScoreLeave())}),m()}if(r&2){let e=t.$implicit,i=d();T("ngClass",Ie(6,Mi,!e.archivee,!e.archivee,e.archivee,e.archivee))("candidature",e)("visibleColumns",i.getVisibleColumnKeys())("editingCell",i.editingCell())("activeDropdown",i.activeDropdown())("hoveredScore",i.hoveredScore())}}function Ai(r,t){if(r&1&&(u(0,"tr")(1,"td",6)(2,"div",7)(3,"div",8),k(4,"i",9)(5,"div",10),m(),u(6,"div",11)(7,"p",12),l(8," Aucune candidature trouv\xE9e "),m(),u(9,"p",13),l(10," Essayez de modifier vos filtres ou cr\xE9ez une nouvelle candidature pour commencer "),m()(),u(11,"div",14)(12,"button",15),k(13,"i",16),l(14," Nouvelle candidature "),m(),u(15,"button",17),k(16,"i",18),l(17," R\xE9initialiser les filtres "),m()()()()()),r&2){let e=d();o(),T("colSpan",e.visibleColumns().length)}}var Se=class r{candidatures=x([]);visibleColumns=x([]);sortColumn=x(null);sortDirection=x(null);sort=C();edit=C();delete=C();view=C();archive=C();editingCell=w(null);activeDropdown=w(null);hoveredScore=w(null);onSort(t){this.sort.emit(t)}onStartEdit(t,e){this.editingCell.set({candidatureId:t,field:e})}onSaveEdit(t,e,i){this.edit.emit({id:t,field:e,value:i}),this.editingCell.set(null),this.activeDropdown.set(null)}onCancelEdit(){this.editingCell.set(null),this.activeDropdown.set(null)}onToggleDropdown(t,e){let i=this.activeDropdown();i?.candidatureId===t&&i?.field===e?this.activeDropdown.set(null):(this.activeDropdown.set({candidatureId:t,field:e}),this.editingCell.set({candidatureId:t,field:e}))}onScoreHover(t,e){this.hoveredScore.set({candidatureId:t,score:e})}onScoreLeave(){this.hoveredScore.set(null)}onDelete(t){this.delete.emit(t)}onView(t){this.view.emit(t)}onArchive(t){this.archive.emit(t)}trackByFn(t,e){return e.id}getVisibleColumnKeys(){return this.visibleColumns().map(t=>t.key)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-candidature-table"]],inputs:{candidatures:[1,"candidatures"],visibleColumns:[1,"visibleColumns"],sortColumn:[1,"sortColumn"],sortDirection:[1,"sortDirection"]},outputs:{sort:"sort",edit:"edit",delete:"delete",view:"view",archive:"archive"},decls:7,vars:4,consts:[[1,"overflow-x-auto","rounded-xl","border","border-gray-200","dark:border-gray-700","shadow-lg","bg-white","dark:bg-gray-900"],[1,"min-w-full","table-fixed","divide-y","divide-gray-200","dark:divide-gray-700"],["appTableHeader","",1,"bg-gradient-to-r","from-gray-50","to-gray-100","dark:from-gray-800","dark:to-gray-800/50","sticky","top-0","z-10",3,"sort","columns","sortColumn","sortDirection"],[1,"bg-white","dark:bg-gray-900","divide-y","divide-gray-200","dark:divide-gray-700"],["appTableRow","",1,"group","transition-colors","duration-150","border-b","border-gray-200","dark:border-gray-700",3,"ngClass","candidature","visibleColumns","editingCell","activeDropdown","hoveredScore"],["appTableRow","",1,"group","transition-colors","duration-150","border-b","border-gray-200","dark:border-gray-700",3,"edit","delete","view","archive","startEdit","cancelEdit","toggleDropdown","scoreHover","scoreLeave","ngClass","candidature","visibleColumns","editingCell","activeDropdown","hoveredScore"],[1,"px-6","py-16","text-center","bg-gradient-to-b","from-gray-50","to-white","dark:from-gray-900","dark:to-gray-800",3,"colSpan"],[1,"flex","flex-col","items-center","gap-6","animate-fadeIn"],[1,"relative"],[1,"fas","fa-inbox","text-7xl","text-gray-300","dark:text-gray-600","animate-bounce-slow"],[1,"absolute","-top-2","-right-2","w-6","h-6","bg-primary-500","rounded-full","animate-ping","opacity-75"],[1,"space-y-2"],[1,"text-xl","font-bold","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","max-w-md"],[1,"flex","gap-3","mt-4"],[1,"px-4","py-2","bg-primary-600","hover:bg-primary-700","text-white","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-200","font-medium","text-sm"],[1,"fas","fa-plus","mr-2"],[1,"px-4","py-2","bg-gray-200","hover:bg-gray-300","dark:bg-gray-700","dark:hover:bg-gray-600","text-gray-700","dark:text-gray-200","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-200","font-medium","text-sm"],[1,"fas","fa-filter","mr-2"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"table",1)(2,"thead",2),S("sort",function(a){return i.onSort(a)}),m(),u(3,"tbody",3),P(4,Vi,1,11,"tr",4,i.trackByFn,!0),f(6,Ai,18,1,"tr"),m()()()),e&2&&(o(2),T("columns",i.visibleColumns())("sortColumn",i.sortColumn())("sortDirection",i.sortDirection()),o(2),L(i.candidatures()),o(2),b(i.candidatures().length===0?6:-1))},dependencies:[M,se,ye,we],encapsulation:2})};var Pi=(r,t)=>({"bg-neutral-100/70 dark:bg-neutral-900/70 opacity-70":r,"hover:opacity-100":t}),Li=r=>["/candidatures",r];function Ni(r,t){r&1&&(u(0,"span",1),k(1,"i",21),m())}var ke=class r{candidature;onArchive=new Ee;onDeleteFromTable=new Ee;TypeContrat=j;Priorite=U;getStatutBadgeClass=ce;getStatutLabel=Q;getPrioriteBadgeClass=ue;getPrioriteLabel=R;getTypeContratBadgeClass=me;getTypeContratLabel=I;static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-candidature-card"]],inputs:{candidature:"candidature"},outputs:{onArchive:"onArchive",onDeleteFromTable:"onDeleteFromTable"},decls:31,vars:27,consts:[[1,"relative","card","px-4","py-2","bg-white","dark:bg-gray-900","border","border-gray-200","dark:border-gray-700","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-200","flex","flex-col","justify-between","group","gap-2","overflow-hidden",3,"ngClass"],["aria-label","Candidature archiv\xE9e","title","Candidature archiv\xE9e",1,"absolute","bottom-0","left-0","z-10","p-2","text-xs","font-semibold","bg-stone-200","dark:bg-stone-700","text-stone-900","dark:text-stone-100","border","border-stone-400","dark:border-stone-600","shadow"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2","mb-2"],[1,"inline-block","px-2","py-1","rounded","text-xs","font-bold","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300"],[1,"text-xs","text-gray-400","flex-1"],[1,"flex-end","px-2","py-1","rounded-lg","text-xs","font-bold"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","mb-1","truncate"],[1,"text-sm","text-gray-700","dark:text-gray-300","truncate"],[1,"fas","fa-building","mr-1"],[1,"text-xs","text-gray-500","dark:text-gray-400","flex","items-center","gap-1"],[1,"fas","fa-map-marker-alt"],[1,"flex","gap-2","mt-2"],[1,"status-badge"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"flex","items-center","justify-center","gap-2","border-t","pt-2","border-gray-100","dark:border-gray-800"],["title","Voir les d\xE9tails",1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-primary-600","dark:hover:bg-primary-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"routerLink"],[1,"fas","fa-eye","text-sm"],[1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-yellow-500","dark:hover:bg-yellow-600","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click","title"],["title","Supprimer",1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-red-600","dark:hover:bg-red-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-trash","text-sm"],[1,"fas","fa-archive"]],template:function(e,i){e&1&&(u(0,"div",0),f(1,Ni,2,0,"span",1),u(2,"div",2)(3,"div",3)(4,"span",4),l(5),m(),u(6,"span",5),l(7),de(8,"timeAgo"),m(),u(9,"span",6),l(10),m()(),u(11,"h2",7),l(12),m(),u(13,"div",8),k(14,"i",9),l(15),m(),u(16,"div",10),k(17,"i",11),l(18),m(),u(19,"div",12)(20,"span",13),l(21),m(),u(22,"span",14),l(23),m()()(),u(24,"div",15)(25,"button",16),k(26,"i",17),m(),u(27,"button",18),S("click",function(){return i.onArchive.emit(i.candidature.id)}),k(28,"i"),m(),u(29,"button",19),S("click",function(){return i.onDeleteFromTable.emit(i.candidature.id)}),k(30,"i",20),m()()()),e&2&&(T("ngClass",Re(22,Pi,i.candidature.archivee,i.candidature.archivee)),o(),b(i.candidature.archivee?1:-1),o(4),h(" #",i.candidature.id," "),o(2),z(le(8,20,i.candidature.dateCandidature)),o(2),D(i.getTypeContratBadgeClass(i.candidature.typeContrat??i.TypeContrat.CDI)),o(),h(" ",i.getTypeContratLabel(i.candidature.typeContrat??i.TypeContrat.CDI)," "),o(2),h(" ",i.candidature.poste," "),o(3),h(" ",i.candidature.entreprise," "),o(3),h(" ",i.candidature.localisation||"-"," "),o(2),D(i.getStatutBadgeClass(i.candidature.statut)),o(),h(" ",i.getStatutLabel(i.candidature.statut)," "),o(),D(i.getPrioriteBadgeClass(i.candidature.priorite??i.Priorite.BASSE)),o(),h(" ",i.getPrioriteLabel(i.candidature.priorite??i.Priorite.BASSE)," "),o(2),T("routerLink",ne(25,Li,i.candidature.id)),o(2),T("title",i.candidature.archivee?"D\xE9sarchiver":"Archiver"),o(),D(i.candidature.archivee?"fas fa-box-open text-sm":"fas fa-archive text-sm"))},dependencies:[M,se,te,ee,pe],encapsulation:2})};var Ri=(r,t)=>t.id;function Ii(r,t){if(r&1&&l(0),r&2){let e=d();h(" sur ",e.candidatures().length," ")}}function Bi(r,t){if(r&1){let e=v();u(0,"app-filter-chips",20),S("clearSearch",function(){p(e);let n=d();return g(n.searchTerm.set(""))})("clearStatut",function(){p(e);let n=d();return g(n.selectedStatut.set(""))})("clearPriorite",function(){p(e);let n=d();return g(n.selectedPriorite.set(""))})("clearTypeContrat",function(){p(e);let n=d();return g(n.selectedTypeContrat.set(""))})("clearScore",function(){p(e);let n=d();return n.selectedScoreMin.set(0),g(n.selectedScoreMax.set(5))})("clearDateDebut",function(){p(e);let n=d();return g(n.dateDebut.set(""))})("clearDateFin",function(){p(e);let n=d();return g(n.dateFin.set(""))}),m()}if(r&2){let e=d();T("filters",e.filterChipsData())}}function Oi(r,t){r&1&&k(0,"app-loading-spinner",16),r&2&&T("fullscreen",!0)}function $i(r,t){if(r&1){let e=v();u(0,"app-error-card",21),S("retry",function(){p(e);let n=d();return g(n.loadCandidatures())}),m()}if(r&2){let e=d();T("message",e.errorMessage())}}function Hi(r,t){if(r&1){let e=v();u(0,"app-empty-state",22),S("action",function(){p(e);let n=d();return g(n.router.navigate(["/candidatures/new"]))}),m()}}function ji(r,t){if(r&1){let e=v();u(0,"div",19)(1,"div",23)(2,"div",24),k(3,"i",25),m(),u(4,"h3",26),l(5,"Aucun r\xE9sultat trouv\xE9"),m(),u(6,"p",27),l(7," Aucune candidature ne correspond \xE0 vos crit\xE8res de recherche "),m(),u(8,"button",28),S("click",function(){p(e);let n=d();return g(n.clearFilters())}),k(9,"i",29),l(10," Effacer les filtres "),m()()()}}function zi(r,t){if(r&1){let e=v();u(0,"app-candidature-card",33),S("onArchive",function(n){p(e);let a=d(3);return g(a.onArchive(n))})("onDeleteFromTable",function(n){p(e);let a=d(3);return g(a.onDeleteFromTable(n))}),m()}if(r&2){let e=t.$implicit;T("candidature",e)}}function qi(r,t){if(r&1&&(u(0,"div",30),P(1,zi,1,1,"app-candidature-card",32,Ri),m()),r&2){let e=d(2);o(),L(e.filteredCandidatures())}}function Qi(r,t){if(r&1){let e=v();u(0,"app-candidature-table",34),S("sort",function(n){p(e);let a=d(2);return g(a.onSort(n))})("edit",function(n){p(e);let a=d(2);return g(a.onEdit(n))})("delete",function(n){p(e);let a=d(2);return g(a.onDeleteFromTable(n))})("view",function(n){p(e);let a=d(2);return g(a.viewDetails(n))})("archive",function(n){p(e);let a=d(2);return g(a.onArchive(n))}),m()}if(r&2){let e=d(2);T("candidatures",e.filteredCandidatures())("visibleColumns",e.visibleColumns())("sortColumn",e.sortColumn())("sortDirection",e.sortDirection())}}function Yi(r,t){if(r&1&&f(0,qi,3,0,"div",30)(1,Qi,1,4,"app-candidature-table",31),r&2){let e=d();b(e.viewMode()==="grid"?0:1)}}var it=class r{updateCandidatureLocally(t){this.candidaturesState.set(Y($({},this.candidaturesState()),{data:this.candidaturesState().data.map(e=>e.id===t.id?$($({},e),t):e)}))}candidatureService=Z(qe);router=Z(Oe);notificationService=Z($e);confirmationService=Z(Qe);destroyRef=Z(Ve);STORAGE_KEY="job-tracker-columns-preferences";refreshTrigger$=new De;candidaturesState=w({data:[],loading:!0,error:null});constructor(){oe(()=>{let t=this.availableColumns();this.saveColumnPreferences(t)}),this.loadColumnPreferences(),this.loadCandidatures()}loadCandidatures(){this.candidaturesState.set(Y($({},this.candidaturesState()),{loading:!0})),this.candidatureService.getAllCandidatures().pipe(G(this.destroyRef),Me(t=>{console.error("Erreur lors du chargement des candidatures",t);let e="Impossible de charger les candidatures. Veuillez v\xE9rifier que le serveur est bien d\xE9marr\xE9.";return setTimeout(()=>this.notificationService.error(e),0),this.candidaturesState.set({data:[],loading:!1,error:e}),Fe([])})).subscribe(t=>{this.candidaturesState.set({data:t,loading:!1,error:null})})}candidatures=q(()=>this.candidaturesState().data);isLoading=q(()=>this.candidaturesState().loading);errorMessage=q(()=>this.candidaturesState().error);viewMode=w("table");searchTerm=w("");selectedStatut=w("");selectedPriorite=w("");selectedTypeContrat=w("");selectedScoreMin=w(0);selectedScoreMax=w(5);showArchived=w(!1);showNonArchived=w(!0);dateDebut=w("");dateFin=w("");sortColumn=w(null);sortDirection=w(null);availableColumns=w([{key:"id",label:"ID",visible:!1,sortable:!0,width:"80px",icon:"fa-hashtag"},{key:"entreprise",label:"Entreprise",visible:!0,sortable:!0,icon:"fa-building"},{key:"poste",label:"Poste",visible:!0,sortable:!0,icon:"fa-briefcase"},{key:"localisation",label:"Localisation",visible:!0,sortable:!0,icon:"fa-map-marker-alt"},{key:"typeContrat",label:"Type contrat",visible:!0,sortable:!0,icon:"fa-file-contract"},{key:"dateCandidature",label:"Date candidature",visible:!0,sortable:!0,icon:"fa-calendar"},{key:"statut",label:"Statut",visible:!0,sortable:!0,icon:"fa-flag"},{key:"priorite",label:"Priorit\xE9",visible:!0,sortable:!0,icon:"fa-exclamation-triangle"},{key:"salaire",label:"Salaire",visible:!1,sortable:!1,icon:"fa-euro-sign"},{key:"score",label:"Score",visible:!0,sortable:!0,icon:"fa-star"},{key:"source",label:"Source",visible:!1,sortable:!0,icon:"fa-link"},{key:"contact",label:"Contact",visible:!1,sortable:!1,icon:"fa-user"},{key:"description",label:"Description/Note",visible:!1,sortable:!1,icon:"fa-align-left"},{key:"lienOffre",label:"Lien offre",visible:!1,sortable:!1,icon:"fa-external-link-alt"},{key:"actions",label:"Actions",visible:!0,sortable:!1,width:"140px",icon:"fa-cog"}]);visibleColumns=q(()=>this.availableColumns().filter(t=>t.visible));visibleColumnsSet=q(()=>new Set(this.visibleColumns().map(t=>t.key)));filterChipsData=q(()=>({searchTerm:this.searchTerm(),selectedStatut:this.selectedStatut(),selectedPriorite:this.selectedPriorite(),selectedTypeContrat:this.selectedTypeContrat(),selectedScoreMin:this.selectedScoreMin(),selectedScoreMax:this.selectedScoreMax(),dateDebut:this.dateDebut(),dateFin:this.dateFin()}));filteredCandidatures=q(()=>{let t=this.candidatures(),e=this.searchTerm().toLowerCase().trim();if(e&&(t=t.filter(V=>V.entreprise?.toLowerCase().includes(e)||V.poste?.toLowerCase().includes(e)||V.localisation?.toLowerCase().includes(e)||V.source?.toLowerCase().includes(e)||V.description?.toLowerCase().includes(e))),this.selectedStatut()&&(t=t.filter(V=>V.statut===this.selectedStatut())),this.selectedPriorite()&&(t=t.filter(V=>V.priorite===this.selectedPriorite())),this.selectedTypeContrat()&&(t=t.filter(V=>V.typeContrat===this.selectedTypeContrat())),(this.selectedScoreMin()>0||this.selectedScoreMax()<5)&&(t=t.filter(V=>{let K=V.score||0;return K>=this.selectedScoreMin()&&K<=this.selectedScoreMax()})),this.dateDebut()){let V=new Date(this.dateDebut());t=t.filter(K=>new Date(K.dateCandidature)>=V)}if(this.dateFin()){let V=new Date(this.dateFin());t=t.filter(K=>new Date(K.dateCandidature)<=V)}let i=this.showArchived(),n=this.showNonArchived();t=t.filter(V=>n&&!V.archivee||i&&V.archivee);let a=this.sortColumn(),A=this.sortDirection();return a&&A&&(t=We(t,a,A)),t});hasActiveFilters=q(()=>!!this.searchTerm()||!!this.selectedStatut()||!!this.selectedPriorite()||!!this.selectedTypeContrat()||this.selectedScoreMin()>0||this.selectedScoreMax()<5||!!this.dateDebut()||!!this.dateFin());activeFiltersCount=q(()=>{let t=0;return this.searchTerm()&&t++,this.selectedStatut()&&t++,this.selectedPriorite()&&t++,this.selectedTypeContrat()&&t++,(this.selectedScoreMin()>0||this.selectedScoreMax()<5)&&t++,this.dateDebut()&&t++,this.dateFin()&&t++,t});Priorite=U;TypeContrat=j;getStatutBadgeClass=ce;getStatutLabel=Q;getPrioriteBadgeClass=ue;getPrioriteLabel=R;getTypeContratBadgeClass=me;getTypeContratLabel=I;toggleColumn(t){this.availableColumns.update(e=>{let i=[...e],n=i.find(a=>a.key===t);return n&&n.key!=="actions"&&(n.visible=!n.visible),i})}resetColumns(){this.availableColumns.update(t=>{let e=["entreprise","poste","localisation","dateCandidature","statut","actions"];return t.map(i=>Y($({},i),{visible:e.includes(i.key)}))}),this.notificationService.success("Colonnes r\xE9initialis\xE9es")}showAllColumns(){this.availableColumns.update(t=>t.map(e=>Y($({},e),{visible:!0}))),this.notificationService.success("Toutes les colonnes affich\xE9es")}hideAllOptionalColumns(){this.availableColumns.update(t=>t.map(e=>Y($({},e),{visible:e.key==="poste"||e.key==="actions"}))),this.notificationService.success("Colonnes optionnelles masqu\xE9es (poste et actions toujours visibles)")}saveColumnPreferences(t){let e=t.map(i=>({key:i.key,visible:i.visible}));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadColumnPreferences(){let t=localStorage.getItem(this.STORAGE_KEY);if(t)try{let e=JSON.parse(t);this.availableColumns.update(i=>{let n=[...i];return e.forEach(a=>{let A=n.find(V=>V.key===a.key);A&&(A.visible=a.visible)}),n})}catch(e){console.error("Erreur lors du chargement des pr\xE9f\xE9rences de colonnes",e)}}onSort(t){this.sortColumn.set(t.direction?t.column:null),this.sortDirection.set(t.direction)}sortBy(t){let e=this.availableColumns().find(a=>a.key===t);if(!e||!e.sortable)return;let i=this.sortColumn(),n=this.sortDirection();i===t?n==="asc"?this.sortDirection.set("desc"):n==="desc"&&(this.sortDirection.set(null),this.sortColumn.set(null)):(this.sortColumn.set(t),this.sortDirection.set("asc"))}getSortIcon(t){return this.sortColumn()!==t?"fas fa-sort text-gray-300 dark:text-gray-600":this.sortDirection()==="asc"?"fas fa-sort-up text-primary-600 dark:text-primary-400":"fas fa-sort-down text-primary-600 dark:text-primary-400"}clearFilters(){this.searchTerm.set(""),this.selectedStatut.set(""),this.selectedPriorite.set(""),this.selectedTypeContrat.set(""),this.selectedScoreMin.set(0),this.selectedScoreMax.set(5),this.dateDebut.set(""),this.dateFin.set(""),this.showArchived.set(!1),this.showNonArchived.set(!0),this.notificationService.success("Filtres r\xE9initialis\xE9s")}getColumnValue(t,e){return t[e]}onColumnsReordered(t){let e=this.availableColumns(),i=t.map(n=>{let a=e.find(A=>A.key===n.key);return a?Y($({},n),{visible:a.visible}):n});this.availableColumns.set(i)}viewDetails(t){this.router.navigate(["/candidatures",t])}editCandidature(t){this.router.navigate(["/candidatures",t,"edit"])}deleteCandidature(t,e){e.stopPropagation();let i=this.candidatures().find(n=>n.id===t);i&&this.confirmationService.confirmDelete(`${i.poste} chez ${i.entreprise}`).pipe(G(this.destroyRef)).subscribe(n=>{n&&this.candidatureService.deleteCandidature(t).pipe(G(this.destroyRef)).subscribe({next:()=>{setTimeout(()=>this.notificationService.success("Candidature supprim\xE9e avec succ\xE8s"),0),this.loadCandidatures()},error:a=>{console.error("Erreur lors de la suppression",a),setTimeout(()=>this.notificationService.error("Erreur lors de la suppression"),0)}})})}onEdit(t){let e=this.candidatures().find(n=>n.id===t.id);if(!e)return;let i=Y($({},e),{[t.field]:t.value});this.candidatureService.updateCandidature(t.id,i).pipe(G(this.destroyRef)).subscribe({next:n=>{this.notificationService.success("Candidature mise \xE0 jour"),this.updateCandidatureLocally(n)},error:n=>{console.error("Erreur lors de la mise \xE0 jour",n),this.notificationService.error("Erreur lors de la mise \xE0 jour")}})}onArchive(t){let e=this.candidatures().find(n=>n.id===t);if(!e)return;let i=Y($({},e),{archivee:!e.archivee});this.candidatureService.updateCandidature(t,i).pipe(G(this.destroyRef)).subscribe({next:n=>{this.notificationService.success(e.archivee?"Candidature d\xE9sarchiv\xE9e":"Candidature archiv\xE9e"),this.updateCandidatureLocally(n)},error:n=>{console.error("Erreur lors de l'archivage",n),this.notificationService.error("Erreur lors de l'archivage")}})}onDeleteFromTable(t){let e=this.candidatures().find(i=>i.id===t);e&&this.confirmationService.confirmDelete(`${e.poste} chez ${e.entreprise}`).pipe(G(this.destroyRef)).subscribe(i=>{i&&this.candidatureService.deleteCandidature(t).pipe(G(this.destroyRef)).subscribe({next:()=>{setTimeout(()=>this.notificationService.success("Candidature supprim\xE9e avec succ\xE8s"),0),this.loadCandidatures()},error:n=>{console.error("Erreur lors de la suppression",n),setTimeout(()=>this.notificationService.error("Erreur lors de la suppression"),0)}})})}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=F({type:r,selectors:[["app-candidature-list"]],decls:29,vars:21,consts:[[1,"max-w-7xl","mx-auto","p-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4","mb-6"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","flex","items-center","gap-3","mb-2"],[1,"fas","fa-briefcase","text-primary-600","dark:text-primary-400"],[1,"text-gray-600","dark:text-gray-400"],[1,"flex","gap-3"],["aria-label","Vue tableau",1,"btn-outline","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"fas","fa-table"],["aria-label","Vue cartes",1,"btn-outline","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"fas","fa-th-large"],["routerLink","/stats",1,"btn-outline","cursor-pointer"],[1,"fas","fa-chart-bar"],["routerLink","/candidatures/new",1,"btn-primary","cursor-pointer"],[1,"fas","fa-plus"],[3,"searchTermChange","statutChange","prioriteChange","typeContratChange","scoreMinChange","scoreMaxChange","dateDebutChange","dateFinChange","archivedChange","nonArchivedChange","clearFilters","toggleColumn","showAllColumns","hideAllOptionalColumns","columnsReordered","searchTerm","selectedStatut","selectedPriorite","selectedTypeContrat","selectedScoreMin","selectedScoreMax","dateDebut","dateFin","showArchivedCandidatures","showNonArchivedCandidatures","activeFiltersCount","visibleColumnsSet","availableColumns"],[3,"filters"],["message","Chargement des candidatures...",3,"fullscreen"],["title","Erreur de chargement",3,"message"],["title","Aucune candidature","message","Vous n'avez pas encore cr\xE9\xE9 de candidature. Commencez d\xE8s maintenant \xE0 suivre vos opportunit\xE9s professionnelles !","icon","work_off","actionLabel","Cr\xE9er une candidature","actionIcon","add"],[1,"card","text-center","py-16","animate-in","fade-in","duration-200"],[3,"clearSearch","clearStatut","clearPriorite","clearTypeContrat","clearScore","clearDateDebut","clearDateFin","filters"],["title","Erreur de chargement",3,"retry","message"],["title","Aucune candidature","message","Vous n'avez pas encore cr\xE9\xE9 de candidature. Commencez d\xE8s maintenant \xE0 suivre vos opportunit\xE9s professionnelles !","icon","work_off","actionLabel","Cr\xE9er une candidature","actionIcon","add",3,"action"],[1,"max-w-md","mx-auto"],[1,"w-24","h-24","mx-auto","mb-6","bg-gradient-to-br","from-gray-100","to-gray-200","dark:from-gray-700","dark:to-gray-800","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-search","text-4xl","text-gray-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-6"],[1,"btn-primary","cursor-pointer","inline-flex","items-center","gap-2","hover:scale-105","transition-transform",3,"click"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mt-4","animate-in","fade-in","duration-200"],[3,"candidatures","visibleColumns","sortColumn","sortDirection"],[3,"candidature"],[3,"onArchive","onDeleteFromTable","candidature"],[3,"sort","edit","delete","view","archive","candidatures","visibleColumns","sortColumn","sortDirection"]],template:function(e,i){e&1&&(u(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),k(4,"i",3),l(5," Mes Candidatures "),m(),u(6,"p",4),l(7),f(8,Ii,1,1),m()(),u(9,"div",5)(10,"button",6),S("click",function(){return i.viewMode.set("table")}),k(11,"i",7),l(12," Tableau "),m(),u(13,"button",8),S("click",function(){return i.viewMode.set("grid")}),k(14,"i",9),l(15," Cartes "),m(),u(16,"button",10),k(17,"i",11),l(18," Statistiques "),m(),u(19,"button",12),k(20,"i",13),l(21," Nouvelle candidature "),m()()(),u(22,"app-candidature-filters",14),S("searchTermChange",function(a){return i.searchTerm.set(a)})("statutChange",function(a){return i.selectedStatut.set(a)})("prioriteChange",function(a){return i.selectedPriorite.set(a)})("typeContratChange",function(a){return i.selectedTypeContrat.set(a)})("scoreMinChange",function(a){return i.selectedScoreMin.set(a)})("scoreMaxChange",function(a){return i.selectedScoreMax.set(a)})("dateDebutChange",function(a){return i.dateDebut.set(a)})("dateFinChange",function(a){return i.dateFin.set(a)})("archivedChange",function(a){return i.showArchived.set(a)})("nonArchivedChange",function(a){return i.showNonArchived.set(a)})("clearFilters",function(){return i.clearFilters()})("toggleColumn",function(a){return i.toggleColumn(a)})("showAllColumns",function(){return i.showAllColumns()})("hideAllOptionalColumns",function(){return i.hideAllOptionalColumns()})("columnsReordered",function(a){return i.onColumnsReordered(a)}),m(),f(23,Bi,1,1,"app-filter-chips",15),f(24,Oi,1,1,"app-loading-spinner",16)(25,$i,1,1,"app-error-card",17)(26,Hi,1,0,"app-empty-state",18)(27,ji,11,0,"div",19)(28,Yi,2,1),m()),e&2&&(o(7),h(" ",i.filteredCandidatures().length," candidature(s) "),o(),b(i.candidatures().length!==i.filteredCandidatures().length?8:-1),o(2),E("bg-primary-100",i.viewMode()==="table"),o(3),E("bg-primary-100",i.viewMode()==="grid"),o(9),T("searchTerm",i.searchTerm())("selectedStatut",i.selectedStatut())("selectedPriorite",i.selectedPriorite())("selectedTypeContrat",i.selectedTypeContrat())("selectedScoreMin",i.selectedScoreMin())("selectedScoreMax",i.selectedScoreMax())("dateDebut",i.dateDebut())("dateFin",i.dateFin())("showArchivedCandidatures",i.showArchived())("showNonArchivedCandidatures",i.showNonArchived())("activeFiltersCount",i.activeFiltersCount())("visibleColumnsSet",i.visibleColumnsSet())("availableColumns",i.availableColumns()),o(),b(i.hasActiveFilters()?23:-1),o(),b(i.isLoading()?24:i.errorMessage()?25:i.candidatures().length===0?26:i.filteredCandidatures().length===0?27:28))},dependencies:[M,te,ee,Ye,Ue,Ke,he,ve,Se,ke],encapsulation:2})};export{it as CandidatureListComponent};
