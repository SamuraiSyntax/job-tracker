import{a as ve,b as L,c as x,d as D,e as w,g as be,h as U,i as P,j as N,k as I,l as R,m as G,n as W,o as K,q as Ce,s as M}from"./chunk-XJ6M2JNX.js";import"./chunk-HMKQALKV.js";import"./chunk-Z56NGVK5.js";import{a as O,b as le}from"./chunk-HO4B2M3A.js";import{b as j}from"./chunk-KH6RUNCZ.js";import"./chunk-PLCYP2B4.js";import{a as ye}from"./chunk-B7OGBIUI.js";import{A as he,E as Ee,G as Te,I as Fe,J as _e,K as ke,L as we,N as Ne,O as Me,P as Ve,Q as Le,R as B,f as ue,g as y,m as fe,o as ge,u as Se,y as xe}from"./chunk-MZ3ZLVUR.js";import{$ as H,$a as _,Ab as J,Bb as oe,Db as $,Lb as pe,Ma as C,Nb as ce,Q as E,Qb as b,V as ae,W as ne,Ya as u,Za as f,_a as F,ab as k,bb as m,cb as i,db as n,eb as r,fb as s,ga as T,gb as c,hb as v,ib as re,jb as A,mb as me,nb as V,ob as g,vb as se,xb as S,yb as l,za as d,zb as h}from"./chunk-G3X2Z5OP.js";function Pe(o,e){o&1&&v(0,"i",8)}function Ie(o,e){o&1&&(s(0,"span"),l(1,"1"),c())}function Re(o,e){o&1&&v(0,"i",8)}function Ge(o,e){o&1&&(s(0,"span"),l(1,"2"),c())}function je(o,e){o&1&&v(0,"i",8)}function Ae(o,e){o&1&&(s(0,"span"),l(1,"3"),c())}function Oe(o,e){o&1&&v(0,"i",8)}function He(o,e){o&1&&(s(0,"span"),l(1,"4"),c())}var Q=class o{isEditMode=!1;currentStep;isStep1Valid;isStep2Valid;isStep3Valid;isStep4Valid;goToStep;static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-header"]],inputs:{isEditMode:"isEditMode",currentStep:"currentStep",isStep1Valid:"isStep1Valid",isStep2Valid:"isStep2Valid",isStep3Valid:"isStep3Valid",isStep4Valid:"isStep4Valid",goToStep:"goToStep"},decls:38,vars:33,consts:[[1,"mb-8"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","flex","items-center","gap-3","mb-2"],[1,"w-12","h-12","rounded-xl","bg-gradient-to-br","from-primary-500","to-primary-600","dark:from-primary-600","dark:to-primary-700","flex","items-center","justify-center","shadow-lg","shadow-primary-500/30"],[1,"text-gray-600","dark:text-gray-400","ml-14"],[1,"hidden","lg:flex","items-center","gap-2","bg-gray-100","dark:bg-gray-800","px-4","py-3","rounded-lg"],["type","button",1,"flex","items-center","gap-2","group","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"w-10","h-10","rounded-full","transition-all","duration-300","flex","items-center","justify-center","text-sm","font-bold","group-hover:scale-110","cursor-pointer"],[1,"fas","fa-check"],[1,"text-xs","font-medium","hidden","xl:inline","transition-colors"],[1,"w-10","h-1","rounded-full","transition-all","duration-300"],["type","button",1,"flex","items-center","gap-2","group","cursor-pointer","disabled:cursor-not-allowed",3,"click","disabled"],[1,"w-10","h-10","rounded-full","transition-all","duration-300","flex","items-center","justify-center","text-sm","font-bold","group-hover:scale-110"]],template:function(a,t){a&1&&(s(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2)(4,"div",3),v(5,"i"),c(),s(6,"span"),l(7),c()(),s(8,"p",4),l(9,"Compl\xE9tez les informations de votre candidature"),c()(),s(10,"div",5)(11,"button",6),V("click",function(){return t.goToStep(1)}),s(12,"div",7),u(13,Pe,1,0,"i",8)(14,Ie,2,0,"span"),c(),s(15,"span",9),l(16," Infos "),c()(),v(17,"div",10),s(18,"button",11),V("click",function(){return t.goToStep(2)}),s(19,"div",12),u(20,Re,1,0,"i",8)(21,Ge,2,0,"span"),c(),s(22,"span",9),l(23," Dates "),c()(),v(24,"div",10),s(25,"button",11),V("click",function(){return t.goToStep(3)}),s(26,"div",12),u(27,je,1,0,"i",8)(28,Ae,2,0,"span"),c(),s(29,"span",9),l(30," Contact "),c()(),v(31,"div",10),s(32,"button",11),V("click",function(){return t.goToStep(4)}),s(33,"div",12),u(34,Oe,1,0,"i",8)(35,He,2,0,"span"),c(),s(36,"span",9),l(37," Conditions "),c()()()()()),a&2&&(d(5),S($("fas ",t.isEditMode?"fa-edit":"fa-plus"," text-white text-xl")),d(2),J("",t.isEditMode?"Modifier":"Nouvelle"," Candidature"),d(5),S(t.isStep1Valid()?"bg-green-500 text-white shadow-lg shadow-green-500/30":t.currentStep()===1?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),d(),f(t.isStep1Valid()?13:14),d(2),S(t.currentStep()===1?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"),d(2),S(t.isStep1Valid()?"bg-green-500":"bg-gray-300 dark:bg-gray-600"),d(),A("disabled",!t.isStep1Valid()),d(),S(t.isStep2Valid()?"bg-green-500 text-white shadow-lg shadow-green-500/30":t.currentStep()===2?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),d(),f(t.isStep2Valid()?20:21),d(2),S(t.currentStep()===2?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"),d(2),S(t.isStep2Valid()?"bg-green-500":"bg-gray-300 dark:bg-gray-600"),d(),A("disabled",!t.isStep1Valid()||!t.isStep2Valid()),d(),S(t.isStep3Valid()?"bg-green-500 text-white shadow-lg shadow-green-500/30":t.currentStep()===3?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),d(),f(t.isStep3Valid()?27:28),d(2),S(t.currentStep()===3?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"),d(2),S(t.isStep3Valid()?"bg-green-500":"bg-gray-300 dark:bg-gray-600"),d(),A("disabled",!t.isStep1Valid()||!t.isStep2Valid()||!t.isStep3Valid()),d(),S(t.isStep4Valid()?"bg-green-500 text-white shadow-lg shadow-green-500/30":t.currentStep()===4?"bg-primary-500 text-white shadow-lg shadow-primary-500/30":"bg-gray-300 dark:bg-gray-600 text-gray-600 dark:text-gray-400"),d(),f(t.isStep4Valid()?34:35),d(2),S(t.currentStep()===4?"text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-300"))},dependencies:[y],encapsulation:2,changeDetection:0})};function qe(o,e){o&1&&(s(0,"div",5),v(1,"i",16),s(2,"span"),l(3,"Compl\xE9tez les champs requis (*)"),c()())}function ze(o,e){if(o&1){let a=re();s(0,"button",17),V("click",function(){ae(a);let p=g();return ne(p.previousStep())}),v(1,"i",18),s(2,"span"),l(3,"Pr\xE9c\xE9dent"),c()()}}function Be(o,e){if(o&1){let a=re();s(0,"button",19),V("click",function(){ae(a);let p=g();return ne(p.nextStep())}),s(1,"span"),l(2,"Suivant"),c(),v(3,"i",20),c()}if(o&2){let a=g();A("disabled",!a.canGoToNextStep())}}function Je(o,e){o&1&&(v(0,"i",21),s(1,"span"),l(2,"Enregistrement..."),c())}function $e(o,e){if(o&1&&(v(0,"i"),s(1,"span"),l(2),c()),o&2){let a=g(2);S($("fas ",a.isEditMode?"fa-save":"fa-check")),d(2),h(a.isEditMode?"Modifier la candidature":"Cr\xE9er la candidature")}}function Ue(o,e){if(o&1&&(s(0,"button",11),u(1,Je,3,0)(2,$e,3,4),c()),o&2){let a=g();A("disabled",!a.candidatureFormValid||a.isLoading),d(),f(a.isLoading?1:2)}}var X=class o{currentStep;totalSteps=4;canGoToNextStep;isLastStep;isFirstStep;previousStep;nextStep;onCancel;candidatureFormValid=!1;isLoading=!1;isEditMode=!1;static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-footer"]],inputs:{currentStep:"currentStep",totalSteps:"totalSteps",canGoToNextStep:"canGoToNextStep",isLastStep:"isLastStep",isFirstStep:"isFirstStep",previousStep:"previousStep",nextStep:"nextStep",onCancel:"onCancel",candidatureFormValid:"candidatureFormValid",isLoading:"isLoading",isEditMode:"isEditMode"},decls:25,vars:14,consts:[[1,"card","bg-gradient-to-br","from-gray-50","to-white","dark:from-gray-800/50","dark:to-gray-900/50","border-2","border-gray-200","dark:border-gray-700","sticky","bottom-4","z-10","shadow-xl"],[1,"flex","flex-col","sm:flex-row","items-center","justify-between","gap-4"],[1,"flex","items-center","gap-3"],[1,"flex","items-center","gap-2","text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-layer-group","text-primary-500"],[1,"flex","items-center","gap-2","text-xs","text-amber-600","dark:text-amber-400","bg-amber-50","dark:bg-amber-900/20","px-3","py-1","rounded-full"],[1,"flex","gap-3"],["type","button",1,"btn-outline","flex","items-center","gap-2","hover:scale-105","transform","transition-all","duration-200","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-times"],["type","button",1,"btn-outline","flex","items-center","gap-2","hover:scale-105","transform","transition-all","duration-200","border-blue-300","text-blue-600","hover:bg-blue-50","dark:border-blue-700","dark:text-blue-400","dark:hover:bg-blue-900/20","cursor-pointer","disabled:cursor-not-allowed"],["type","button",1,"btn-primary","flex","items-center","gap-2","shadow-lg","shadow-primary-500/30","hover:shadow-xl","hover:shadow-primary-500/40","hover:scale-105","transform","transition-all","duration-200","disabled:opacity-50","cursor-pointer","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"disabled"],["type","submit",1,"btn-primary","flex","items-center","gap-2","shadow-lg","shadow-primary-500/30","hover:shadow-xl","hover:shadow-primary-500/40","hover:scale-105","transform","transition-all","duration-200","disabled:opacity-50","cursor-pointer","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"disabled"],[1,"mt-4","pt-4","border-t","border-gray-200","dark:border-gray-700"],[1,"w-full","bg-gray-200","dark:bg-gray-700","rounded-full","h-2","overflow-hidden"],[1,"bg-gradient-to-r","from-primary-500","to-primary-600","h-2","rounded-full","transition-all","duration-500","ease-out"],[1,"flex","justify-between","mt-2","text-xs","text-gray-500","dark:text-gray-400"],[1,"fas","fa-exclamation-triangle"],["type","button",1,"btn-outline","flex","items-center","gap-2","hover:scale-105","transform","transition-all","duration-200","border-blue-300","text-blue-600","hover:bg-blue-50","dark:border-blue-700","dark:text-blue-400","dark:hover:bg-blue-900/20","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-arrow-left"],["type","button",1,"btn-primary","flex","items-center","gap-2","shadow-lg","shadow-primary-500/30","hover:shadow-xl","hover:shadow-primary-500/40","hover:scale-105","transform","transition-all","duration-200","disabled:opacity-50","cursor-pointer","disabled:cursor-not-allowed","disabled:hover:scale-100",3,"click","disabled"],[1,"fas","fa-arrow-right"],[1,"fas","fa-spinner","fa-spin"]],template:function(a,t){a&1&&(s(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),v(4,"i",4),s(5,"span"),l(6),c()(),u(7,qe,4,0,"div",5),c(),s(8,"div",6)(9,"button",7),V("click",function(){return t.onCancel()}),v(10,"i",8),s(11,"span"),l(12,"Annuler"),c()(),u(13,ze,4,0,"button",9),u(14,Be,4,1,"button",10),u(15,Ue,3,2,"button",11),c()(),s(16,"div",12)(17,"div",13),v(18,"div",14),c(),s(19,"div",15)(20,"span"),l(21),pe(22,"number"),c(),s(23,"span"),l(24),c()()()()),a&2&&(d(6),oe("\xC9tape ",t.currentStep()," sur ",t.totalSteps),d(),f(!t.canGoToNextStep()&&!t.isLastStep()?7:-1),d(6),f(t.isFirstStep()?-1:13),d(),f(t.isLastStep()?-1:14),d(),f(t.isLastStep()?15:-1),d(3),se("width",t.currentStep()/t.totalSteps*100,"%"),d(3),J("",ce(22,11,t.currentStep()/t.totalSteps*100,"1.0-0"),"% compl\xE9t\xE9"),d(3),oe(" ",t.totalSteps-t.currentStep()," ",t.totalSteps-t.currentStep()>1?"\xE9tapes restantes":"\xE9tape restante"," "))},dependencies:[y,ue],encapsulation:2,changeDetection:0})};function We(o,e){if(o&1&&(i(0,"option",32),l(1),n()),o&2){let a=e.$implicit,t=g();m("ngValue",a),d(),h(t.getTypeContratLabel(a))}}var Y=class o{form;typesContrat=[];getTypeContratLabel;static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-step1"]],inputs:{form:"form",typesContrat:"typesContrat",getTypeContratLabel:"getTypeContratLabel"},decls:94,vars:8,consts:[[1,"card","border-l-4","border-primary-500","bg-white","dark:bg-gray-800","shadow-sm","hover:shadow-md","transition-all","duration-300","animate-fadeIn",3,"formGroup"],[1,"flex","items-center","gap-3","mb-6","pb-4","border-b","border-gray-200","dark:border-gray-700"],[1,"w-10","h-10","rounded-lg","bg-primary-50","dark:bg-primary-900/20","flex","items-center","justify-center"],[1,"fas","fa-info-circle","text-primary-600","dark:text-primary-400"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"ml-auto","flex","items-center","gap-2"],[1,"text-xs","font-medium","px-2","py-1","rounded-full"],[1,"fas","fa-asterisk","mr-1"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-5"],[1,"group"],["for","entreprise",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-building","text-primary-500","text-sm"],[1,"text-red-500"],[1,"relative"],["id","entreprise","type","text","formControlName","entreprise","placeholder","Ex: Google, Microsoft, Amazon...","autocomplete","organization",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-primary-500"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","transition-all","duration-200","group-focus-within:text-primary-500","group-focus-within:left-4"],[1,"fas","fa-building"],["fieldName","L'entreprise",3,"control"],["for","poste",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-briefcase","text-primary-500","text-sm"],["id","poste","type","text","formControlName","poste","placeholder","Ex: D\xE9veloppeur Full Stack, DevOps...","autocomplete","organization-title",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-primary-500"],[1,"fas","fa-briefcase"],["fieldName","Le poste",3,"control"],["for","localisation",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-map-marker-alt","text-primary-500","text-sm"],["id","localisation","type","text","formControlName","localisation","placeholder","Ex: Paris, Lyon, Remote...","autocomplete","address-level2",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-primary-500"],[1,"fas","fa-map-marker-alt"],["fieldName","La localisation",3,"control"],["for","typeContrat",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-file-contract","text-primary-500","text-sm"],["id","typeContrat","formControlName","typeContrat",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-primary-500"],[3,"ngValue"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"fas","fa-file-contract"],["for","lienOffre",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-link","text-primary-500","text-sm"],["id","lienOffre","type","url","formControlName","lienOffre","placeholder","https://exemple.com/offre","autocomplete","url",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-primary-500"],[1,"fas","fa-link"],["fieldName","Le lien",3,"control"],["for","source",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-rss","text-primary-500","text-sm"],["id","source","type","text","formControlName","source","placeholder","LinkedIn, Indeed, Site entreprise...","autocomplete","off",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-primary-500"],[1,"fas","fa-rss"],[1,"mt-5","group"],["for","description",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-align-left","text-primary-500","text-sm"],["id","description","formControlName","description","placeholder","Ajoutez vos notes : motivations, points cl\xE9s de l'offre, prochaines \xE9tapes...","rows","4",1,"form-input","pl-11","pt-3","min-h-[120px]","transition-all","duration-200","focus:ring-2","focus:ring-primary-500"],[1,"absolute","left-3","top-3","text-gray-400","transition-colors","duration-200","group-focus-within:text-primary-500"],[1,"fas","fa-align-left"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400","ml-11"],[1,"fas","fa-lightbulb","mr-1"]],template:function(a,t){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"i",3),n(),i(4,"div")(5,"h2",4),l(6,"Informations principales"),n(),i(7,"p",5),l(8,"Entreprise, poste et localisation"),n()(),i(9,"div",6)(10,"span",7),r(11,"i",8),l(12,"Requis "),n()()(),i(13,"div",9)(14,"div",10)(15,"label",11),r(16,"i",12),i(17,"span"),l(18,"Entreprise"),n(),i(19,"span",13),l(20,"*"),n()(),i(21,"div",14),r(22,"input",15),i(23,"span",16),r(24,"i",17),n()(),r(25,"app-form-field-error",18),n(),i(26,"div",10)(27,"label",19),r(28,"i",20),i(29,"span"),l(30,"Poste"),n(),i(31,"span",13),l(32,"*"),n()(),i(33,"div",14),r(34,"input",21),i(35,"span",16),r(36,"i",22),n()(),r(37,"app-form-field-error",23),n(),i(38,"div",10)(39,"label",24),r(40,"i",25),i(41,"span"),l(42,"Localisation"),n(),i(43,"span",13),l(44,"*"),n()(),i(45,"div",14),r(46,"input",26),i(47,"span",16),r(48,"i",27),n()(),r(49,"app-form-field-error",28),n(),i(50,"div",10)(51,"label",29),r(52,"i",30),i(53,"span"),l(54,"Type de contrat"),n()(),i(55,"div",14)(56,"select",31)(57,"option",32),l(58,"-- S\xE9lectionner un type --"),n(),_(59,We,2,2,"option",32,F),n(),i(61,"span",33),r(62,"i",34),n()()(),i(63,"div",10)(64,"label",35),r(65,"i",36),i(66,"span"),l(67,"Lien de l'offre"),n()(),i(68,"div",14),r(69,"input",37),i(70,"span",16),r(71,"i",38),n()(),r(72,"app-form-field-error",39),n(),i(73,"div",10)(74,"label",40),r(75,"i",41),i(76,"span"),l(77,"Source"),n()(),i(78,"div",14),r(79,"input",42),i(80,"span",16),r(81,"i",43),n()()()(),i(82,"div",44)(83,"label",45),r(84,"i",46),i(85,"span"),l(86,"Description / Notes personnelles"),n()(),i(87,"div",14),r(88,"textarea",47),i(89,"span",48),r(90,"i",49),n()(),i(91,"p",50),r(92,"i",51),l(93," Ces notes sont priv\xE9es et ne sont visibles que par vous "),n()()()),a&2){let p;m("formGroup",t.form),d(10),S((p=t.form.get("entreprise"))!=null&&p.valid&&((p=t.form.get("poste"))!=null&&p.valid)&&((p=t.form.get("localisation"))!=null&&p.valid)?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),d(15),m("control",t.form.get("entreprise")),d(12),m("control",t.form.get("poste")),d(12),m("control",t.form.get("localisation")),d(8),m("ngValue",null),d(2),k(t.typesContrat),d(13),m("control",t.form.get("lienOffre"))}},dependencies:[y,M,R,G,L,I,D,w,N,P,j],encapsulation:2,changeDetection:0})};function Ke(o,e){if(o&1&&(i(0,"option",30),l(1),n()),o&2){let a=e.$implicit,t=g();m("value",a),d(),h(t.getStatutLabel(a))}}function Qe(o,e){if(o&1&&(i(0,"option",37),l(1),n()),o&2){let a=e.$implicit,t=g();m("ngValue",a),d(),h(t.getPrioriteLabel(a))}}var ee=class o{form;statuts=[];getStatutLabel;priorites=[];getPrioriteLabel;static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-step2"]],inputs:{form:"form",statuts:"statuts",getStatutLabel:"getStatutLabel",priorites:"priorites",getPrioriteLabel:"getPrioriteLabel"},decls:87,vars:7,consts:[[1,"card","border-l-4","border-blue-500","bg-white","dark:bg-gray-800","shadow-sm","hover:shadow-md","transition-all","duration-300","animate-fadeIn",3,"formGroup"],[1,"flex","items-center","gap-3","mb-6","pb-4","border-b","border-gray-200","dark:border-gray-700"],[1,"w-10","h-10","rounded-lg","bg-blue-50","dark:bg-blue-900/20","flex","items-center","justify-center"],[1,"fas","fa-calendar-check","text-blue-600","dark:text-blue-400"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"ml-auto","flex","items-center","gap-2"],[1,"text-xs","font-medium","px-2","py-1","rounded-full"],[1,"fas","fa-asterisk","mr-1"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-5"],[1,"group"],["for","dateCandidature",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-calendar-alt","text-blue-500","text-sm"],[1,"text-red-500"],[1,"relative"],["id","dateCandidature","type","date","formControlName","dateCandidature",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","transition-colors","duration-200","group-focus-within:text-blue-500"],[1,"fas","fa-calendar-alt"],["fieldName","La date",3,"control"],["for","dateDernierContact",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-clock","text-blue-500","text-sm"],["id","dateDernierContact","type","date","formControlName","dateDernierContact",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[1,"fas","fa-clock"],["for","dateRelancePrevue",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-bell","text-blue-500","text-sm"],["id","dateRelancePrevue","type","date","formControlName","dateRelancePrevue",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[1,"fas","fa-bell"],["for","statut",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-flag","text-blue-500","text-sm"],["id","statut","formControlName","statut",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[3,"value"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"fas","fa-flag"],["fieldName","Le statut",3,"control"],["for","priorite",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-exclamation-triangle","text-blue-500","text-sm"],["id","priorite","formControlName","priorite",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[3,"ngValue"],[1,"fas","fa-exclamation-triangle"],["for","score",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-star","text-blue-500","text-sm"],["id","score","type","number","formControlName","score","min","1","max","5","placeholder","1-5",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-blue-500"],[1,"fas","fa-star"],["fieldName","Le score",3,"control"],[1,"mt-5","flex","items-center","gap-4"],["for","archivee",1,"flex","items-center","gap-2","cursor-pointer","group"],["id","archivee","type","checkbox","formControlName","archivee",1,"form-checkbox","text-blue-600","focus:ring-blue-500"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","group-hover:text-blue-600","dark:group-hover:text-blue-400","transition-colors"],[1,"fas","fa-archive","mr-1"]],template:function(a,t){if(a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"i",3),n(),i(4,"div")(5,"h2",4),l(6,"Dates et statut"),n(),i(7,"p",5),l(8,"Suivi temporel de la candidature"),n()(),i(9,"div",6)(10,"span",7),r(11,"i",8),l(12,"Requis "),n()()(),i(13,"div",9)(14,"div",10)(15,"label",11),r(16,"i",12),i(17,"span"),l(18,"Date de candidature"),n(),i(19,"span",13),l(20,"*"),n()(),i(21,"div",14),r(22,"input",15),i(23,"span",16),r(24,"i",17),n()(),r(25,"app-form-field-error",18),n(),i(26,"div",10)(27,"label",19),r(28,"i",20),i(29,"span"),l(30,"Dernier contact"),n()(),i(31,"div",14),r(32,"input",21),i(33,"span",16),r(34,"i",22),n()()(),i(35,"div",10)(36,"label",23),r(37,"i",24),i(38,"span"),l(39,"Relance pr\xE9vue"),n()(),i(40,"div",14),r(41,"input",25),i(42,"span",16),r(43,"i",26),n()()(),i(44,"div",10)(45,"label",27),r(46,"i",28),i(47,"span"),l(48,"Statut"),n(),i(49,"span",13),l(50,"*"),n()(),i(51,"div",14)(52,"select",29),_(53,Ke,2,2,"option",30,F),n(),i(55,"span",31),r(56,"i",32),n()(),r(57,"app-form-field-error",33),n(),i(58,"div",10)(59,"label",34),r(60,"i",35),i(61,"span"),l(62,"Priorit\xE9"),n()(),i(63,"div",14)(64,"select",36)(65,"option",37),l(66,"-- S\xE9lectionner une priorit\xE9 --"),n(),_(67,Qe,2,2,"option",37,F),n(),i(69,"span",31),r(70,"i",38),n()()(),i(71,"div",10)(72,"label",39),r(73,"i",40),i(74,"span"),l(75,"Score (1-5)"),n()(),i(76,"div",14),r(77,"input",41),i(78,"span",16),r(79,"i",42),n()(),r(80,"app-form-field-error",43),n()(),i(81,"div",44)(82,"label",45),r(83,"input",46),i(84,"span",47),r(85,"i",48),l(86," Archiver cette candidature "),n()()()()),a&2){let p;m("formGroup",t.form),d(10),S((p=t.form.get("dateCandidature"))!=null&&p.valid&&((p=t.form.get("statut"))!=null&&p.valid)?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"),d(15),m("control",t.form.get("dateCandidature")),d(28),k(t.statuts),d(4),m("control",t.form.get("statut")),d(8),m("ngValue",null),d(2),k(t.priorites),d(13),m("control",t.form.get("score"))}},dependencies:[y,M,R,G,L,U,ve,I,D,w,K,W,N,P,j],encapsulation:2,changeDetection:0})};function Xe(o,e){if(o&1&&(i(0,"option",18),l(1),n()),o&2){let a=e.$implicit,t=g();m("ngValue",a),d(),h(t.getCanalContactLabel(a))}}function Ye(o,e){if(o&1&&(i(0,"div",23)(1,"label",24),r(2,"i",25),i(3,"span"),l(4,"Email du contact"),n()(),i(5,"div",11),r(6,"input",26),i(7,"span",13),r(8,"i",27),n()(),r(9,"app-form-field-error",28),n()),o&2){let a=g();d(9),m("control",a.form.get("contactEmail"))}}function Ze(o,e){o&1&&(i(0,"div",23)(1,"label",29),r(2,"i",30),i(3,"span"),l(4,"T\xE9l\xE9phone du contact"),n()(),i(5,"div",11),r(6,"input",31),i(7,"span",13),r(8,"i",32),n()()())}function et(o,e){o&1&&(i(0,"div",23)(1,"label",33),r(2,"i",34),i(3,"span"),l(4,"Profil LinkedIn"),n()(),i(5,"div",11),r(6,"input",35),i(7,"span",13),r(8,"i",36),n()()())}function tt(o,e){o&1&&(i(0,"div",23)(1,"label",37),r(2,"i",38),i(3,"span"),l(4,"Site web du contact"),n()(),i(5,"div",11),r(6,"input",39),i(7,"span",13),r(8,"i",40),n()()())}var te=class o{form;canauxContact=[];getCanalContactLabel;destroyRef=E(H);canalContactValue=T(null);showEmailField=T(!1);showPhoneField=T(!1);showLinkedinField=T(!1);showSiteField=T(!1);ngOnInit(){let e=this.form?.get("canalContact");e?(this.canalContactValue.set(e.value),e.valueChanges.pipe(O(this.destroyRef)).subscribe(a=>{this.canalContactValue.set(a)})):this.canalContactValue.set(null),this.showEmailField=b(()=>this.canalContactValue()==="EMAIL"),this.showPhoneField=b(()=>this.canalContactValue()==="TELEPHONE"),this.showLinkedinField=b(()=>this.canalContactValue()==="LINKEDIN"),this.showSiteField=b(()=>this.canalContactValue()==="SITE")}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-step3"]],inputs:{form:"form",canauxContact:"canauxContact",getCanalContactLabel:"getCanalContactLabel"},decls:41,vars:6,consts:[[1,"card","border-l-4","border-green-500","bg-white","dark:bg-gray-800","shadow-sm","hover:shadow-md","transition-all","duration-300","animate-fadeIn",3,"formGroup"],[1,"flex","items-center","gap-3","mb-6","pb-4","border-b","border-gray-200","dark:border-gray-700"],[1,"w-10","h-10","rounded-lg","bg-green-50","dark:bg-green-900/20","flex","items-center","justify-center"],[1,"fas","fa-user-tie","text-green-600","dark:text-green-400"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"space-y-5"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-5"],[1,"group"],["for","contactNom",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-user","text-green-500","text-sm"],[1,"relative"],["id","contactNom","type","text","formControlName","contactNom","placeholder","Ex: Jean Dupont","autocomplete","name",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-green-500"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","transition-all","duration-200","group-focus-within:text-green-500","group-focus-within:left-4"],[1,"fas","fa-user"],["for","canalContact",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-comment","text-green-500","text-sm"],["id","canalContact","formControlName","canalContact",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-green-500"],[3,"ngValue"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"fas","fa-comment"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"fas","fa-info-circle","mr-1"],[1,"group","animate-fadeIn"],["for","contactEmail",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-envelope","text-green-500","text-sm"],["id","contactEmail","type","email","formControlName","contactEmail","placeholder","contact@exemple.com","autocomplete","email",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-green-500"],[1,"fas","fa-envelope"],["fieldName","L'email",3,"control"],["for","contactTelephone",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-phone","text-green-500","text-sm"],["id","contactTelephone","type","tel","formControlName","contactTelephone","placeholder","+33 6 12 34 56 78","autocomplete","tel",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-green-500"],[1,"fas","fa-phone"],["for","contactLinkedin",1,"form-label","flex","items-center","gap-2"],[1,"fab","fa-linkedin","text-green-500","text-sm"],["id","contactLinkedin","type","url","formControlName","contactLinkedin","placeholder","https://linkedin.com/in/...","autocomplete","url",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-green-500"],[1,"fab","fa-linkedin"],["for","contactSite",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-globe","text-green-500","text-sm"],["id","contactSite","type","url","formControlName","contactSite","placeholder","https://exemple.com","autocomplete","url",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-green-500"],[1,"fas","fa-globe"]],template:function(a,t){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"i",3),n(),i(4,"div")(5,"h2",4),l(6,"Informations de contact"),n(),i(7,"p",5),l(8,"Personne de contact et moyens de communication"),n()()(),i(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),r(13,"i",10),i(14,"span"),l(15,"Nom du contact"),n()(),i(16,"div",11),r(17,"input",12),i(18,"span",13),r(19,"i",14),n()()(),i(20,"div",8)(21,"label",15),r(22,"i",16),i(23,"span"),l(24,"Canal de contact"),n()(),i(25,"div",11)(26,"select",17)(27,"option",18),l(28,"-- S\xE9lectionner un canal --"),n(),_(29,Xe,2,2,"option",18,F),n(),i(31,"span",19),r(32,"i",20),n()(),i(33,"p",21),r(34,"i",22),l(35," S\xE9lectionnez le moyen de communication principal "),n()()(),i(36,"div",7),u(37,Ye,10,1,"div",23),u(38,Ze,9,0,"div",23),u(39,et,9,0,"div",23),u(40,tt,9,0,"div",23),n()()()),a&2&&(m("formGroup",t.form),d(27),m("ngValue",null),d(2),k(t.canauxContact),d(8),f(t.showEmailField()?37:-1),d(),f(t.showPhoneField()?38:-1),d(),f(t.showLinkedinField()?39:-1),d(),f(t.showSiteField()?40:-1))},dependencies:[y,M,R,G,L,I,D,w,N,P,j],encapsulation:2,changeDetection:0})};function it(o,e){if(o&1&&(i(0,"option",12),l(1),n()),o&2){let a=e.$implicit,t=g();m("ngValue",a),d(),h(t.getTypeRemunerationLabel(a))}}function at(o,e){if(o&1&&(i(0,"option",12),l(1),n()),o&2){let a=e.$implicit,t=g();m("ngValue",a),d(),h(t.getTypeTeletravailLabel(a))}}function nt(o,e){if(o&1&&(i(0,"div",31)(1,"label",32),r(2,"i",33),i(3,"span"),l(4,"Jours de t\xE9l\xE9travail par semaine"),n()(),i(5,"div",10),r(6,"input",34),i(7,"span",21),r(8,"i",35),n()(),r(9,"app-form-field-error",36),i(10,"p",15),r(11,"i",16),l(12," Nombre de jours t\xE9l\xE9travaill\xE9s par semaine (entre 1 et 5) "),n()()),o&2){let a=g();d(9),m("control",a.form.get("joursTeletravailParSemaine"))}}var ie=class o{form;typesRemuneration=[];typesTeletravail=[];getTypeRemunerationLabel;getTypeTeletravailLabel;destroyRef=E(H);typeTeletravailValue=T(null);showJoursTeletravail=T(!1);ngOnInit(){let e=this.form?.get("typeTeletravail");e?(this.typeTeletravailValue.set(e.value),e.valueChanges.pipe(O(this.destroyRef)).subscribe(a=>{this.typeTeletravailValue.set(a)})):this.typeTeletravailValue.set(null),this.showJoursTeletravail=b(()=>this.typeTeletravailValue()==="PARTIEL")}static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form-step4"]],inputs:{form:"form",typesRemuneration:"typesRemuneration",typesTeletravail:"typesTeletravail",getTypeRemunerationLabel:"getTypeRemunerationLabel",getTypeTeletravailLabel:"getTypeTeletravailLabel"},decls:64,vars:6,consts:[[1,"card","border-l-4","border-amber-500","bg-white","dark:bg-gray-800","shadow-sm","hover:shadow-md","transition-all","duration-300","animate-fadeIn",3,"formGroup"],[1,"flex","items-center","gap-3","mb-6","pb-4","border-b","border-gray-200","dark:border-gray-700"],[1,"w-10","h-10","rounded-lg","bg-amber-50","dark:bg-amber-900/20","flex","items-center","justify-center"],[1,"fas","fa-money-bill-wave","text-amber-600","dark:text-amber-400"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],[1,"space-y-5"],[1,"group"],["for","typeRemuneration",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-calendar-alt","text-amber-500","text-sm"],[1,"relative"],["id","typeRemuneration","formControlName","typeRemuneration",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-amber-500"],[3,"ngValue"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","pointer-events-none"],[1,"fas","fa-calendar-alt"],[1,"mt-1","text-xs","text-gray-500","dark:text-gray-400"],[1,"fas","fa-info-circle","mr-1"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-5"],["for","salaireMin",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-euro-sign","text-amber-500","text-sm"],["id","salaireMin","type","number","formControlName","salaireMin","placeholder","Ex: 35000","min","0",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-amber-500"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","transition-all","duration-200","group-focus-within:text-amber-500","group-focus-within:left-4"],[1,"fas","fa-euro-sign"],["fieldName","Le salaire minimum",3,"control"],["for","salaireMax",1,"form-label","flex","items-center","gap-2"],["id","salaireMax","type","number","formControlName","salaireMax","placeholder","Ex: 50000","min","0",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-amber-500"],["fieldName","Le salaire maximum",3,"control"],["for","typeTeletravail",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-home","text-amber-500","text-sm"],["id","typeTeletravail","formControlName","typeTeletravail",1,"form-input","pl-11","transition-all","duration-200","focus:ring-2","focus:ring-amber-500"],[1,"fas","fa-home"],[1,"group","animate-fadeIn"],["for","joursTeletravailParSemaine",1,"form-label","flex","items-center","gap-2"],[1,"fas","fa-calendar-week","text-amber-500","text-sm"],["id","joursTeletravailParSemaine","type","number","formControlName","joursTeletravailParSemaine","placeholder","Ex: 2","min","1","max","5",1,"form-input","pl-11","transition-all","duration-200","focus:pl-12","focus:ring-2","focus:ring-amber-500"],[1,"fas","fa-calendar-week"],["fieldName","Le nombre de jours",3,"control"]],template:function(a,t){a&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),r(3,"i",3),n(),i(4,"div")(5,"h2",4),l(6,"Conditions"),n(),i(7,"p",5),l(8,"R\xE9mun\xE9ration et modalit\xE9s de travail"),n()()(),i(9,"div",6)(10,"div",7)(11,"label",8),r(12,"i",9),i(13,"span"),l(14,"Type de r\xE9mun\xE9ration"),n()(),i(15,"div",10)(16,"select",11)(17,"option",12),l(18,"-- S\xE9lectionner un type --"),n(),_(19,it,2,2,"option",12,F),n(),i(21,"span",13),r(22,"i",14),n()(),i(23,"p",15),r(24,"i",16),l(25," P\xE9riode de calcul du salaire (annuel, mensuel ou horaire) "),n()(),i(26,"div",17)(27,"div",7)(28,"label",18),r(29,"i",19),i(30,"span"),l(31,"Salaire minimum (\u20AC)"),n()(),i(32,"div",10),r(33,"input",20),i(34,"span",21),r(35,"i",22),n()(),r(36,"app-form-field-error",23),n(),i(37,"div",7)(38,"label",24),r(39,"i",19),i(40,"span"),l(41,"Salaire maximum (\u20AC)"),n()(),i(42,"div",10),r(43,"input",25),i(44,"span",21),r(45,"i",22),n()(),r(46,"app-form-field-error",26),n()(),i(47,"div",7)(48,"label",27),r(49,"i",28),i(50,"span"),l(51,"T\xE9l\xE9travail"),n()(),i(52,"div",10)(53,"select",29)(54,"option",12),l(55,"-- S\xE9lectionner une option --"),n(),_(56,at,2,2,"option",12,F),n(),i(58,"span",13),r(59,"i",30),n()(),i(60,"p",15),r(61,"i",16),l(62," Modalit\xE9 de t\xE9l\xE9travail pour ce poste "),n()(),u(63,nt,13,1,"div",31),n()()),a&2&&(m("formGroup",t.form),d(17),m("ngValue",null),d(2),k(t.typesRemuneration),d(17),m("control",t.form.get("salaireMin")),d(10),m("control",t.form.get("salaireMax")),d(8),m("ngValue",null),d(2),k(t.typesTeletravail),d(7),f(t.showJoursTeletravail()?63:-1))},dependencies:[y,M,R,G,L,U,I,D,w,K,W,N,P,j],encapsulation:2,changeDetection:0})};function rt(o,e){if(o&1&&r(0,"app-candidature-form-step1",3),o&2){let a=g();m("form",a.candidatureForm)("typesContrat",a.typesContrat)("getTypeContratLabel",a.getTypeContratLabel)}}function ot(o,e){if(o&1&&r(0,"app-candidature-form-step2",4),o&2){let a=g();m("form",a.candidatureForm)("statuts",a.statuts)("getStatutLabel",a.getStatutLabel)("priorites",a.priorites)("getPrioriteLabel",a.getPrioriteLabel)}}function lt(o,e){if(o&1&&r(0,"app-candidature-form-step3",5),o&2){let a=g();m("form",a.candidatureForm)("canauxContact",a.canauxContact)("getCanalContactLabel",a.getCanalContactLabel)}}function dt(o,e){if(o&1&&r(0,"app-candidature-form-step4",6),o&2){let a=g();m("form",a.candidatureForm)("typesRemuneration",a.typesRemuneration)("typesTeletravail",a.typesTeletravail)("getTypeRemunerationLabel",a.getTypeRemunerationLabel)("getTypeTeletravailLabel",a.getTypeTeletravailLabel)}}var De=class o{fb=E(Ce);candidatureService=E(ye);notificationService=E(Se);router=E(ge);route=E(fe);destroyRef=E(H);candidatureForm=this.fb.group({entreprise:["",x.required],poste:["",x.required],localisation:["",x.required],lienOffre:[""],description:[""],dateCandidature:[B(new Date),x.required],dateDernierContact:[""],dateRelancePrevue:[""],statut:["APPLIQUEE",x.required],priorite:[""],archivee:[!1],contactNom:[""],contactEmail:["",x.email],contactTelephone:[""],contactLinkedin:[""],contactSite:[""],canalContact:[""],typeContrat:[""],salaireMin:["",[x.min(0)]],salaireMax:["",[x.min(0)]],typeRemuneration:[""],typeTeletravail:[""],joursTeletravailParSemaine:["",[x.min(1),x.max(5)]],score:["",[x.min(1),x.max(5)]],source:[""]});statuts=he();getStatutLabel=xe;priorites=Te();getPrioriteLabel=Ee;canauxContact=_e();getCanalContactLabel=Fe;typesContrat=we();getTypeContratLabel=ke;typesRemuneration=Me();getTypeRemunerationLabel=Ne;typesTeletravail=Le();getTypeTeletravailLabel=Ve;isEditMode=!1;candidatureId;isLoading=!1;currentStep=T(1);totalSteps=4;formChanges=le(this.candidatureForm.valueChanges,{initialValue:this.candidatureForm.value});formStatus=le(this.candidatureForm.statusChanges,{initialValue:this.candidatureForm.status});isStep1Valid=b(()=>{this.formChanges(),this.formStatus();let e=this.candidatureForm.get("entreprise"),a=this.candidatureForm.get("poste"),t=this.candidatureForm.get("localisation");return!!(e?.value&&e?.valid&&a?.value&&a?.valid&&t?.value&&t?.valid)});isStep2Valid=b(()=>{this.formChanges(),this.formStatus();let e=this.candidatureForm.get("dateCandidature"),a=this.candidatureForm.get("statut");return!!(e?.value&&e?.valid&&a?.value&&a?.valid)});isStep3Valid=b(()=>{this.formChanges(),this.formStatus();let e=this.candidatureForm.get("contactEmail"),a=this.candidatureForm.get("contactTelephone"),t=this.candidatureForm.get("contactLinkedin"),p=this.candidatureForm.get("contactSite");return(!e?.value||!!e?.valid)&&(!a?.value||!!a?.valid)&&(!t?.value||!!t?.valid)&&(!p?.value||!!p?.valid)});isStep4Valid=b(()=>{this.formChanges(),this.formStatus();let e=this.candidatureForm.get("salaireMin"),a=this.candidatureForm.get("salaireMax"),t=this.candidatureForm.get("score"),p=this.candidatureForm.get("joursTeletravailParSemaine");return!!((!e?.value||e?.valid)&&(!a?.value||a?.valid)&&(!t?.value||t?.valid)&&(!p?.value||p?.valid))});canGoToNextStep=b(()=>{let e=this.currentStep();return e===1?this.isStep1Valid():e===2?this.isStep2Valid():e===3?this.isStep3Valid():e===4?this.isStep4Valid():!1});isLastStep=b(()=>this.currentStep()===this.totalSteps);isFirstStep=b(()=>this.currentStep()===1);nextStep=()=>{if(!this.canGoToNextStep()){this.markCurrentStepAsTouched();return}this.currentStep()<this.totalSteps&&(this.currentStep.set(this.currentStep()+1),this.scrollToTop())};previousStep=()=>{this.currentStep()>1&&(this.currentStep.set(this.currentStep()-1),this.scrollToTop())};goToStep=e=>{for(let a=1;a<e;a++)if(!this.getStepValidationStatus(a)){this.currentStep.set(a),this.markCurrentStepAsTouched();return}e>=1&&e<=this.totalSteps&&(this.currentStep.set(e),this.scrollToTop())};markCurrentStepAsTouched(){let e=this.currentStep(),a=[];switch(e){case 1:a=["entreprise","poste","localisation"];break;case 2:a=["dateCandidature","statut"];break;case 3:a=["contactEmail","contactTelephone","contactLinkedin","contactSite"];break;case 4:a=["salaireMin","salaireMax","score","joursTeletravailParSemaine"];break}a.forEach(t=>{let p=this.candidatureForm.get(t);p&&(p.markAsTouched(),p.updateValueAndValidity())})}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}getStepValidationStatus(e){return e===1?this.isStep1Valid():e===2?this.isStep2Valid():e===3?this.isStep3Valid():e===4?this.isStep4Valid():!1}ngOnInit(){this.candidatureId=Number(this.route.snapshot.paramMap.get("id")),this.candidatureId&&(this.isEditMode=!0,this.loadCandidature())}loadCandidature(){this.candidatureId&&this.candidatureService.getCandidatureById(this.candidatureId).pipe(O(this.destroyRef)).subscribe({next:e=>{this.candidatureForm.patchValue({entreprise:e.entreprise,poste:e.poste,localisation:e.localisation,lienOffre:e.lienOffre||"",description:e.description||"",dateCandidature:B(e.dateCandidature),dateDernierContact:e.dateDernierContact?B(e.dateDernierContact):"",dateRelancePrevue:e.dateRelancePrevue?B(e.dateRelancePrevue):"",statut:e.statut,priorite:e.priorite,archivee:e.archivee||!1,contactNom:e.contactNom||"",contactEmail:e.contactEmail||"",contactTelephone:e.contactTelephone||"",contactLinkedin:e.contactLinkedin||"",contactSite:e.contactSite||"",canalContact:e.canalContact,typeContrat:e.typeContrat,salaireMin:e.salaireMin||"",salaireMax:e.salaireMax||"",typeRemuneration:e.typeRemuneration,typeTeletravail:e.typeTeletravail,joursTeletravailParSemaine:e.joursTeletravailParSemaine||"",score:e.score||"",source:e.source||""})},error:e=>{console.error("\u274C Erreur lors du chargement:",e)}})}onSubmit(){if(this.candidatureForm.valid){this.isLoading=!0;let e=this.candidatureForm.value,a={entreprise:e.entreprise,poste:e.poste,localisation:e.localisation,lienOffre:e.lienOffre||void 0,description:e.description||void 0,dateCandidature:e.dateCandidature?new Date(e.dateCandidature):void 0,dateDernierContact:e.dateDernierContact?new Date(e.dateDernierContact):void 0,dateRelancePrevue:e.dateRelancePrevue?new Date(e.dateRelancePrevue):void 0,statut:e.statut,priorite:e.priorite||void 0,archivee:e.archivee||!1,contactNom:e.contactNom||void 0,contactEmail:e.contactEmail||void 0,contactTelephone:e.contactTelephone||void 0,contactLinkedin:e.contactLinkedin||void 0,contactSite:e.contactSite||void 0,canalContact:e.canalContact||void 0,typeContrat:e.typeContrat||void 0,salaireMin:e.salaireMin?Number(e.salaireMin):void 0,salaireMax:e.salaireMax?Number(e.salaireMax):void 0,typeRemuneration:e.typeRemuneration||void 0,typeTeletravail:e.typeTeletravail||void 0,joursTeletravailParSemaine:e.joursTeletravailParSemaine?Number(e.joursTeletravailParSemaine):void 0,score:e.score?Number(e.score):void 0,source:e.source||void 0};(this.isEditMode&&this.candidatureId?this.candidatureService.updateCandidature(this.candidatureId,a):this.candidatureService.createCandidature(a)).pipe(O(this.destroyRef)).subscribe({next:()=>{let p=this.isEditMode?"Candidature modifi\xE9e avec succ\xE8s":"Candidature ajout\xE9e avec succ\xE8s";this.notificationService.success(p),this.router.navigate(["/candidatures"])},error:p=>{console.error("\u274C Erreur lors de l'enregistrement:",p);let de=this.isEditMode?"Erreur lors de la modification de la candidature":"Erreur lors de l'ajout de la candidature";this.notificationService.error(de),this.isLoading=!1}})}else Object.keys(this.candidatureForm.controls).forEach(e=>{this.candidatureForm.get(e)?.markAsTouched()}),this.notificationService.warning("Veuillez remplir tous les champs obligatoires")}getFormErrors(){let e={};return Object.keys(this.candidatureForm.controls).forEach(a=>{let t=this.candidatureForm.get(a);t&&t.errors&&(e[a]=t.errors)}),e}onCancel=()=>{this.router.navigate(["/candidatures"])};static \u0275fac=function(a){return new(a||o)};static \u0275cmp=C({type:o,selectors:[["app-candidature-form"]],decls:8,vars:23,consts:[[1,"max-w-5xl","mx-auto","p-6"],[3,"isEditMode","currentStep","isStep1Valid","isStep2Valid","isStep3Valid","isStep4Valid","goToStep"],[1,"space-y-6",3,"ngSubmit","formGroup"],[3,"form","typesContrat","getTypeContratLabel"],[3,"form","statuts","getStatutLabel","priorites","getPrioriteLabel"],[3,"form","canauxContact","getCanalContactLabel"],[3,"form","typesRemuneration","typesTeletravail","getTypeRemunerationLabel","getTypeTeletravailLabel"],[3,"currentStep","totalSteps","canGoToNextStep","isLastStep","isFirstStep","previousStep","nextStep","onCancel","candidatureFormValid","isLoading","isEditMode"]],template:function(a,t){a&1&&(i(0,"div",0),r(1,"app-candidature-form-header",1),i(2,"form",2),me("ngSubmit",function(){return t.onSubmit()}),u(3,rt,1,3,"app-candidature-form-step1",3),u(4,ot,1,5,"app-candidature-form-step2",4),u(5,lt,1,3,"app-candidature-form-step3",5),u(6,dt,1,5,"app-candidature-form-step4",6),r(7,"app-candidature-form-footer",7),n()()),a&2&&(d(),m("isEditMode",t.isEditMode)("currentStep",t.currentStep)("isStep1Valid",t.isStep1Valid)("isStep2Valid",t.isStep2Valid)("isStep3Valid",t.isStep3Valid)("isStep4Valid",t.isStep4Valid)("goToStep",t.goToStep),d(),m("formGroup",t.candidatureForm),d(),f(t.currentStep()===1?3:-1),d(),f(t.currentStep()===2?4:-1),d(),f(t.currentStep()===3?5:-1),d(),f(t.currentStep()===4?6:-1),d(),m("currentStep",t.currentStep)("totalSteps",t.totalSteps)("canGoToNextStep",t.canGoToNextStep)("isLastStep",t.isLastStep)("isFirstStep",t.isFirstStep)("previousStep",t.previousStep)("nextStep",t.nextStep)("onCancel",t.onCancel)("candidatureFormValid",t.candidatureForm.valid)("isLoading",t.isLoading)("isEditMode",t.isEditMode))},dependencies:[y,M,be,w,N,Q,X,Y,ee,te,ie],encapsulation:2,changeDetection:0})};export{De as CandidatureFormComponent};
