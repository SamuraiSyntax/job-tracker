import{b as Ne,d as Ie,f as Re,r as Z}from"./chunk-XJ6M2JNX.js";import"./chunk-HMKQALKV.js";import"./chunk-Z56NGVK5.js";import{a as Y}from"./chunk-HO4B2M3A.js";import{a as je,i as se}from"./chunk-KH6RUNCZ.js";import{a as Oe,b as He}from"./chunk-PLCYP2B4.js";import{a as Be}from"./chunk-B7OGBIUI.js";import{A as Ue,B as ae,C as G,D as j,E as I,H as de,K as R,M as le,Y as qe,b as oe,g as M,o as Pe,p as W,s as X,u as Ae,w as $e,x as ze,y as q}from"./chunk-MZ3ZLVUR.js";import{$ as Te,$a as V,Ab as x,Bb as re,Fb as ee,Gb as te,Hb as Ve,Jb as Le,Lb as ie,Ma as F,Mb as ne,Q,Qb as U,Sb as C,Tb as h,V as p,W as g,Xa as Me,Ya as f,Za as b,_a as N,a as O,ab as L,b as K,ba as ye,bb as E,cb as m,db as u,eb as S,fb as s,ga as k,gb as c,h as we,hb as _,ib as v,ja as Ee,jb as H,l as Se,la as De,mb as w,nb as y,ob as a,wb as T,xa as Fe,xb as D,y as ke,yb as l,za as o,zb as z}from"./chunk-G3X2Z5OP.js";function Qe(i,t){if(i&1){let e=v();m(0,"button",4),w("click",function(){p(e);let n=a();return g(n.clearSearch())}),S(1,"i",5),u()}}var ce=class i{searchTerm=h("");searchTermChange=C();onSearchChange(t){this.searchTermChange.emit(t)}clearSearch(){this.searchTermChange.emit("")}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-search-bar"]],inputs:{searchTerm:[1,"searchTerm"]},outputs:{searchTermChange:"searchTermChange"},decls:4,vars:2,consts:[[1,"relative","group"],[1,"fas","fa-search","absolute","left-4","top-1/2","-translate-y-1/2","text-gray-400","transition-all","group-focus-within:text-primary-600","dark:group-focus-within:text-primary-400","group-focus-within:scale-110"],["type","text","placeholder","Rechercher par entreprise, poste, localisation...",1,"input","pl-12","w-full","transition-all","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400",3,"ngModelChange","ngModel"],["title","Effacer la recherche",1,"absolute","cursor-pointer","right-3","top-1/2","-translate-y-1/2","btn-icon","text-gray-400","hover:text-red-500","transition-colors"],["title","Effacer la recherche",1,"absolute","cursor-pointer","right-3","top-1/2","-translate-y-1/2","btn-icon","text-gray-400","hover:text-red-500","transition-colors",3,"click"],[1,"fas","fa-times-circle"]],template:function(e,r){e&1&&(m(0,"div",0),S(1,"i",1),m(2,"input",2),w("ngModelChange",function(d){return r.onSearchChange(d)}),u(),f(3,Qe,2,0,"button",3),u()),e&2&&(o(2),E("ngModel",r.searchTerm()),o(),b(r.searchTerm()?3:-1))},dependencies:[M,Z,Ne,Ie,Re],encapsulation:2})};function We(i,t){if(i&1&&(s(0,"span",8),l(1),c()),i&2){let e=a();D(e.getStatutBadgeClass(e.selectedStatut())),o(),x(" ",e.getStatutLabelOrAll(e.selectedStatut())," ")}}function Xe(i,t){i&1&&(s(0,"span",5),l(1,"Tous les statuts"),c())}function Ze(i,t){i&1&&_(0,"i",12)}function et(i,t){i&1&&_(0,"i",12)}function tt(i,t){if(i&1){let e=v();s(0,"button",9),y("click",function(){let n=p(e).$implicit,d=a(2);return g(d.selectStatut(n))}),s(1,"span",15),l(2),c(),f(3,et,1,0,"i",12),c()}if(i&2){let e=t.$implicit,r=a(2);T("bg-primary-50",r.selectedStatut()===e)("dark:bg-primary-900/20",r.selectedStatut()===e),o(),D(r.getStatutBadgeClass(e)),o(),x(" ",r.getStatutLabel(e)," "),o(),b(r.selectedStatut()===e?3:-1)}}function rt(i,t){if(i&1){let e=v();s(0,"div",7)(1,"button",9),y("click",function(){p(e);let n=a();return g(n.selectStatut(""))}),_(2,"i",10),s(3,"span",11),l(4,"Tous les statuts"),c(),f(5,Ze,1,0,"i",12),c(),_(6,"div",13),V(7,tt,4,8,"button",14,N),c()}if(i&2){let e=a();o(),T("bg-primary-50",!e.selectedStatut())("dark:bg-primary-900/20",!e.selectedStatut()),o(4),b(e.selectedStatut()?-1:5),o(2),L(e.statuts)}}var me=class i{selectedStatut=h("");statutChange=C();showDropdown=k(!1);statuts=Ue();getStatutLabel=q;toggleDropdown(){this.showDropdown.update(t=>!t)}selectStatut(t){this.statutChange.emit(t),this.showDropdown.set(!1)}getStatutBadgeClass(t){return t?`status-${t}`:""}getStatutLabelOrAll(t){return t?this.getStatutLabel(t):"Tous les statuts"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-status-filter"]],inputs:{selectedStatut:[1,"selectedStatut"]},outputs:{statutChange:"statutChange"},decls:8,vars:24,consts:[[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-clipboard-list","text-gray-400","transition-all"],[1,"status-badge","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"status-badge","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"status-badge"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return r.toggleDropdown()}),s(2,"div",2),_(3,"i",3),f(4,We,2,3,"span",4)(5,Xe,2,0,"span",5),c(),_(6,"i",6),c(),f(7,rt,9,5,"div",7),c()),e&2&&(o(),T("ring-2",r.showDropdown())("ring-primary-500",r.showDropdown())("dark:ring-primary-400",r.showDropdown())("border-primary-500",r.showDropdown())("dark:border-primary-400",r.showDropdown()),o(2),T("text-primary-600",r.showDropdown())("dark:text-primary-400",r.showDropdown())("scale-110",r.showDropdown()),o(),b(r.selectedStatut()?4:5),o(2),T("rotate-180",r.showDropdown())("text-primary-600",r.showDropdown())("dark:text-primary-400",r.showDropdown()),o(),b(r.showDropdown()?7:-1))},dependencies:[M],encapsulation:2})};function it(i,t){if(i&1&&(s(0,"span",8),l(1),c()),i&2){let e=a();D(e.getPrioriteBadgeClass(e.selectedPriorite())),o(),x(" ",e.getPrioriteLabelOrAll(e.selectedPriorite())," ")}}function nt(i,t){i&1&&(s(0,"span",5),l(1,"Toutes les priorit\xE9s"),c())}function ot(i,t){i&1&&_(0,"i",12)}function at(i,t){i&1&&_(0,"i",12)}function dt(i,t){if(i&1){let e=v();s(0,"button",9),y("click",function(){let n=p(e).$implicit,d=a(2);return g(d.selectPriorite(n))}),s(1,"span",15),l(2),c(),f(3,at,1,0,"i",12),c()}if(i&2){let e=t.$implicit,r=a(2);T("bg-primary-50",r.selectedPriorite()===e)("dark:bg-primary-900/20",r.selectedPriorite()===e),o(),D(r.getPrioriteBadgeClass(e)),o(),x(" ",r.getPrioriteLabel(e)," "),o(),b(r.selectedPriorite()===e?3:-1)}}function lt(i,t){if(i&1){let e=v();s(0,"div",7)(1,"button",9),y("click",function(){p(e);let n=a();return g(n.selectPriorite(""))}),_(2,"i",10),s(3,"span",11),l(4,"Toutes les priorit\xE9s"),c(),f(5,ot,1,0,"i",12),c(),_(6,"div",13),V(7,dt,4,8,"button",14,N),c()}if(i&2){let e=a();o(),T("bg-primary-50",!e.selectedPriorite())("dark:bg-primary-900/20",!e.selectedPriorite()),o(4),b(e.selectedPriorite()?-1:5),o(2),L(e.priorites)}}var ue=class i{selectedPriorite=h("");prioriteChange=C();showDropdown=k(!1);priorites=Object.values(G);getPrioriteLabel=I;toggleDropdown(){this.showDropdown.update(t=>!t)}selectPriorite(t){this.prioriteChange.emit(t),this.showDropdown.set(!1)}getPrioriteBadgeClass(t){return t&&{HAUTE:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",MOYENNE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",BASSE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}[t]||""}getPrioriteLabelOrAll(t){return t?this.getPrioriteLabel(t):"Toutes les priorit\xE9s"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-priority-filter"]],inputs:{selectedPriorite:[1,"selectedPriorite"]},outputs:{prioriteChange:"prioriteChange"},decls:8,vars:24,consts:[[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-flag","text-gray-400","transition-all"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return r.toggleDropdown()}),s(2,"div",2),_(3,"i",3),f(4,it,2,3,"span",4)(5,nt,2,0,"span",5),c(),_(6,"i",6),c(),f(7,lt,9,5,"div",7),c()),e&2&&(o(),T("ring-2",r.showDropdown())("ring-primary-500",r.showDropdown())("dark:ring-primary-400",r.showDropdown())("border-primary-500",r.showDropdown())("dark:border-primary-400",r.showDropdown()),o(2),T("text-primary-600",r.showDropdown())("dark:text-primary-400",r.showDropdown())("scale-110",r.showDropdown()),o(),b(r.selectedPriorite()?4:5),o(2),T("rotate-180",r.showDropdown())("text-primary-600",r.showDropdown())("dark:text-primary-400",r.showDropdown()),o(),b(r.showDropdown()?7:-1))},dependencies:[M],encapsulation:2})};function st(i,t){if(i&1&&(s(0,"span",9),l(1),c()),i&2){let e=a();D(e.getTypeContratBadgeClass(e.selectedTypeContrat())),o(),x(" ",e.getTypeContratLabelOrAll(e.selectedTypeContrat())," ")}}function ct(i,t){i&1&&(s(0,"span",6),l(1,"Tous les types"),c())}function mt(i,t){i&1&&_(0,"i",13)}function ut(i,t){i&1&&_(0,"i",13)}function pt(i,t){if(i&1){let e=v();s(0,"button",10),y("click",function(){let n=p(e).$implicit,d=a(2);return g(d.selectTypeContrat(n))}),s(1,"span",16),l(2),c(),f(3,ut,1,0,"i",13),c()}if(i&2){let e=t.$implicit,r=a(2);T("bg-primary-50",r.selectedTypeContrat()===e)("dark:bg-primary-900/20",r.selectedTypeContrat()===e),o(),D(r.getTypeContratBadgeClass(e)),o(),x(" ",r.getTypeContratLabel(e)," "),o(),b(r.selectedTypeContrat()===e?3:-1)}}function gt(i,t){if(i&1){let e=v();s(0,"div",8)(1,"button",10),y("click",function(){p(e);let n=a();return g(n.selectTypeContrat(""))}),_(2,"i",11),s(3,"span",12),l(4,"Tous les types"),c(),f(5,mt,1,0,"i",13),c(),_(6,"div",14),V(7,pt,4,8,"button",15,N),c()}if(i&2){let e=a();o(),T("bg-primary-50",!e.selectedTypeContrat())("dark:bg-primary-900/20",!e.selectedTypeContrat()),o(4),b(e.selectedTypeContrat()?-1:5),o(2),L(e.typesContrat)}}var pe=class i{selectedTypeContrat=h("");typeContratChange=C();showTypeContratDropdown=k(!1);typesContrat=Object.values(j);getTypeContratLabel=R;toggleTypeContratDropdown(){this.showTypeContratDropdown.update(t=>!t)}selectTypeContrat(t){this.typeContratChange.emit(t),this.showTypeContratDropdown.set(!1)}getTypeContratBadgeClass(t){return t&&{CDI:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",CDD:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900/30 dark:text-cyan-300",FREELANCE:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",STAGE:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300",ALTERNANCE:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300",INTERIM:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}[t]||""}getTypeContratLabelOrAll(t){return t?this.getTypeContratLabel(t):"Tous les types"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-contrat-filter"]],inputs:{selectedTypeContrat:[1,"selectedTypeContrat"]},outputs:{typeContratChange:"typeContratChange"},decls:9,vars:20,consts:[[1,"lg:w-auto","flex-auto"],[1,"relative"],["type","button",1,"input","px-4","w-full","text-left","cursor-pointer","transition-all","duration-200","hover:border-gray-400","dark:hover:border-gray-500","flex","items-center","justify-between",3,"click"],[1,"flex","items-center","gap-3","flex-1","min-w-0"],[1,"fas","fa-file-contract","text-gray-400","transition-all"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate",3,"class"],[1,"text-gray-600","dark:text-gray-400","truncate"],[1,"ml-2","fas","fa-chevron-down","text-gray-400","text-xs","transition-transform","duration-200"],[1,"absolute","top-full","left-0","right-0","mt-2","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border","border-gray-200","dark:border-gray-700","z-[9999]","animate-in","slide-in-from-top-2","fade-in","duration-200","overflow-hidden","max-h-96","overflow-y-auto","custom-scrollbar"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","truncate"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"click"],[1,"fas","fa-list","text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"fas","fa-check","text-primary-600","dark:text-primary-400","ml-auto"],[1,"border-t","border-gray-200","dark:border-gray-700"],["type","button",1,"w-full","cursor-pointer","px-4","py-3","text-left","hover:bg-gray-50","dark:hover:bg-gray-700/50","transition-colors","duration-150","flex","items-center","gap-3",3,"bg-primary-50","dark:bg-primary-900/20"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"div",1)(2,"button",2),y("click",function(){return r.toggleTypeContratDropdown()}),s(3,"div",3),_(4,"i",4),f(5,st,2,3,"span",5)(6,ct,2,0,"span",6),c(),_(7,"i",7),c(),f(8,gt,9,5,"div",8),c()()),e&2&&(o(2),T("ring-2",r.showTypeContratDropdown())("ring-primary-500",r.showTypeContratDropdown())("dark:ring-primary-400",r.showTypeContratDropdown())("border-primary-500",r.showTypeContratDropdown())("dark:border-primary-400",r.showTypeContratDropdown()),o(2),T("text-primary-600",r.showTypeContratDropdown())("dark:text-primary-400",r.showTypeContratDropdown())("scale-110",r.showTypeContratDropdown()),o(),b(r.selectedTypeContrat()?5:6),o(2),T("rotate-180",r.showTypeContratDropdown()),o(),b(r.showTypeContratDropdown()?8:-1))},dependencies:[M],encapsulation:2})};var Ke=()=>[0,1,2,3,4,5];function Ct(i,t){i&1&&_(0,"i",3)}function _t(i,t){i&1&&_(0,"i",4)}function ft(i,t){if(i&1){let e=v();s(0,"div",5)(1,"span",7),_(2,"i",8),l(3),c(),s(4,"button",9),y("click",function(){p(e);let n=a();return g(n.onClearFilters())}),_(5,"i",10),s(6,"span",11),l(7,"Effacer"),c()()()}if(i&2){let e=a();o(3),x(" ",e.activeFiltersCount()," filtre(s) actif(s) ")}}function bt(i,t){if(i&1&&(s(0,"span",40),l(1),c()),i&2){let e=t.$implicit,r=a(2);T("text-primary-600",r.selectedScoreMin()===e)("dark:text-primary-400",r.selectedScoreMin()===e)("font-bold",r.selectedScoreMin()===e),o(),z(e)}}function xt(i,t){if(i&1&&(s(0,"span",40),l(1),c()),i&2){let e=t.$implicit,r=a(2);T("text-primary-600",r.selectedScoreMax()===e)("dark:text-primary-400",r.selectedScoreMax()===e)("font-bold",r.selectedScoreMax()===e),o(),z(e)}}function ht(i,t){if(i&1){let e=v();s(0,"div",6)(1,"div",12)(2,"div",13)(3,"div",14),_(4,"i",15),l(5," Score "),c(),s(6,"div",16)(7,"div")(8,"label",17)(9,"span",18),l(10,"Minimum"),c(),s(11,"span",19),l(12),c()(),s(13,"input",20),y("input",function(n){p(e);let d=a();return g(d.onScoreMinChange(+n.target.value))}),c(),s(14,"div",21),V(15,bt,2,7,"span",22,N),c()(),s(17,"div")(18,"label",23)(19,"span",18),l(20,"Maximum"),c(),s(21,"span",19),l(22),c()(),s(23,"input",24),y("input",function(n){p(e);let d=a();return g(d.onScoreMaxChange(+n.target.value))}),c(),s(24,"div",21),V(25,xt,2,7,"span",22,N),c()()()(),s(27,"div",13)(28,"div",14),_(29,"i",25),l(30," P\xE9riode "),c(),s(31,"div",13)(32,"div")(33,"label",26),l(34," D\xE9but "),c(),s(35,"div",27),_(36,"i",28),s(37,"input",29),y("input",function(n){p(e);let d=a();return g(d.onDateDebutChange(n.target.value))}),c()()(),s(38,"div")(39,"label",30),l(40," Fin "),c(),s(41,"div",27),_(42,"i",31),s(43,"input",32),y("input",function(n){p(e);let d=a();return g(d.onDateFinChange(n.target.value))}),c()()()()(),s(44,"div",13)(45,"label",14),_(46,"i",33),l(47," Options "),c(),s(48,"label",34)(49,"input",35),y("change",function(n){p(e);let d=a();return g(d.onNonArchivedChange(n.target.checked))}),c(),s(50,"div",36)(51,"div",5),_(52,"i",37),s(53,"span",38),l(54," Afficher non archiv\xE9es "),c()()()(),s(55,"label",34)(56,"input",35),y("change",function(n){p(e);let d=a();return g(d.onArchivedChange(n.target.checked))}),c(),s(57,"div",36)(58,"div",5),_(59,"i",39),s(60,"span",38),l(61," Afficher archiv\xE9es "),c()()()()()()()}if(i&2){let e=a();o(12),x(" ",e.selectedScoreMin()," "),o(),H("value",e.selectedScoreMin()),o(2),L(ee(8,Ke)),o(7),x(" ",e.selectedScoreMax()," "),o(),H("value",e.selectedScoreMax()),o(2),L(ee(9,Ke)),o(12),H("value",e.dateDebut()),o(6),H("value",e.dateFin()),o(6),H("checked",e.showNonArchivedCandidatures()),o(7),H("checked",e.showArchivedCandidatures())}}var ge=class i{selectedScoreMin=h(0);selectedScoreMax=h(5);dateDebut=h("");dateFin=h("");showArchivedCandidatures=h(!1);showNonArchivedCandidatures=h(!0);activeFiltersCount=h(0);scoreMinChange=C();scoreMaxChange=C();dateDebutChange=C();dateFinChange=C();archivedChange=C();nonArchivedChange=C();clearFilters=C();showAdvancedFilters=k(!1);typesContrat=Object.values(j);toggleAdvancedFilters(){this.showAdvancedFilters.update(t=>!t)}onScoreMinChange(t){this.scoreMinChange.emit(t)}onScoreMaxChange(t){this.scoreMaxChange.emit(t)}onDateDebutChange(t){this.dateDebutChange.emit(t)}onDateFinChange(t){this.dateFinChange.emit(t)}onArchivedChange(t){this.archivedChange.emit(t)}onNonArchivedChange(t){this.nonArchivedChange.emit(t)}onClearFilters(){this.clearFilters.emit()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-advanced-filters"]],inputs:{selectedScoreMin:[1,"selectedScoreMin"],selectedScoreMax:[1,"selectedScoreMax"],dateDebut:[1,"dateDebut"],dateFin:[1,"dateFin"],showArchivedCandidatures:[1,"showArchivedCandidatures"],showNonArchivedCandidatures:[1,"showNonArchivedCandidatures"],activeFiltersCount:[1,"activeFiltersCount"]},outputs:{scoreMinChange:"scoreMinChange",scoreMaxChange:"scoreMaxChange",dateDebutChange:"dateDebutChange",dateFinChange:"dateFinChange",archivedChange:"archivedChange",nonArchivedChange:"nonArchivedChange",clearFilters:"clearFilters"},decls:9,vars:7,consts:[[1,"flex","flex-wrap","items-center","gap-3"],[1,"btn-outline","text-sm","cursor-pointer",3,"click"],[1,"fas","fa-sliders-h"],[1,"fas","fa-chevron-up","text-xs"],[1,"fas","fa-chevron-down","text-xs"],[1,"flex","items-center","gap-2"],[1,"mt-6","pt-6","border-t","border-gray-200","dark:border-gray-700","animate-in","slide-in-from-top-2","fade-in","duration-300"],[1,"px-3","py-1.5","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300","rounded-full","text-sm","font-medium","flex","items-center","gap-2"],[1,"fas","fa-filter","text-xs"],[1,"btn-outline-danger","text-sm","cursor-pointer",3,"click"],[1,"fas","fa-times"],[1,"hidden","sm:inline"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],[1,"space-y-3"],[1,"flex","items-center","gap-2","text-sm","font-semibold","text-gray-700","dark:text-gray-300"],[1,"fas","fa-star","text-yellow-500"],[1,"space-y-4"],["for","score-min-range",1,"flex","items-center","justify-between","mb-2"],[1,"text-xs","font-medium","text-gray-600","dark:text-gray-400"],[1,"text-xs","font-bold","text-primary-600","dark:text-primary-400","px-2","py-1","bg-primary-50","dark:bg-primary-900/30","rounded-full"],["id","score-min-range","type","range","min","0","max","5","step","1",1,"w-full","h-2","bg-gray-200","dark:bg-gray-700","rounded-lg","appearance-none","cursor-pointer","accent-primary-600","dark:accent-primary-400","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors",3,"input","value"],[1,"flex","justify-between","mt-1"],[1,"text-xs","text-gray-400",3,"text-primary-600","dark:text-primary-400","font-bold"],["for","score-max-range",1,"flex","items-center","justify-between","mb-2"],["id","score-max-range","type","range","min","0","max","5","step","1",1,"w-full","h-2","bg-gray-200","dark:bg-gray-700","rounded-lg","appearance-none","cursor-pointer","accent-primary-600","dark:accent-primary-400","hover:bg-gray-300","dark:hover:bg-gray-600","transition-colors",3,"input","value"],[1,"fas","fa-calendar-alt","text-blue-500"],["for","date-debut",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400","mb-1.5"],[1,"relative"],[1,"fas","fa-calendar","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["id","date-debut","type","date",1,"input","pl-10","w-full","cursor-pointer","hover:border-primary-400","dark:hover:border-primary-500","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","transition-all",3,"input","value"],["for","date-fin",1,"block","text-xs","font-medium","text-gray-600","dark:text-gray-400","mb-1.5"],[1,"fas","fa-calendar-check","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["id","date-fin","type","date",1,"input","pl-10","w-full","cursor-pointer","hover:border-primary-400","dark:hover:border-primary-500","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","transition-all",3,"input","value"],[1,"fas","fa-cog","text-gray-500"],[1,"flex","items-center","gap-3","p-4","rounded-lg","border","border-gray-200","dark:border-gray-700","hover:bg-gray-50","dark:hover:bg-gray-700/30","cursor-pointer","transition-all","group"],["type","checkbox",1,"w-5","h-5","text-primary-600","bg-gray-100","dark:bg-gray-700","border-gray-300","dark:border-gray-600","rounded","focus:ring-2","focus:ring-primary-500","dark:focus:ring-primary-400","cursor-pointer",3,"change","checked"],[1,"flex-1"],[1,"fas","fa-inbox","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-300","transition-colors"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300","group-hover:text-gray-900","dark:group-hover:text-white","transition-colors"],[1,"fas","fa-archive","text-gray-400","group-hover:text-gray-600","dark:group-hover:text-gray-300","transition-colors"],[1,"text-xs","text-gray-400"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return r.toggleAdvancedFilters()}),_(2,"i",2),s(3,"span"),l(4,"Filtres avanc\xE9s"),c(),f(5,Ct,1,0,"i",3)(6,_t,1,0,"i",4),c(),f(7,ft,8,1,"div",5),c(),f(8,ht,62,10,"div",6)),e&2&&(o(),T("bg-primary-50",r.showAdvancedFilters())("dark:bg-primary-900/20",r.showAdvancedFilters()),o(4),b(r.showAdvancedFilters()?5:6),o(2),b(r.activeFiltersCount()>0?7:-1),o(),b(r.showAdvancedFilters()?8:-1))},dependencies:[M,Z],encapsulation:2})};var Ce=class i{searchTerm=h("");selectedStatut=h("");selectedPriorite=h("");selectedTypeContrat=h("");selectedScoreMin=h(0);selectedScoreMax=h(5);dateDebut=h("");dateFin=h("");showArchivedCandidatures=h(!1);showNonArchivedCandidatures=h(!0);activeFiltersCount=h(0);searchTermChange=C();statutChange=C();prioriteChange=C();typeContratChange=C();scoreMinChange=C();scoreMaxChange=C();dateDebutChange=C();dateFinChange=C();archivedChange=C();nonArchivedChange=C();clearFilters=C();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-candidature-filters"]],inputs:{searchTerm:[1,"searchTerm"],selectedStatut:[1,"selectedStatut"],selectedPriorite:[1,"selectedPriorite"],selectedTypeContrat:[1,"selectedTypeContrat"],selectedScoreMin:[1,"selectedScoreMin"],selectedScoreMax:[1,"selectedScoreMax"],dateDebut:[1,"dateDebut"],dateFin:[1,"dateFin"],showArchivedCandidatures:[1,"showArchivedCandidatures"],showNonArchivedCandidatures:[1,"showNonArchivedCandidatures"],activeFiltersCount:[1,"activeFiltersCount"]},outputs:{searchTermChange:"searchTermChange",statutChange:"statutChange",prioriteChange:"prioriteChange",typeContratChange:"typeContratChange",scoreMinChange:"scoreMinChange",scoreMaxChange:"scoreMaxChange",dateDebutChange:"dateDebutChange",dateFinChange:"dateFinChange",archivedChange:"archivedChange",nonArchivedChange:"nonArchivedChange",clearFilters:"clearFilters"},decls:11,vars:11,consts:[[1,"card","mb-6","backdrop-blur-sm","bg-white/80","dark:bg-gray-800/80","shadow-lg","relative","z-50"],[1,"flex","flex-col","lg:flex-row","gap-4","mb-4"],[1,"flex-[2]"],[3,"searchTermChange","searchTerm"],[1,"w-auto","flex-[1]"],[3,"statutChange","selectedStatut"],[3,"prioriteChange","selectedPriorite"],[3,"typeContratChange","selectedTypeContrat"],[3,"scoreMinChange","scoreMaxChange","dateDebutChange","dateFinChange","archivedChange","nonArchivedChange","clearFilters","selectedScoreMin","selectedScoreMax","dateDebut","dateFin","showArchivedCandidatures","showNonArchivedCandidatures","activeFiltersCount"]],template:function(e,r){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"app-search-bar",3),w("searchTermChange",function(d){return r.searchTermChange.emit(d)}),u()(),m(4,"div",4)(5,"app-status-filter",5),w("statutChange",function(d){return r.statutChange.emit(d)}),u()(),m(6,"div",4)(7,"app-priority-filter",6),w("prioriteChange",function(d){return r.prioriteChange.emit(d)}),u()(),m(8,"div",4)(9,"app-contrat-filter",7),w("typeContratChange",function(d){return r.typeContratChange.emit(d)}),u()()(),m(10,"app-advanced-filters",8),w("scoreMinChange",function(d){return r.scoreMinChange.emit(d)})("scoreMaxChange",function(d){return r.scoreMaxChange.emit(d)})("dateDebutChange",function(d){return r.dateDebutChange.emit(d)})("dateFinChange",function(d){return r.dateFinChange.emit(d)})("archivedChange",function(d){return r.archivedChange.emit(d)})("nonArchivedChange",function(d){return r.nonArchivedChange.emit(d)})("clearFilters",function(){return r.clearFilters.emit()}),u()()),e&2&&(o(3),E("searchTerm",r.searchTerm()),o(2),E("selectedStatut",r.selectedStatut()),o(2),E("selectedPriorite",r.selectedPriorite()),o(2),E("selectedTypeContrat",r.selectedTypeContrat()),o(),E("selectedScoreMin",r.selectedScoreMin())("selectedScoreMax",r.selectedScoreMax())("dateDebut",r.dateDebut())("dateFin",r.dateFin())("showArchivedCandidatures",r.showArchivedCandidatures())("showNonArchivedCandidatures",r.showNonArchivedCandidatures())("activeFiltersCount",r.activeFiltersCount()))},dependencies:[M,ce,me,ue,pe,ge],encapsulation:2})};function vt(i,t){if(i&1){let e=v();s(0,"span",3),_(1,"i",9),l(2),s(3,"button",10),y("click",function(){p(e);let n=a();return g(n.clearSearch.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();o(2),x(' "',e.filters().searchTerm,'" ')}}function yt(i,t){if(i&1){let e=v();s(0,"span",12),l(1),s(2,"button",13),y("click",function(){p(e);let n=a();return g(n.clearStatut.emit())}),_(3,"i",11),c()()}if(i&2){let e=a();D(e.getStatutBadgeClass(e.filters().selectedStatut)),o(),x(" ",e.filters().selectedStatut," ")}}function wt(i,t){if(i&1){let e=v();s(0,"span",14),_(1,"i",15),l(2),s(3,"button",13),y("click",function(){p(e);let n=a();return g(n.clearPriorite.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();D(e.getPrioriteBadgeClass(e.filters().selectedPriorite)),o(2),x(" ",e.getPrioriteLabelSafe(e.filters().selectedPriorite)," ")}}function St(i,t){if(i&1){let e=v();s(0,"span",14),_(1,"i",16),l(2),s(3,"button",13),y("click",function(){p(e);let n=a();return g(n.clearTypeContrat.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();D(e.getTypeContratBadgeClass(e.filters().selectedTypeContrat)),o(2),x(" ",e.getTypeContratLabelSafe(e.filters().selectedTypeContrat)," ")}}function kt(i,t){if(i&1){let e=v();s(0,"span",6),_(1,"i",17),l(2),s(3,"button",10),y("click",function(){p(e);let n=a();return g(n.clearScore.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();o(2),re(" Score: ",e.filters().selectedScoreMin," - ",e.filters().selectedScoreMax," ")}}function Tt(i,t){if(i&1){let e=v();s(0,"span",7),_(1,"i",18),l(2),s(3,"button",10),y("click",function(){p(e);let n=a();return g(n.clearDateDebut.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();o(2),x(" Depuis: ",e.filters().dateDebut," ")}}function Et(i,t){if(i&1){let e=v();s(0,"span",8),_(1,"i",19),l(2),s(3,"button",10),y("click",function(){p(e);let n=a();return g(n.clearDateFin.emit())}),_(4,"i",11),c()()}if(i&2){let e=a();o(2),x(" Jusqu'\xE0: ",e.filters().dateFin," ")}}var _e=class i{filters=h.required();clearSearch=C();clearStatut=C();clearPriorite=C();clearTypeContrat=C();clearScore=C();clearDateDebut=C();clearDateFin=C();getStatutBadgeClass(t){return t?`status-${t}`:""}getPrioriteBadgeClass(t){return t&&{HAUTE:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",MOYENNE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",BASSE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300"}[t]||""}getTypeContratBadgeClass(t){return t&&{CDI:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",CDD:"bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300",FREELANCE:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",STAGE:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",ALTERNANCE:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900/30 dark:text-indigo-300",INTERIM:"bg-pink-100 text-pink-800 dark:bg-pink-900/30 dark:text-pink-300"}[t]||""}getStatutLabel=q;getPrioriteLabel=I;getTypeContratLabel=R;getPrioriteLabelSafe(t){return t?I(t):""}getTypeContratLabelSafe(t){return t?R(t):""}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-filter-chips"]],inputs:{filters:[1,"filters"]},outputs:{clearSearch:"clearSearch",clearStatut:"clearStatut",clearPriorite:"clearPriorite",clearTypeContrat:"clearTypeContrat",clearScore:"clearScore",clearDateDebut:"clearDateDebut",clearDateFin:"clearDateFin"},decls:11,vars:7,consts:[[1,"flex","items-center","gap-2","flex-wrap"],[1,"text-xs","text-gray-500","dark:text-gray-400","font-semibold","flex","items-center","gap-1"],[1,"fas","fa-filter"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300","rounded-full","text-xs","font-medium"],[1,"status-badge","text-xs",3,"class"],[1,"inline-flex","items-center","gap-1","px-3","py-1","rounded-full","text-xs","font-medium",3,"class"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-amber-100","dark:bg-amber-900/30","text-amber-700","dark:text-amber-300","rounded-full","text-xs","font-medium"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-blue-100","dark:bg-blue-900/30","text-blue-700","dark:text-blue-300","rounded-full","text-xs","font-medium"],[1,"inline-flex","items-center","gap-1","px-3","py-1","bg-green-100","dark:bg-green-900/30","text-green-700","dark:text-green-300","rounded-full","text-xs","font-medium"],[1,"fas","fa-search"],[1,"ml-1","cursor-pointer","hover:text-red-600",3,"click"],[1,"fas","fa-times"],[1,"status-badge","text-xs"],[1,"ml-1","cursor-pointer","hover:opacity-70",3,"click"],[1,"inline-flex","items-center","gap-1","px-3","py-1","rounded-full","text-xs","font-medium"],[1,"fas","fa-flag"],[1,"fas","fa-file-contract"],[1,"fas","fa-star"],[1,"fas","fa-calendar-alt"],[1,"fas","fa-calendar-check"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"span",1),_(2,"i",2),l(3," Filtres actifs: "),c(),f(4,vt,5,1,"span",3),f(5,yt,4,3,"span",4),f(6,wt,5,3,"span",5),f(7,St,5,3,"span",5),f(8,kt,5,2,"span",6),f(9,Tt,5,1,"span",7),f(10,Et,5,1,"span",8),c()),e&2&&(o(4),b(r.filters().searchTerm?4:-1),o(),b(r.filters().selectedStatut?5:-1),o(),b(r.filters().selectedPriorite?6:-1),o(),b(r.filters().selectedTypeContrat?7:-1),o(),b(r.filters().selectedScoreMin>0||r.filters().selectedScoreMax<5?8:-1),o(),b(r.filters().dateDebut?9:-1),o(),b(r.filters().dateFin?10:-1))},dependencies:[M],encapsulation:2})};var Dt=(i,t)=>t.key;function Ft(i,t){if(i&1&&(s(0,"span",4),l(1),c()),i&2){let e=a();o(),x(" ",e.getVisibleColumnCount()," ")}}function Mt(i,t){if(i&1){let e=v();s(0,"div",19),y("dragstart",function(n){let d=p(e).$index,A=a(2);return g(A.onDragStart(d,n))})("dragover",function(n){let d=p(e).$index,A=a(2);return g(A.onDragOver(d,n))})("drop",function(n){let d=p(e).$index,A=a(2);return g(A.onDrop(d,n))})("dragend",function(){p(e);let n=a(2);return g(n.onDragEnd())}),_(1,"span",20),s(2,"input",21),y("change",function(){let n=p(e).$implicit,d=a(2);return g(d.onToggleColumn(n.key))}),c(),s(3,"label",22),l(4),c()()}if(i&2){let e=t.$implicit,r=t.$index,n=a(2);T("bg-primary-50",n.dragOverIndex===r),Me("aria-grabbed",n.draggedIndex===r)("tabindex",0)("aria-dropeffect",n.draggedIndex!==null?"move":null),o(2),H("id","col-checkbox-"+e.key)("checked",n.isColumnVisible(e.key)),o(),H("htmlFor","col-checkbox-"+e.key),o(),x(" ",e.label," ")}}function Vt(i,t){i&1&&(s(0,"div",13)(1,"p"),l(2,"Aucune colonne trouv\xE9e"),c()())}function Lt(i,t){if(i&1){let e=v();s(0,"div",6)(1,"div",8)(2,"div",0),_(3,"i",9),s(4,"input",10),y("input",function(n){p(e);let d=a();return g(d.updateSearchTerm(n.target.value))}),c()()(),s(5,"div",11),V(6,Mt,5,9,"div",12,Dt),f(8,Vt,3,0,"div",13),c(),s(9,"div",14)(10,"button",15),y("click",function(){p(e);let n=a();return g(n.onShowAllColumns())}),_(11,"i",16),l(12," Tout afficher "),c(),s(13,"button",17),y("click",function(){p(e);let n=a();return g(n.onHideAllColumns())}),_(14,"i",18),l(15," Tout masquer "),c()()()}if(i&2){let e=a();o(4),H("value",e.searchColumnTerm()),o(2),L(e.getFilteredColumns()),o(2),b(e.getFilteredColumns().length===0?8:-1)}}function Pt(i,t){if(i&1){let e=v();s(0,"div",23),y("click",function(){p(e);let n=a();return g(n.closeColumnSelector())})("keyup.enter",function(){p(e);let n=a();return g(n.closeColumnSelector())})("keydown.space",function(){p(e);let n=a();return g(n.closeColumnSelector())}),c()}}var fe=class i{visibleColumns=h(new Set);availableColumns=h([]);toggleColumn=C();showAllColumns=C();hideAllColumns=C();showColumnSelector=k(!1);searchColumnTerm=k("");toggleColumnSelector(){this.showColumnSelector.update(t=>!t)}closeColumnSelector(){this.showColumnSelector.set(!1)}isColumnVisible(t){return this.visibleColumns().has(t)}getVisibleColumnCount(){return this.visibleColumns().size}onToggleColumn(t){this.toggleColumn.emit(t)}onShowAllColumns(){this.showAllColumns.emit()}onHideAllColumns(){this.hideAllColumns.emit()}updateSearchTerm(t){this.searchColumnTerm.set(t)}draggedIndex=null;dragOverIndex=null;columnsReordered=C();localColumns=[];ngOnInit(){this.localColumns=[...this.availableColumns()]}ngOnChanges(){this.localColumns=[...this.availableColumns()]}getFilteredColumns(){let t=this.searchColumnTerm().toLowerCase(),e=this.localColumns;return t?e.filter(r=>r.label.toLowerCase().includes(t)):e}onDragStart(t,e){this.draggedIndex=t,e.dataTransfer?.setData("text/plain",t.toString()),e.dataTransfer.effectAllowed="move"}onDragOver(t,e){e.preventDefault(),this.dragOverIndex=t}onDrop(t,e){if(e.preventDefault(),this.draggedIndex===null||this.draggedIndex===t)return;let r=[...this.localColumns],[n]=r.splice(this.draggedIndex,1);r.splice(t,0,n),this.localColumns=r,this.draggedIndex=null,this.dragOverIndex=null,this.columnsReordered.emit(r)}onDragEnd(){this.draggedIndex=null,this.dragOverIndex=null}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-column-selector"]],inputs:{visibleColumns:[1,"visibleColumns"],availableColumns:[1,"availableColumns"]},outputs:{toggleColumn:"toggleColumn",showAllColumns:"showAllColumns",hideAllColumns:"hideAllColumns",columnsReordered:"columnsReordered"},features:[De],decls:9,vars:9,consts:[[1,"relative"],[1,"flex","items-center","gap-2","px-4","py-2.5","bg-white","dark:bg-gray-800","border","border-gray-300","dark:border-gray-600","rounded-lg","hover:bg-gray-50","dark:hover:bg-gray-700","transition-all","shadow-sm","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-columns","text-gray-600","dark:text-gray-400"],[1,"text-sm","font-medium","text-gray-700","dark:text-gray-300"],[1,"px-2","py-0.5","text-xs","font-semibold","bg-blue-100","dark:bg-blue-900/50","text-blue-800","dark:text-blue-300","rounded-full"],[1,"fas","fa-chevron-down","text-xs","transition-transform"],[1,"absolute","right-0","top-full","mt-2","w-80","bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","border","border-gray-200","dark:border-gray-700","z-[9999]"],["tabindex","0","role","button","aria-label","Fermer le s\xE9lecteur de colonnes",1,"fixed","inset-0","z-[9998]"],[1,"p-3","border-b","border-gray-200","dark:border-gray-700"],[1,"fas","fa-search","absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400","text-sm"],["type","text","placeholder","Rechercher une colonne...",1,"w-full","pl-9","pr-3","py-2","text-sm","border","border-gray-300","dark:border-gray-600","rounded-lg","bg-gray-50","dark:bg-gray-900","text-gray-900","dark:text-gray-100","placeholder-gray-500","dark:placeholder-gray-400","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"input","value"],[1,"max-h-96","overflow-y-auto","p-2"],["draggable","true",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","group","transition-colors","cursor-move","select-none",3,"bg-primary-50"],[1,"px-3","py-4","text-center","text-sm","text-gray-500","dark:text-gray-400"],[1,"p-3","border-t","border-gray-200","dark:border-gray-700","flex","gap-2"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-blue-600","dark:text-blue-400","hover:bg-blue-50","dark:hover:bg-blue-900/30","rounded-lg","transition-colors","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-check-double","mr-1.5"],[1,"flex-1","px-3","py-2","text-sm","font-medium","text-gray-600","dark:text-gray-400","hover:bg-gray-100","dark:hover:bg-gray-700","rounded-lg","transition-colors","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-times","mr-1.5"],["draggable","true",1,"flex","items-center","gap-3","px-3","py-2.5","rounded-lg","group","transition-colors","cursor-move","select-none",3,"dragstart","dragover","drop","dragend"],[1,"fas","fa-grip-lines","text-gray-400","mr-1","cursor-move"],["type","checkbox",1,"w-4","h-4","text-blue-600","bg-gray-100","dark:bg-gray-700","border-gray-300","dark:border-gray-600","rounded","focus:ring-blue-500","dark:focus:ring-blue-600","focus:ring-2","cursor-pointer",3,"change","id","checked"],[1,"flex-1","text-sm","font-medium","text-gray-700","dark:text-gray-300","group-hover:text-gray-900","dark:group-hover:text-gray-100","cursor-pointer",3,"for"],["tabindex","0","role","button","aria-label","Fermer le s\xE9lecteur de colonnes",1,"fixed","inset-0","z-[9998]",3,"click","keyup.enter","keydown.space"]],template:function(e,r){e&1&&(s(0,"div",0)(1,"button",1),y("click",function(){return r.toggleColumnSelector()}),_(2,"i",2),s(3,"span",3),l(4,"Colonnes"),c(),f(5,Ft,2,1,"span",4),_(6,"i",5),c(),f(7,Lt,16,2,"div",6),f(8,Pt,1,0,"div",7),c()),e&2&&(o(),T("ring-2",r.showColumnSelector())("ring-blue-500",r.showColumnSelector()),o(4),b(r.getVisibleColumnCount()>0?5:-1),o(),T("rotate-180",r.showColumnSelector()),o(),b(r.showColumnSelector()?7:-1),o(),b(r.showColumnSelector()?8:-1))},dependencies:[M],encapsulation:2})};var At=["appTableHeader",""],Nt=(i,t)=>t.key;function It(i,t){if(i&1&&_(0,"i",4),i&2){let e=a().$implicit,r=a();D(r.getSortIcon(e.key))}}function Rt(i,t){if(i&1){let e=v();s(0,"th",1),y("click",function(){let n=p(e).$implicit,d=a();return g(d.onColumnClick(n))}),s(1,"div",2)(2,"span"),l(3),c(),f(4,It,1,2,"i",3),c()()}if(i&2){let e=t.$implicit;T("w-20",e.key==="id")("w-40",e.key==="typeContrat"||e.key==="dateCandidature")("w-32",e.key==="statut"||e.key==="priorite"||e.key==="score")("w-36",e.key==="salaire")("w-28",e.key==="actions")("min-w-[150px]",e.key==="entreprise"||e.key==="poste")("min-w-[120px]",e.key==="localisation"||e.key==="source"||e.key==="contact")("cursor-pointer",e.sortable)("hover:bg-gray-100",e.sortable)("dark:hover:bg-gray-700/50",e.sortable)("hover:text-primary-600",e.sortable)("dark:hover:text-primary-400",e.sortable),o(3),z(e.label),o(),b(e.sortable?4:-1)}}var be=class i{columns=h.required();sortColumn=h(null);sortDirection=h(null);sort=C();onColumnClick(t){if(!t.sortable)return;let e;this.sortColumn()===t.key?e=this.sortDirection()==="asc"?"desc":this.sortDirection()==="desc"?null:"asc":e="asc",this.sort.emit({column:e?t.key:"",direction:e})}getSortIcon(t){return this.sortColumn()!==t?"fa-sort text-gray-300 opacity-50 group-hover:opacity-100":this.sortDirection()==="asc"?"fa-sort-up text-primary-600 dark:text-primary-400 scale-110":"fa-sort-down text-primary-600 dark:text-primary-400 scale-110"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["","appTableHeader",""]],inputs:{columns:[1,"columns"],sortColumn:[1,"sortColumn"],sortDirection:[1,"sortDirection"]},outputs:{sort:"sort"},attrs:At,decls:3,vars:0,consts:[["scope","col",1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","dark:text-gray-300","uppercase","tracking-wider","border-b-2","border-gray-300","dark:border-gray-600","transition-all","duration-200",3,"w-20","w-40","w-32","w-36","w-28","min-w-[150px]","min-w-[120px]","cursor-pointer","hover:bg-gray-100","dark:hover:bg-gray-700/50","hover:text-primary-600","dark:hover:text-primary-400"],["scope","col",1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","dark:text-gray-300","uppercase","tracking-wider","border-b-2","border-gray-300","dark:border-gray-600","transition-all","duration-200",3,"click"],[1,"flex","items-center","gap-1.5"],[1,"fas","text-[10px]","transition-all","duration-200",3,"class"],[1,"fas","text-[10px]","transition-all","duration-200"]],template:function(e,r){e&1&&(s(0,"tr"),V(1,Rt,5,26,"th",0,Nt),c()),e&2&&(o(),L(r.columns()))},dependencies:[M],encapsulation:2})};var Bt=["appTableRow",""],Ye=i=>["/candidatures",i],$t=()=>[1,2,3,4,5];function Ot(i,t){if(i&1&&(m(0,"td",0)(1,"span",11),l(2),u()()),i&2){let e=a(2);o(2),x(" #",e.candidature().id," ")}}function Ht(i,t){if(i&1&&(m(0,"td",1)(1,"span",12),l(2),u()()),i&2){let e=a(2);o(2),x(" ",e.candidature().entreprise||"-"," ")}}function jt(i,t){if(i&1&&(m(0,"td",2)(1,"a",13),l(2),u()()),i&2){let e=a(2);o(),E("routerLink",te(2,Ye,e.candidature().id)),o(),x(" ",e.candidature().poste||"-"," ")}}function zt(i,t){if(i&1&&(m(0,"td",2)(1,"div",14),S(2,"i",15),l(3),u()()),i&2){let e=a(2);o(3),x(" ",e.candidature().localisation||"-"," ")}}function Ut(i,t){i&1&&S(0,"i",22)}function qt(i,t){if(i&1){let e=v();m(0,"button",20),w("click",function(){let n=p(e).$implicit,d=a(4);return g(d.onSaveEdit("typeContrat",n))}),m(1,"span",21),l(2),u(),f(3,Ut,1,0,"i",22),u()}if(i&2){let e=t.$implicit,r=a(4);o(),D(r.getTypeContratBadgeClass(e)),o(),x(" ",r.getTypeContratLabel(e)," "),o(),b(r.candidature().typeContrat===e?3:-1)}}function Kt(i,t){if(i&1&&(m(0,"div",17),V(1,qt,4,4,"button",19,N),u()),i&2){let e=a(3);o(),L(e.typesContrat)}}function Gt(i,t){if(i&1){let e=v();m(0,"td",3)(1,"div",16),f(2,Kt,3,0,"div",17),m(3,"button",18),w("click",function(){p(e);let n=a(2);return g(n.onToggleDropdown("typeContrat"))}),l(4),u()()()}if(i&2){let e=a(2);o(2),b(e.isDropdownActive("typeContrat")?2:-1),o(),D(e.getTypeContratBadgeClassSafe(e.candidature().typeContrat)),o(),x(" ",e.getTypeContratLabelSafe(e.candidature().typeContrat)," ")}}function Yt(i,t){if(i&1&&(m(0,"td",4)(1,"div",23)(2,"span"),l(3),u(),m(4,"span",24),l(5),ie(6,"timeAgo"),u()()()),i&2){let e=a(2);o(3),z(e.formatDate(e.candidature().dateCandidature)),o(2),z(ne(6,2,e.candidature().dateCandidature))}}function Jt(i,t){i&1&&S(0,"i",30)}function Qt(i,t){if(i&1){let e=v();m(0,"button",28),w("click",function(){let n=p(e).$implicit,d=a(4);return g(d.onSaveEdit("statut",n))}),m(1,"span",29),l(2),u(),f(3,Jt,1,0,"i",30),u()}if(i&2){let e=t.$implicit,r=a(4);o(),D(r.getStatutBadgeClass(e)),o(),x(" ",r.getStatutLabel(e)," "),o(),b(r.candidature().statut===e?3:-1)}}function Wt(i,t){if(i&1&&(m(0,"div",25),V(1,Qt,4,4,"button",27,N),u()),i&2){let e=a(3);o(),L(e.statuts)}}function Xt(i,t){if(i&1){let e=v();m(0,"td",5)(1,"div",16),f(2,Wt,3,0,"div",25),m(3,"button",26),w("click",function(){p(e);let n=a(2);return g(n.onToggleDropdown("statut"))}),l(4),u()()()}if(i&2){let e=a(2);o(2),b(e.isDropdownActive("statut")?2:-1),o(),D(e.getStatutBadgeClass(e.candidature().statut)),o(),x(" ",e.getStatutLabel(e.candidature().statut)," ")}}function Zt(i,t){i&1&&S(0,"i",30)}function er(i,t){if(i&1){let e=v();m(0,"button",28),w("click",function(){let n=p(e).$implicit,d=a(4);return g(d.onSaveEdit("priorite",n))}),m(1,"span",32),l(2),u(),f(3,Zt,1,0,"i",30),u()}if(i&2){let e=t.$implicit,r=a(4);o(),D(r.getPrioriteBadgeClass(e)),o(),x(" ",r.getPrioriteLabel(e)," "),o(),b(r.candidature().priorite===e?3:-1)}}function tr(i,t){if(i&1&&(m(0,"div",25),V(1,er,4,4,"button",27,N),u()),i&2){let e=a(3);o(),L(e.priorites)}}function rr(i,t){if(i&1){let e=v();m(0,"td",5)(1,"div",16),f(2,tr,3,0,"div",25),m(3,"button",31),w("click",function(){p(e);let n=a(2);return g(n.onToggleDropdown("priorite"))}),l(4),u()()()}if(i&2){let e=a(2);o(2),b(e.isDropdownActive("priorite")?2:-1),o(),D(e.getPrioriteBadgeClassSafe(e.candidature().priorite)),o(),x(" ",e.getPrioriteLabelSafe(e.candidature().priorite)," ")}}function ir(i,t){if(i&1&&l(0),i&2){let e=a(3);re(" ",e.candidature().salaireMin,"",e.candidature().salaireMax?" - "+e.candidature().salaireMax:""," \u20AC ")}}function nr(i,t){i&1&&l(0," - ")}function or(i,t){if(i&1&&(m(0,"td",6)(1,"div",33),f(2,ir,1,2)(3,nr,1,0),u()()),i&2){let e=a(2);o(2),b(e.candidature().salaireMin?2:3)}}function ar(i,t){if(i&1){let e=v();m(0,"button",36),w("mouseenter",function(){let n=p(e).$implicit,d=a(3);return g(d.onScoreHover(n))})("click",function(){let n=p(e).$implicit,d=a(3);return g(d.onScoreClick(n))}),S(1,"i",37),u()}if(i&2){let e=t.$implicit,r=a(3);o(),D(e<=r.getDisplayScore()?"fas fa-star text-yellow-500 drop-shadow-lg":"far fa-star text-gray-300 dark:text-gray-600 hover:text-yellow-400")}}function dr(i,t){if(i&1){let e=v();m(0,"td",5)(1,"div",34),w("mouseleave",function(){p(e);let n=a(2);return g(n.onScoreLeave())}),V(2,ar,2,2,"button",35,N),u()()}i&2&&(o(2),L(ee(0,$t)))}function lr(i,t){if(i&1&&(m(0,"td",7),l(1),u()),i&2){let e=a(2);o(),x(" ",e.candidature().source||"-",`
`)}}function sr(i,t){if(i&1&&(m(0,"td",7),l(1),u()),i&2){let e=a(2);o(),x(" ",e.candidature().contactNom||"-",`
`)}}function cr(i,t){if(i&1&&(m(0,"td",8)(1,"div",38),l(2),u()()),i&2){let e=a(2);o(2),x(" ",e.candidature().description||"-"," ")}}function mr(i,t){if(i&1&&(m(0,"a",39),S(1,"i",41),l(2," Voir l'offre "),u()),i&2){let e=a(3);E("href",e.candidature().lienOffre,Fe)}}function ur(i,t){i&1&&(m(0,"span",40),l(1,"-"),u())}function pr(i,t){if(i&1&&(m(0,"td",9),f(1,mr,3,1,"a",39)(2,ur,2,0,"span",40),u()),i&2){let e=a(2);o(),b(e.candidature().lienOffre?1:2)}}function gr(i,t){if(i&1){let e=v();m(0,"td",10)(1,"div",42)(2,"button",43),S(3,"i",44),u(),m(4,"button",45),w("click",function(){p(e);let n=a(2);return g(n.onArchive())}),S(5,"i"),u(),m(6,"button",46),w("click",function(){p(e);let n=a(2);return g(n.onDelete())}),S(7,"i",47),u()()()}if(i&2){let e=a(2);o(2),E("routerLink",te(4,Ye,e.candidature().id)),o(2),E("title",e.candidature().archivee?"D\xE9sarchiver":"Archiver"),o(),D(e.candidature().archivee?"fas fa-box-open text-sm":"fas fa-archive text-sm")}}function Cr(i,t){i&1&&S(0,"td")}function _r(i,t){if(i&1&&f(0,Ot,3,1,"td",0)(1,Ht,3,1,"td",1)(2,jt,3,4,"td",2)(3,zt,4,1,"td",2)(4,Gt,5,4,"td",3)(5,Yt,7,4,"td",4)(6,Xt,5,4,"td",5)(7,rr,5,4,"td",5)(8,or,4,1,"td",6)(9,dr,4,1,"td",5)(10,lr,2,1,"td",7)(11,sr,2,1,"td",7)(12,cr,3,1,"td",8)(13,pr,3,1,"td",9)(14,gr,8,6,"td",10)(15,Cr,1,0,"td"),i&2){let e,r=t.$implicit;b((e=r)==="id"?0:e==="entreprise"?1:e==="poste"?2:e==="localisation"?3:e==="typeContrat"?4:e==="dateCandidature"?5:e==="statut"?6:e==="priorite"?7:e==="salaire"?8:e==="score"?9:e==="source"?10:e==="contact"?11:e==="description"?12:e==="lienOffre"?13:e==="actions"?14:15)}}var xe=class i{candidature=h.required();visibleColumns=h([]);editingCell=h(null);activeDropdown=h(null);hoveredScore=h(null);edit=C();delete=C();view=C();archive=C();startEdit=C();cancelEdit=C();toggleDropdown=C();scoreHover=C();scoreLeave=C();statuts=Object.values(ze);priorites=Object.values(G);typesContrat=Object.values(j);getStatutLabel=q;getPrioriteLabel=I;getTypeContratLabel=R;isColumnVisible(t){return this.visibleColumns().includes(t)}isEditing(t){let e=this.editingCell();return e?.candidatureId===this.candidature().id&&e?.field===t}isDropdownActive(t){let e=this.activeDropdown();return e?.candidatureId===this.candidature().id&&e?.field===t}getDisplayScore(){let t=this.hoveredScore();return t?.candidatureId===this.candidature().id?t.score:this.candidature().score||0}onStartEdit(t){this.startEdit.emit(t)}onSaveEdit(t,e){this.edit.emit({field:t,value:e})}onCancelEdit(){this.cancelEdit.emit()}onToggleDropdown(t){this.toggleDropdown.emit(t)}onScoreHover(t){this.scoreHover.emit(t)}onScoreLeave(){this.scoreLeave.emit()}onScoreClick(t){this.onSaveEdit("score",t),this.scoreLeave.emit()}onDelete(){this.delete.emit()}onView(){this.view.emit()}onArchive(){this.archive.emit()}getStatutBadgeClass(t){return{APPLIQUEE:"bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",ENTRETIEN_TELEPHONIQUE:"bg-gradient-to-r from-purple-100 to-purple-200 dark:from-purple-900/50 dark:to-purple-800/50 text-purple-800 dark:text-purple-200 border border-purple-300 dark:border-purple-700 shadow-sm",ENTRETIEN_TECHNIQUE:"bg-gradient-to-r from-orange-100 to-orange-200 dark:from-orange-900/50 dark:to-orange-800/50 text-orange-800 dark:text-orange-200 border border-orange-300 dark:border-orange-700 shadow-sm",ENTRETIEN_RH:"bg-gradient-to-r from-yellow-100 to-yellow-200 dark:from-yellow-900/50 dark:to-yellow-800/50 text-yellow-800 dark:text-yellow-200 border border-yellow-300 dark:border-yellow-700 shadow-sm",OFFRE:"bg-gradient-to-r from-green-100 to-green-200 dark:from-green-900/50 dark:to-green-800/50 text-green-800 dark:text-green-200 border border-green-300 dark:border-green-700 shadow-sm",REFUSEE:"bg-gradient-to-r from-red-100 to-red-200 dark:from-red-900/50 dark:to-red-800/50 text-red-800 dark:text-red-200 border border-red-300 dark:border-red-700 shadow-sm",SANS_REPONSE:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-800 dark:text-gray-100 border border-gray-300 dark:border-gray-600 shadow-sm"}[t]||""}getPrioriteBadgeClass(t){return{BASSE:"bg-gradient-to-r from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-600 text-gray-800 dark:text-gray-100 border border-gray-300 dark:border-gray-600 shadow-sm",MOYENNE:"bg-gradient-to-r from-blue-100 to-blue-200 dark:from-blue-900/50 dark:to-blue-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",HAUTE:"bg-gradient-to-r from-orange-100 to-red-100 dark:from-orange-900/50 dark:to-red-800/50 text-orange-900 dark:text-orange-100 border border-orange-400 dark:border-orange-700 shadow-sm font-bold"}[t]||""}getTypeContratBadgeClass(t){return{CDI:"bg-gradient-to-r from-green-100 to-emerald-200 dark:from-green-900/50 dark:to-emerald-800/50 text-green-900 dark:text-green-100 border border-green-300 dark:border-green-700 shadow-sm font-bold",CDD:"bg-gradient-to-r from-blue-100 to-cyan-200 dark:from-blue-900/50 dark:to-cyan-800/50 text-blue-800 dark:text-blue-200 border border-blue-300 dark:border-blue-700 shadow-sm",INTERIM:"bg-gradient-to-r from-purple-100 to-fuchsia-200 dark:from-purple-900/50 dark:to-fuchsia-800/50 text-purple-800 dark:text-purple-200 border border-purple-300 dark:border-purple-700 shadow-sm",STAGE:"bg-gradient-to-r from-orange-100 to-amber-200 dark:from-orange-900/50 dark:to-amber-800/50 text-orange-800 dark:text-orange-200 border border-orange-300 dark:border-orange-700 shadow-sm",ALTERNANCE:"bg-gradient-to-r from-indigo-100 to-violet-200 dark:from-indigo-900/50 dark:to-violet-800/50 text-indigo-800 dark:text-indigo-200 border border-indigo-300 dark:border-indigo-700 shadow-sm",FREELANCE:"bg-gradient-to-r from-yellow-100 to-lime-200 dark:from-yellow-900/50 dark:to-lime-800/50 text-yellow-900 dark:text-yellow-100 border border-yellow-400 dark:border-yellow-700 shadow-sm"}[t]||""}getTypeContratBadgeClassSafe(t){return t?this.getTypeContratBadgeClass(t):""}getTypeContratLabelSafe(t){return t?R(t):"-"}getPrioriteBadgeClassSafe(t){return t?this.getPrioriteBadgeClass(t):""}getPrioriteLabelSafe(t){return t?I(t):"-"}formatDate(t){return t?(typeof t=="string"?new Date(t):t).toLocaleDateString("fr-FR"):"-"}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["","appTableRow",""]],inputs:{candidature:[1,"candidature"],visibleColumns:[1,"visibleColumns"],editingCell:[1,"editingCell"],activeDropdown:[1,"activeDropdown"],hoveredScore:[1,"hoveredScore"]},outputs:{edit:"edit",delete:"delete",view:"view",archive:"archive",startEdit:"startEdit",cancelEdit:"cancelEdit",toggleDropdown:"toggleDropdown",scoreHover:"scoreHover",scoreLeave:"scoreLeave"},attrs:Bt,decls:2,vars:0,consts:[[1,"px-6","py-4","whitespace-nowrap","align-middle","w-20"],[1,"px-6","py-4","align-middle","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-40"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-40","text-sm","text-gray-600","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-32"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-36"],[1,"px-6","py-4","whitespace-nowrap","align-middle","min-w-[120px]","text-sm","text-gray-600","dark:text-gray-400","truncate","max-w-xs"],[1,"px-6","py-4","align-middle","text-sm","text-gray-600","dark:text-gray-400"],[1,"px-6","py-4","whitespace-nowrap","align-middle"],[1,"px-6","py-4","whitespace-nowrap","align-middle","w-28","text-sm"],[1,"inline-flex","items-center","justify-center","px-2.5","py-1","rounded-md","text-xs","font-bold","text-primary-700","dark:text-primary-300","bg-primary-100","dark:bg-primary-900/40","border","border-primary-300","dark:border-primary-700"],[1,"text-sm","font-bold","text-gray-900","dark:text-white"],["title","Voir le d\xE9tail de la candidature",1,"text-sm","font-bold","text-gray-900","dark:text-white","font-semibold","underline-none","underline-offset-2","hover:text-primary-900","dark:hover:text-primary-100","transition-colors","cursor-pointer",3,"routerLink"],[1,"text-sm","text-gray-600","dark:text-gray-400","flex","items-center","gap-1","truncate"],[1,"fas","fa-map-marker-alt","text-xs"],[1,"relative"],[1,"absolute","top-0","left-0","z-50","bg-white","dark:bg-gray-800","rounded-xl","shadow-2xl","border-2","border-gray-200","dark:border-gray-600","min-w-[220px]","overflow-hidden","animate-fadeIn"],[1,"px-3","py-1.5","rounded-lg","text-xs","font-bold","cursor-pointer","hover:shadow-md","hover:scale-105","transition-all","duration-200","border","border-transparent","hover:border-current",3,"click"],["type","button",1,"w-full","px-4","py-3","text-left","hover:bg-gradient-to-r","hover:from-primary-50","hover:to-primary-100/50","dark:hover:from-primary-900/20","dark:hover:to-primary-800/10","cursor-pointer","flex","items-center","gap-3","transition-all","duration-200","border-b","border-gray-100","dark:border-gray-700","last:border-0"],["type","button",1,"w-full","px-4","py-3","text-left","hover:bg-gradient-to-r","hover:from-primary-50","hover:to-primary-100/50","dark:hover:from-primary-900/20","dark:hover:to-primary-800/10","cursor-pointer","flex","items-center","gap-3","transition-all","duration-200","border-b","border-gray-100","dark:border-gray-700","last:border-0",3,"click"],[1,"px-3","py-1.5","rounded-lg","text-xs","font-bold","shadow-sm","transition-transform","hover:scale-105"],[1,"fas","fa-check-circle","text-primary-600","dark:text-primary-400","ml-auto","text-base","animate-pulse"],[1,"flex","flex-col","gap-1"],[1,"text-xs","text-gray-400"],[1,"absolute","top-0","left-0","z-50","bg-white","dark:bg-gray-800","rounded-lg","shadow-xl","border","border-gray-200","dark:border-gray-700","min-w-[200px]"],[1,"status-badge","cursor-pointer","hover:opacity-80",3,"click"],["type","button",1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","flex","items-center","gap-2"],["type","button",1,"w-full","px-4","py-2","text-left","hover:bg-gray-50","dark:hover:bg-gray-700","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"status-badge"],[1,"fas","fa-check","text-primary-600","ml-auto"],[1,"px-2","py-1","rounded-full","text-xs","font-medium","cursor-pointer","hover:opacity-80",3,"click"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"text-sm","text-gray-700","dark:text-gray-300"],[1,"flex","gap-1","items-center",3,"mouseleave"],[1,"cursor-pointer","hover:scale-125","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-yellow-400","rounded-full","p-0.5"],[1,"cursor-pointer","hover:scale-125","transition-all","duration-200","focus:outline-none","focus:ring-2","focus:ring-yellow-400","rounded-full","p-0.5",3,"mouseenter","click"],[1,"text-lg","transition-all","duration-200"],[1,"line-clamp-2"],["target","_blank","rel","noopener noreferrer",1,"text-primary-600","dark:text-primary-400","hover:underline","text-sm","flex","items-center","gap-1",3,"href"],[1,"text-gray-400"],[1,"fas","fa-external-link-alt","text-xs"],[1,"flex","items-center","gap-2","opacity-0","group-hover:opacity-100","transition-opacity","duration-200"],["title","Voir les d\xE9tails",1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-primary-600","dark:hover:bg-primary-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"routerLink"],[1,"fas","fa-eye","text-sm"],[1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-yellow-500","dark:hover:bg-yellow-600","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click","title"],["title","Supprimer",1,"p-2","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-red-600","dark:hover:bg-red-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-trash","text-sm"]],template:function(e,r){e&1&&V(0,_r,16,1,null,null,N),e&2&&L(r.visibleColumns())},dependencies:[M,X,W,Z,se],encapsulation:2})};var br=(i,t,e,r)=>({"bg-gray-100 dark:bg-gray-900":i,"hover:bg-gray-50 dark:hover:bg-gray-800/40":t,"bg-neutral-200/70 dark:bg-neutral-900/70 opacity-70":e,"hover:opacity-100":r});function xr(i,t){if(i&1){let e=v();m(0,"tr",5),w("edit",function(n){let d=p(e).$implicit,A=a();return g(A.onSaveEdit(d.id,n.field,n.value))})("delete",function(){let n=p(e).$implicit,d=a();return g(d.onDelete(n.id))})("view",function(){let n=p(e).$implicit,d=a();return g(d.onView(n.id))})("archive",function(){let n=p(e).$implicit,d=a();return g(d.onArchive(n.id))})("startEdit",function(n){let d=p(e).$implicit,A=a();return g(A.onStartEdit(d.id,n))})("cancelEdit",function(){p(e);let n=a();return g(n.onCancelEdit())})("toggleDropdown",function(n){let d=p(e).$implicit,A=a();return g(A.onToggleDropdown(d.id,n))})("scoreHover",function(n){let d=p(e).$implicit,A=a();return g(A.onScoreHover(d.id,n))})("scoreLeave",function(){p(e);let n=a();return g(n.onScoreLeave())}),u()}if(i&2){let e=t.$implicit,r=a();E("ngClass",Le(6,br,!e.archivee,!e.archivee,e.archivee,e.archivee))("candidature",e)("visibleColumns",r.getVisibleColumnKeys())("editingCell",r.editingCell())("activeDropdown",r.activeDropdown())("hoveredScore",r.hoveredScore())}}function hr(i,t){if(i&1&&(m(0,"tr")(1,"td",6)(2,"div",7)(3,"div",8),S(4,"i",9)(5,"div",10),u(),m(6,"div",11)(7,"p",12),l(8," Aucune candidature trouv\xE9e "),u(),m(9,"p",13),l(10," Essayez de modifier vos filtres ou cr\xE9ez une nouvelle candidature pour commencer "),u()(),m(11,"div",14)(12,"button",15),S(13,"i",16),l(14," Nouvelle candidature "),u(),m(15,"button",17),S(16,"i",18),l(17," R\xE9initialiser les filtres "),u()()()()()),i&2){let e=a();o(),E("colSpan",e.visibleColumns().length)}}var he=class i{candidatures=h([]);visibleColumns=h([]);sortColumn=h(null);sortDirection=h(null);sort=C();edit=C();delete=C();view=C();archive=C();editingCell=k(null);activeDropdown=k(null);hoveredScore=k(null);onSort(t){this.sort.emit(t)}onStartEdit(t,e){this.editingCell.set({candidatureId:t,field:e})}onSaveEdit(t,e,r){this.edit.emit({id:t,field:e,value:r}),this.editingCell.set(null),this.activeDropdown.set(null)}onCancelEdit(){this.editingCell.set(null),this.activeDropdown.set(null)}onToggleDropdown(t,e){let r=this.activeDropdown();r?.candidatureId===t&&r?.field===e?this.activeDropdown.set(null):(this.activeDropdown.set({candidatureId:t,field:e}),this.editingCell.set({candidatureId:t,field:e}))}onScoreHover(t,e){this.hoveredScore.set({candidatureId:t,score:e})}onScoreLeave(){this.hoveredScore.set(null)}onDelete(t){this.delete.emit(t)}onView(t){this.view.emit(t)}onArchive(t){this.archive.emit(t)}trackByFn(t,e){return e.id}getVisibleColumnKeys(){return this.visibleColumns().map(t=>t.key)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-candidature-table"]],inputs:{candidatures:[1,"candidatures"],visibleColumns:[1,"visibleColumns"],sortColumn:[1,"sortColumn"],sortDirection:[1,"sortDirection"]},outputs:{sort:"sort",edit:"edit",delete:"delete",view:"view",archive:"archive"},decls:7,vars:4,consts:[[1,"overflow-x-auto","rounded-xl","border","border-gray-200","dark:border-gray-700","shadow-lg","bg-white","dark:bg-gray-900"],[1,"min-w-full","table-fixed","divide-y","divide-gray-200","dark:divide-gray-700"],["appTableHeader","",1,"bg-gradient-to-r","from-gray-50","to-gray-100","dark:from-gray-800","dark:to-gray-800/50","sticky","top-0","z-10",3,"sort","columns","sortColumn","sortDirection"],[1,"bg-white","dark:bg-gray-900","divide-y","divide-gray-200","dark:divide-gray-700"],["appTableRow","",1,"group","transition-colors","duration-150","border-b","border-gray-200","dark:border-gray-700",3,"ngClass","candidature","visibleColumns","editingCell","activeDropdown","hoveredScore"],["appTableRow","",1,"group","transition-colors","duration-150","border-b","border-gray-200","dark:border-gray-700",3,"edit","delete","view","archive","startEdit","cancelEdit","toggleDropdown","scoreHover","scoreLeave","ngClass","candidature","visibleColumns","editingCell","activeDropdown","hoveredScore"],[1,"px-6","py-16","text-center","bg-gradient-to-b","from-gray-50","to-white","dark:from-gray-900","dark:to-gray-800",3,"colSpan"],[1,"flex","flex-col","items-center","gap-6","animate-fadeIn"],[1,"relative"],[1,"fas","fa-inbox","text-7xl","text-gray-300","dark:text-gray-600","animate-bounce-slow"],[1,"absolute","-top-2","-right-2","w-6","h-6","bg-primary-500","rounded-full","animate-ping","opacity-75"],[1,"space-y-2"],[1,"text-xl","font-bold","text-gray-700","dark:text-gray-300"],[1,"text-sm","text-gray-500","dark:text-gray-400","max-w-md"],[1,"flex","gap-3","mt-4"],[1,"px-4","py-2","bg-primary-600","hover:bg-primary-700","text-white","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-200","font-medium","text-sm"],[1,"fas","fa-plus","mr-2"],[1,"px-4","py-2","bg-gray-200","hover:bg-gray-300","dark:bg-gray-700","dark:hover:bg-gray-600","text-gray-700","dark:text-gray-200","rounded-lg","shadow-md","hover:shadow-lg","transition-all","duration-200","font-medium","text-sm"],[1,"fas","fa-filter","mr-2"]],template:function(e,r){e&1&&(m(0,"div",0)(1,"table",1)(2,"thead",2),w("sort",function(d){return r.onSort(d)}),u(),m(3,"tbody",3),V(4,xr,1,11,"tr",4,r.trackByFn,!0),f(6,hr,18,1,"tr"),u()()()),e&2&&(o(2),E("columns",r.visibleColumns())("sortColumn",r.sortColumn())("sortDirection",r.sortDirection()),o(2),L(r.candidatures()),o(2),b(r.candidatures().length===0?6:-1))},dependencies:[M,oe,be,xe],encapsulation:2})};var vr=(i,t)=>({"bg-neutral-100/70 dark:bg-neutral-900/70 opacity-70":i,"hover:opacity-100":t}),yr=i=>["/candidatures",i];function wr(i,t){i&1&&(m(0,"span",1),S(1,"i",21),u())}var ve=class i{candidature;onArchive=new ye;onDeleteFromTable=new ye;TypeContrat=j;Priorite=G;getStatutBadgeClass=ae;getStatutLabel=q;getPrioriteBadgeClass=de;getPrioriteLabel=I;getTypeContratBadgeClass=le;getTypeContratLabel=R;static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-candidature-card"]],inputs:{candidature:"candidature"},outputs:{onArchive:"onArchive",onDeleteFromTable:"onDeleteFromTable"},decls:31,vars:27,consts:[[1,"relative","card","px-4","py-2","bg-white","dark:bg-gray-900","border","border-gray-200","dark:border-gray-700","rounded-xl","shadow-lg","hover:shadow-xl","transition-all","duration-200","flex","flex-col","justify-between","group","gap-2","overflow-hidden",3,"ngClass"],["aria-label","Candidature archiv\xE9e","title","Candidature archiv\xE9e",1,"absolute","bottom-0","left-0","z-10","p-2","text-xs","font-semibold","bg-stone-200","dark:bg-stone-700","text-stone-900","dark:text-stone-100","border","border-stone-400","dark:border-stone-600","shadow"],[1,"flex","flex-col","gap-2"],[1,"flex","items-center","gap-2","mb-2"],[1,"inline-block","px-2","py-1","rounded","text-xs","font-bold","bg-primary-100","dark:bg-primary-900/30","text-primary-700","dark:text-primary-300"],[1,"text-xs","text-gray-400","flex-1"],[1,"flex-end","px-2","py-1","rounded-lg","text-xs","font-bold"],[1,"text-lg","font-bold","text-gray-900","dark:text-white","mb-1","truncate"],[1,"text-sm","text-gray-700","dark:text-gray-300","truncate"],[1,"fas","fa-building","mr-1"],[1,"text-xs","text-gray-500","dark:text-gray-400","flex","items-center","gap-1"],[1,"fas","fa-map-marker-alt"],[1,"flex","gap-2","mt-2"],[1,"status-badge"],[1,"px-2","py-1","rounded-full","text-xs","font-medium"],[1,"flex","items-center","justify-center","gap-2","border-t","pt-2","border-gray-100","dark:border-gray-800"],["title","Voir les d\xE9tails",1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-primary-600","dark:hover:bg-primary-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"routerLink"],[1,"fas","fa-eye","text-sm"],[1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-yellow-500","dark:hover:bg-yellow-600","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click","title"],["title","Supprimer",1,"px-2","py-1","rounded-lg","text-gray-600","dark:text-gray-400","hover:text-white","hover:bg-red-600","dark:hover:bg-red-500","transition-all","duration-200","hover:scale-110","hover:shadow-lg","cursor-pointer","disabled:cursor-not-allowed",3,"click"],[1,"fas","fa-trash","text-sm"],[1,"fas","fa-archive"]],template:function(e,r){e&1&&(m(0,"div",0),f(1,wr,2,0,"span",1),m(2,"div",2)(3,"div",3)(4,"span",4),l(5),u(),m(6,"span",5),l(7),ie(8,"timeAgo"),u(),m(9,"span",6),l(10),u()(),m(11,"h2",7),l(12),u(),m(13,"div",8),S(14,"i",9),l(15),u(),m(16,"div",10),S(17,"i",11),l(18),u(),m(19,"div",12)(20,"span",13),l(21),u(),m(22,"span",14),l(23),u()()(),m(24,"div",15)(25,"button",16),S(26,"i",17),u(),m(27,"button",18),w("click",function(){return r.onArchive.emit(r.candidature.id)}),S(28,"i"),u(),m(29,"button",19),w("click",function(){return r.onDeleteFromTable.emit(r.candidature.id)}),S(30,"i",20),u()()()),e&2&&(E("ngClass",Ve(22,vr,r.candidature.archivee,r.candidature.archivee)),o(),b(r.candidature.archivee?1:-1),o(4),x(" #",r.candidature.id," "),o(2),z(ne(8,20,r.candidature.dateCandidature)),o(2),D(r.getTypeContratBadgeClass(r.candidature.typeContrat??r.TypeContrat.CDI)),o(),x(" ",r.getTypeContratLabel(r.candidature.typeContrat??r.TypeContrat.CDI)," "),o(2),x(" ",r.candidature.poste," "),o(3),x(" ",r.candidature.entreprise," "),o(3),x(" ",r.candidature.localisation||"-"," "),o(2),D(r.getStatutBadgeClass(r.candidature.statut)),o(),x(" ",r.getStatutLabel(r.candidature.statut)," "),o(),D(r.getPrioriteBadgeClass(r.candidature.priorite??r.Priorite.BASSE)),o(),x(" ",r.getPrioriteLabel(r.candidature.priorite??r.Priorite.BASSE)," "),o(2),E("routerLink",te(25,yr,r.candidature.id)),o(2),E("title",r.candidature.archivee?"D\xE9sarchiver":"Archiver"),o(),D(r.candidature.archivee?"fas fa-box-open text-sm":"fas fa-archive text-sm"))},dependencies:[M,oe,X,W,se],encapsulation:2})};var Sr=(i,t)=>t.id;function kr(i,t){if(i&1&&l(0),i&2){let e=a();x(" sur ",e.candidatures().length," ")}}function Tr(i,t){if(i&1){let e=v();m(0,"app-filter-chips",21),w("clearSearch",function(){p(e);let n=a();return g(n.searchTerm.set(""))})("clearStatut",function(){p(e);let n=a();return g(n.selectedStatut.set(""))})("clearPriorite",function(){p(e);let n=a();return g(n.selectedPriorite.set(""))})("clearTypeContrat",function(){p(e);let n=a();return g(n.selectedTypeContrat.set(""))})("clearScore",function(){p(e);let n=a();return n.selectedScoreMin.set(0),g(n.selectedScoreMax.set(5))})("clearDateDebut",function(){p(e);let n=a();return g(n.dateDebut.set(""))})("clearDateFin",function(){p(e);let n=a();return g(n.dateFin.set(""))}),u()}if(i&2){let e=a();E("filters",e.filterChipsData())}}function Er(i,t){i&1&&S(0,"app-loading-spinner",17),i&2&&E("fullscreen",!0)}function Dr(i,t){if(i&1){let e=v();m(0,"app-error-card",22),w("retry",function(){p(e);let n=a();return g(n.loadCandidatures())}),u()}if(i&2){let e=a();E("message",e.errorMessage())}}function Fr(i,t){if(i&1){let e=v();m(0,"app-empty-state",23),w("action",function(){p(e);let n=a();return g(n.router.navigate(["/candidatures/new"]))}),u()}}function Mr(i,t){if(i&1){let e=v();m(0,"div",20)(1,"div",24)(2,"div",25),S(3,"i",26),u(),m(4,"h3",27),l(5,"Aucun r\xE9sultat trouv\xE9"),u(),m(6,"p",28),l(7," Aucune candidature ne correspond \xE0 vos crit\xE8res de recherche "),u(),m(8,"button",29),w("click",function(){p(e);let n=a();return g(n.clearFilters())}),S(9,"i",30),l(10," Effacer les filtres "),u()()()}}function Vr(i,t){if(i&1){let e=v();m(0,"app-candidature-card",34),w("onArchive",function(n){p(e);let d=a(3);return g(d.onArchive(n))})("onDeleteFromTable",function(n){p(e);let d=a(3);return g(d.onDeleteFromTable(n))}),u()}if(i&2){let e=t.$implicit;E("candidature",e)}}function Lr(i,t){if(i&1&&(m(0,"div",31),V(1,Vr,1,1,"app-candidature-card",33,Sr),u()),i&2){let e=a(2);o(),L(e.filteredCandidatures())}}function Pr(i,t){if(i&1){let e=v();m(0,"app-candidature-table",35),w("sort",function(n){p(e);let d=a(2);return g(d.onSort(n))})("edit",function(n){p(e);let d=a(2);return g(d.onEdit(n))})("delete",function(n){p(e);let d=a(2);return g(d.onDeleteFromTable(n))})("view",function(n){p(e);let d=a(2);return g(d.viewDetails(n))})("archive",function(n){p(e);let d=a(2);return g(d.onArchive(n))}),u()}if(i&2){let e=a(2);E("candidatures",e.filteredCandidatures())("visibleColumns",e.visibleColumns())("sortColumn",e.sortColumn())("sortDirection",e.sortDirection())}}function Ar(i,t){if(i&1&&f(0,Lr,3,0,"div",31)(1,Pr,1,4,"app-candidature-table",32),i&2){let e=a();b(e.viewMode()==="grid"?0:1)}}var Je=class i{updateCandidatureLocally(t){this.candidaturesState.set(K(O({},this.candidaturesState()),{data:this.candidaturesState().data.map(e=>e.id===t.id?O(O({},e),t):e)}))}candidatureService=Q(Be);router=Q(Pe);notificationService=Q(Ae);confirmationService=Q($e);destroyRef=Q(Te);STORAGE_KEY="job-tracker-columns-preferences";refreshTrigger$=new we;candidaturesState=k({data:[],loading:!0,error:null});constructor(){Ee(()=>{let t=this.availableColumns();this.saveColumnPreferences(t)}),this.loadColumnPreferences(),this.loadCandidatures()}loadCandidatures(){this.candidaturesState.set(K(O({},this.candidaturesState()),{loading:!0})),this.candidatureService.getAllCandidatures().pipe(Y(this.destroyRef),ke(t=>{console.error("Erreur lors du chargement des candidatures",t);let e="Impossible de charger les candidatures. Veuillez v\xE9rifier que le serveur est bien d\xE9marr\xE9.";return setTimeout(()=>this.notificationService.error(e),0),this.candidaturesState.set({data:[],loading:!1,error:e}),Se([])})).subscribe(t=>{this.candidaturesState.set({data:t,loading:!1,error:null})})}candidatures=U(()=>this.candidaturesState().data);isLoading=U(()=>this.candidaturesState().loading);errorMessage=U(()=>this.candidaturesState().error);viewMode=k("table");searchTerm=k("");selectedStatut=k("");selectedPriorite=k("");selectedTypeContrat=k("");selectedScoreMin=k(0);selectedScoreMax=k(5);showArchived=k(!1);showNonArchived=k(!0);dateDebut=k("");dateFin=k("");sortColumn=k(null);sortDirection=k(null);availableColumns=k([{key:"id",label:"ID",visible:!1,sortable:!0,width:"80px",icon:"fa-hashtag"},{key:"entreprise",label:"Entreprise",visible:!0,sortable:!0,icon:"fa-building"},{key:"poste",label:"Poste",visible:!0,sortable:!0,icon:"fa-briefcase"},{key:"localisation",label:"Localisation",visible:!0,sortable:!0,icon:"fa-map-marker-alt"},{key:"typeContrat",label:"Type contrat",visible:!0,sortable:!0,icon:"fa-file-contract"},{key:"dateCandidature",label:"Date candidature",visible:!0,sortable:!0,icon:"fa-calendar"},{key:"statut",label:"Statut",visible:!0,sortable:!0,icon:"fa-flag"},{key:"priorite",label:"Priorit\xE9",visible:!0,sortable:!0,icon:"fa-exclamation-triangle"},{key:"salaire",label:"Salaire",visible:!1,sortable:!1,icon:"fa-euro-sign"},{key:"score",label:"Score",visible:!0,sortable:!0,icon:"fa-star"},{key:"source",label:"Source",visible:!1,sortable:!0,icon:"fa-link"},{key:"contact",label:"Contact",visible:!1,sortable:!1,icon:"fa-user"},{key:"description",label:"Description/Note",visible:!1,sortable:!1,icon:"fa-align-left"},{key:"lienOffre",label:"Lien offre",visible:!1,sortable:!1,icon:"fa-external-link-alt"},{key:"actions",label:"Actions",visible:!0,sortable:!1,width:"140px",icon:"fa-cog"}]);visibleColumns=U(()=>this.availableColumns().filter(t=>t.visible));visibleColumnsSet=U(()=>new Set(this.visibleColumns().map(t=>t.key)));filterChipsData=U(()=>({searchTerm:this.searchTerm(),selectedStatut:this.selectedStatut(),selectedPriorite:this.selectedPriorite(),selectedTypeContrat:this.selectedTypeContrat(),selectedScoreMin:this.selectedScoreMin(),selectedScoreMax:this.selectedScoreMax(),dateDebut:this.dateDebut(),dateFin:this.dateFin()}));filteredCandidatures=U(()=>{let t=this.candidatures(),e=this.searchTerm().toLowerCase().trim();if(e&&(t=t.filter(P=>P.entreprise?.toLowerCase().includes(e)||P.poste?.toLowerCase().includes(e)||P.localisation?.toLowerCase().includes(e)||P.source?.toLowerCase().includes(e)||P.description?.toLowerCase().includes(e))),this.selectedStatut()&&(t=t.filter(P=>P.statut===this.selectedStatut())),this.selectedPriorite()&&(t=t.filter(P=>P.priorite===this.selectedPriorite())),this.selectedTypeContrat()&&(t=t.filter(P=>P.typeContrat===this.selectedTypeContrat())),(this.selectedScoreMin()>0||this.selectedScoreMax()<5)&&(t=t.filter(P=>{let J=P.score||0;return J>=this.selectedScoreMin()&&J<=this.selectedScoreMax()})),this.dateDebut()){let P=new Date(this.dateDebut());t=t.filter(J=>new Date(J.dateCandidature)>=P)}if(this.dateFin()){let P=new Date(this.dateFin());t=t.filter(J=>new Date(J.dateCandidature)<=P)}let r=this.showArchived(),n=this.showNonArchived();t=t.filter(P=>n&&!P.archivee||r&&P.archivee);let d=this.sortColumn(),A=this.sortDirection();return d&&A&&(t=qe(t,d,A)),t});hasActiveFilters=U(()=>!!this.searchTerm()||!!this.selectedStatut()||!!this.selectedPriorite()||!!this.selectedTypeContrat()||this.selectedScoreMin()>0||this.selectedScoreMax()<5||!!this.dateDebut()||!!this.dateFin());activeFiltersCount=U(()=>{let t=0;return this.searchTerm()&&t++,this.selectedStatut()&&t++,this.selectedPriorite()&&t++,this.selectedTypeContrat()&&t++,(this.selectedScoreMin()>0||this.selectedScoreMax()<5)&&t++,this.dateDebut()&&t++,this.dateFin()&&t++,t});Priorite=G;TypeContrat=j;getStatutBadgeClass=ae;getStatutLabel=q;getPrioriteBadgeClass=de;getPrioriteLabel=I;getTypeContratBadgeClass=le;getTypeContratLabel=R;toggleColumn(t){this.availableColumns.update(e=>{let r=[...e],n=r.find(d=>d.key===t);return n&&n.key!=="actions"&&(n.visible=!n.visible),r})}resetColumns(){this.availableColumns.update(t=>{let e=["entreprise","poste","localisation","dateCandidature","statut","actions"];return t.map(r=>K(O({},r),{visible:e.includes(r.key)}))}),this.notificationService.success("Colonnes r\xE9initialis\xE9es")}showAllColumns(){this.availableColumns.update(t=>t.map(e=>K(O({},e),{visible:!0}))),this.notificationService.success("Toutes les colonnes affich\xE9es")}hideAllOptionalColumns(){this.availableColumns.update(t=>t.map(e=>K(O({},e),{visible:e.key==="poste"||e.key==="actions"}))),this.notificationService.success("Colonnes optionnelles masqu\xE9es (poste et actions toujours visibles)")}saveColumnPreferences(t){let e=t.map(r=>({key:r.key,visible:r.visible}));localStorage.setItem(this.STORAGE_KEY,JSON.stringify(e))}loadColumnPreferences(){let t=localStorage.getItem(this.STORAGE_KEY);if(t)try{let e=JSON.parse(t);this.availableColumns.update(r=>{let n=[...r];return e.forEach(d=>{let A=n.find(P=>P.key===d.key);A&&(A.visible=d.visible)}),n})}catch(e){console.error("Erreur lors du chargement des pr\xE9f\xE9rences de colonnes",e)}}onSort(t){this.sortColumn.set(t.direction?t.column:null),this.sortDirection.set(t.direction)}sortBy(t){let e=this.availableColumns().find(d=>d.key===t);if(!e||!e.sortable)return;let r=this.sortColumn(),n=this.sortDirection();r===t?n==="asc"?this.sortDirection.set("desc"):n==="desc"&&(this.sortDirection.set(null),this.sortColumn.set(null)):(this.sortColumn.set(t),this.sortDirection.set("asc"))}getSortIcon(t){return this.sortColumn()!==t?"fas fa-sort text-gray-300 dark:text-gray-600":this.sortDirection()==="asc"?"fas fa-sort-up text-primary-600 dark:text-primary-400":"fas fa-sort-down text-primary-600 dark:text-primary-400"}clearFilters(){this.searchTerm.set(""),this.selectedStatut.set(""),this.selectedPriorite.set(""),this.selectedTypeContrat.set(""),this.selectedScoreMin.set(0),this.selectedScoreMax.set(5),this.dateDebut.set(""),this.dateFin.set(""),this.showArchived.set(!1),this.showNonArchived.set(!0),this.notificationService.success("Filtres r\xE9initialis\xE9s")}getColumnValue(t,e){return t[e]}onColumnsReordered(t){let e=this.availableColumns(),r=t.map(n=>{let d=e.find(A=>A.key===n.key);return d?K(O({},n),{visible:d.visible}):n});this.availableColumns.set(r)}viewDetails(t){this.router.navigate(["/candidatures",t])}editCandidature(t){this.router.navigate(["/candidatures",t,"edit"])}deleteCandidature(t,e){e.stopPropagation();let r=this.candidatures().find(n=>n.id===t);r&&this.confirmationService.confirmDelete(`${r.poste} chez ${r.entreprise}`).pipe(Y(this.destroyRef)).subscribe(n=>{n&&this.candidatureService.deleteCandidature(t).pipe(Y(this.destroyRef)).subscribe({next:()=>{setTimeout(()=>this.notificationService.success("Candidature supprim\xE9e avec succ\xE8s"),0),this.loadCandidatures()},error:d=>{console.error("Erreur lors de la suppression",d),setTimeout(()=>this.notificationService.error("Erreur lors de la suppression"),0)}})})}onEdit(t){let e=this.candidatures().find(n=>n.id===t.id);if(!e)return;let r=K(O({},e),{[t.field]:t.value});this.candidatureService.updateCandidature(t.id,r).pipe(Y(this.destroyRef)).subscribe({next:n=>{this.notificationService.success("Candidature mise \xE0 jour"),this.updateCandidatureLocally(n)},error:n=>{console.error("Erreur lors de la mise \xE0 jour",n),this.notificationService.error("Erreur lors de la mise \xE0 jour")}})}onArchive(t){let e=this.candidatures().find(n=>n.id===t);if(!e)return;let r=K(O({},e),{archivee:!e.archivee});this.candidatureService.updateCandidature(t,r).pipe(Y(this.destroyRef)).subscribe({next:n=>{this.notificationService.success(e.archivee?"Candidature d\xE9sarchiv\xE9e":"Candidature archiv\xE9e"),this.updateCandidatureLocally(n)},error:n=>{console.error("Erreur lors de l'archivage",n),this.notificationService.error("Erreur lors de l'archivage")}})}onDeleteFromTable(t){let e=this.candidatures().find(r=>r.id===t);e&&this.confirmationService.confirmDelete(`${e.poste} chez ${e.entreprise}`).pipe(Y(this.destroyRef)).subscribe(r=>{r&&this.candidatureService.deleteCandidature(t).pipe(Y(this.destroyRef)).subscribe({next:()=>{setTimeout(()=>this.notificationService.success("Candidature supprim\xE9e avec succ\xE8s"),0),this.loadCandidatures()},error:n=>{console.error("Erreur lors de la suppression",n),setTimeout(()=>this.notificationService.error("Erreur lors de la suppression"),0)}})})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=F({type:i,selectors:[["app-candidature-list"]],decls:30,vars:21,consts:[[1,"max-w-7xl","mx-auto","p-6"],[1,"flex","flex-col","lg:flex-row","lg:items-center","lg:justify-between","gap-4","mb-6"],[1,"text-3xl","font-bold","text-gray-900","dark:text-white","flex","items-center","gap-3","mb-2"],[1,"fas","fa-briefcase","text-primary-600","dark:text-primary-400"],[1,"text-gray-600","dark:text-gray-400"],[1,"flex","gap-3"],["aria-label","Vue tableau",1,"btn-outline","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"fas","fa-table"],["aria-label","Vue cartes",1,"btn-outline","cursor-pointer","flex","items-center","gap-2",3,"click"],[1,"fas","fa-th-large"],[3,"toggleColumn","showAllColumns","hideAllColumns","columnsReordered","visibleColumns","availableColumns"],["routerLink","/stats",1,"btn-outline","cursor-pointer"],[1,"fas","fa-chart-bar"],["routerLink","/candidatures/new",1,"btn-primary","cursor-pointer"],[1,"fas","fa-plus"],[3,"searchTermChange","statutChange","prioriteChange","typeContratChange","scoreMinChange","scoreMaxChange","dateDebutChange","dateFinChange","archivedChange","nonArchivedChange","clearFilters","searchTerm","selectedStatut","selectedPriorite","selectedTypeContrat","selectedScoreMin","selectedScoreMax","dateDebut","dateFin","showArchivedCandidatures","showNonArchivedCandidatures","activeFiltersCount"],[3,"filters"],["message","Chargement des candidatures...",3,"fullscreen"],["title","Erreur de chargement",3,"message"],["title","Aucune candidature","message","Vous n'avez pas encore cr\xE9\xE9 de candidature. Commencez d\xE8s maintenant \xE0 suivre vos opportunit\xE9s professionnelles !","icon","work_off","actionLabel","Cr\xE9er une candidature","actionIcon","add"],[1,"card","text-center","py-16","animate-in","fade-in","duration-200"],[3,"clearSearch","clearStatut","clearPriorite","clearTypeContrat","clearScore","clearDateDebut","clearDateFin","filters"],["title","Erreur de chargement",3,"retry","message"],["title","Aucune candidature","message","Vous n'avez pas encore cr\xE9\xE9 de candidature. Commencez d\xE8s maintenant \xE0 suivre vos opportunit\xE9s professionnelles !","icon","work_off","actionLabel","Cr\xE9er une candidature","actionIcon","add",3,"action"],[1,"max-w-md","mx-auto"],[1,"w-24","h-24","mx-auto","mb-6","bg-gradient-to-br","from-gray-100","to-gray-200","dark:from-gray-700","dark:to-gray-800","rounded-full","flex","items-center","justify-center"],[1,"fas","fa-search","text-4xl","text-gray-400"],[1,"text-xl","font-bold","text-gray-900","dark:text-white","mb-2"],[1,"text-gray-600","dark:text-gray-400","mb-6"],[1,"btn-primary","cursor-pointer","inline-flex","items-center","gap-2","hover:scale-105","transition-transform",3,"click"],[1,"fas","fa-times"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","mt-4","animate-in","fade-in","duration-200"],[3,"candidatures","visibleColumns","sortColumn","sortDirection"],[3,"candidature"],[3,"onArchive","onDeleteFromTable","candidature"],[3,"sort","edit","delete","view","archive","candidatures","visibleColumns","sortColumn","sortDirection"]],template:function(e,r){e&1&&(m(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),S(4,"i",3),l(5," Mes Candidatures "),u(),m(6,"p",4),l(7),f(8,kr,1,1),u()(),m(9,"div",5)(10,"button",6),w("click",function(){return r.viewMode.set("table")}),S(11,"i",7),l(12," Tableau "),u(),m(13,"button",8),w("click",function(){return r.viewMode.set("grid")}),S(14,"i",9),l(15," Cartes "),u(),m(16,"app-column-selector",10),w("toggleColumn",function(d){return r.toggleColumn(d)})("showAllColumns",function(){return r.showAllColumns()})("hideAllColumns",function(){return r.hideAllOptionalColumns()})("columnsReordered",function(d){return r.onColumnsReordered(d)}),u(),m(17,"button",11),S(18,"i",12),l(19," Statistiques "),u(),m(20,"button",13),S(21,"i",14),l(22," Nouvelle candidature "),u()()(),m(23,"app-candidature-filters",15),w("searchTermChange",function(d){return r.searchTerm.set(d)})("statutChange",function(d){return r.selectedStatut.set(d)})("prioriteChange",function(d){return r.selectedPriorite.set(d)})("typeContratChange",function(d){return r.selectedTypeContrat.set(d)})("scoreMinChange",function(d){return r.selectedScoreMin.set(d)})("scoreMaxChange",function(d){return r.selectedScoreMax.set(d)})("dateDebutChange",function(d){return r.dateDebut.set(d)})("dateFinChange",function(d){return r.dateFin.set(d)})("archivedChange",function(d){return r.showArchived.set(d)})("nonArchivedChange",function(d){return r.showNonArchived.set(d)})("clearFilters",function(){return r.clearFilters()}),u(),f(24,Tr,1,1,"app-filter-chips",16),f(25,Er,1,1,"app-loading-spinner",17)(26,Dr,1,1,"app-error-card",18)(27,Fr,1,0,"app-empty-state",19)(28,Mr,11,0,"div",20)(29,Ar,2,1),u()),e&2&&(o(7),x(" ",r.filteredCandidatures().length," candidature(s) "),o(),b(r.candidatures().length!==r.filteredCandidatures().length?8:-1),o(2),T("bg-primary-100",r.viewMode()==="table"),o(3),T("bg-primary-100",r.viewMode()==="grid"),o(3),E("visibleColumns",r.visibleColumnsSet())("availableColumns",r.availableColumns()),o(7),E("searchTerm",r.searchTerm())("selectedStatut",r.selectedStatut())("selectedPriorite",r.selectedPriorite())("selectedTypeContrat",r.selectedTypeContrat())("selectedScoreMin",r.selectedScoreMin())("selectedScoreMax",r.selectedScoreMax())("dateDebut",r.dateDebut())("dateFin",r.dateFin())("showArchivedCandidatures",r.showArchived())("showNonArchivedCandidatures",r.showNonArchived())("activeFiltersCount",r.activeFiltersCount()),o(),b(r.hasActiveFilters()?24:-1),o(),b(r.isLoading()?25:r.errorMessage()?26:r.candidatures().length===0?27:r.filteredCandidatures().length===0?28:29))},dependencies:[M,X,W,Oe,He,je,Ce,_e,fe,he,ve],encapsulation:2})};export{Je as CandidatureListComponent};
