import{a as s}from"./chunk-R53HURH7.js";import{d as Q,e as q,f as ee,g as te,h as oe}from"./chunk-SLQYCLQY.js";import"./chunk-X42SFKBM.js";import{g as J,h as W,i as Y,k as X,l as Z,n as $,o as h,r as K,u as g}from"./chunk-KLJDSKD7.js";import{Da as k,Fa as O,I as w,Ia as j,L as F,Ma as V,O as R,Q as a,Qb as A,R as x,V as v,W as C,Ya as H,Z as I,Za as U,_ as T,bb as z,ca as M,cb as m,db as d,eb as c,fa as E,ga as N,ha as D,ib as L,m as S,mb as B,ob as u,ta as P,wb as G,y as b,za as y}from"./chunk-G3X2Z5OP.js";var de="@",ce=(()=>{class o{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=a(I);loadingSchedulerFn=a(me,{optional:!0});_engine;constructor(e,n,r,i,p){this.doc=e,this.delegate=n,this.zone=r,this.animationType=i,this.moduleImpl=p}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-N4KLBOTN.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new w(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:i})=>{this._engine=r(this.animationType,this.doc);let p=new i(this.delegate,this._engine,this.zone);return this.delegate=p,p})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let i=new _(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(p=>{let pe=p.createRenderer(e,n);i.use(pe),this.scheduler??=this.injector.get(D,null,{optional:!0}),this.scheduler?.notify(10)}).catch(p=>{i.use(r)}),i}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(n){j()};static \u0275prov=F({token:o,factory:o.\u0275fac})}return o})(),_=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n,r){this.delegate.removeChild(t,e,n,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,r){return this.shouldReplay(e)&&this.replay.push(i=>i.listen(t,e,n,r)),this.delegate.listen(t,e,n,r)}shouldReplay(t){return this.replay!==null&&t.startsWith(de)}},me=new R("");function ne(o="animations"){return k("NgAsyncAnimations"),x([{provide:O,useFactory:()=>new ce(a(T),a(W),a(M),o)},{provide:P,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var l=(o,t)=>{let e=a(s),n=a(h),r=a(g);return e.isAuthenticated()?!0:(r.info("Veuillez vous connecter pour acc\xE9der \xE0 cette page."),n.navigate(["/auth/login"],{queryParams:{returnUrl:t.url}}),!1)};var re=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"auth/login",loadComponent:()=>import("./chunk-VLIMVAPG.js").then(o=>o.LoginComponent)},{path:"auth/register",loadComponent:()=>import("./chunk-C6JL2UKK.js").then(o=>o.RegisterComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-SFRFQ4QH.js").then(o=>o.DashboardComponent),canActivate:[l]},{path:"profile",loadComponent:()=>import("./chunk-EYM4CHTX.js").then(o=>o.ProfileComponent),canActivate:[l]},{path:"settings",loadComponent:()=>import("./chunk-VRAWX2HL.js").then(o=>o.SettingsComponent),canActivate:[l]},{path:"stats",loadComponent:()=>import("./chunk-UALVA7ZK.js").then(o=>o.CandidatureStatsComponent),canActivate:[l]},{path:"candidatures",canActivate:[l],children:[{path:"",loadComponent:()=>import("./chunk-SUXT3ZNG.js").then(o=>o.CandidatureListComponent)},{path:"new",loadComponent:()=>import("./chunk-CYUZDMN5.js").then(o=>o.CandidatureFormComponent)},{path:":id",loadComponent:()=>import("./chunk-7NWOWCML.js").then(o=>o.CandidatureDetailComponent)},{path:":id/edit",loadComponent:()=>import("./chunk-CYUZDMN5.js").then(o=>o.CandidatureFormComponent)}]},{path:"**",redirectTo:"/dashboard"}];var ie=(o,t)=>{let n=a(s).getToken();return!n&&!o.url.includes("/auth/")&&console.warn("[JWT] Pas de token JWT pour la requ\xEAte:",o.url),n&&(o=o.clone({setHeaders:{Authorization:`Bearer ${n}`}})),t(o)};var ae=(o,t)=>{let e=a(h),n=a(s),r=a(g);return t(o).pipe(b(i=>(i.status===401?!o.url.includes("/stats/")&&i.error?.message!=="Endpoint not found"?(n.logout(),e.navigate(["/auth/login"]),r.error("Session expir\xE9e. Veuillez vous reconnecter.")):console.warn("[AUTH] Endpoint non disponible:",o.url):i.status===403?(r.error("Acc\xE8s refus\xE9. Vous n'avez pas les permissions n\xE9cessaires."),e.navigate(["/dashboard"])):i.status===404?console.warn("[HTTP] Ressource non trouv\xE9e:",o.url):i.status===500?r.error("Erreur serveur. Veuillez r\xE9essayer plus tard."):i.status===0&&r.error("Erreur de connexion. V\xE9rifiez votre connexion internet."),S(()=>i))))};var se={providers:[E(),K(re),X(Z([ie,ae])),ne()]};function ue(o,t){if(o&1){let e=L();m(0,"div",1)(1,"app-header",2),B("toggleMenu",function(){v(e);let r=u();return C(r.toggleSidenav())})("logoutClick",function(){v(e);let r=u();return C(r.logout())}),d(),m(2,"div",3)(3,"aside",4,0),c(5,"app-sidebar"),d(),m(6,"main",5),c(7,"router-outlet")(8,"app-footer"),d()(),c(9,"app-toast")(10,"app-confirmation-modal"),d()}if(o&2){let e=u();y(),z("currentUser",e.currentUser())("appTitle",e.title()),y(2),G("hidden",!e.sidenavOpen)}}function he(o,t){o&1&&c(0,"router-outlet")(1,"app-toast")(2,"app-confirmation-modal")}var f=class o{authService=a(s);title=N("Job Tracker");isAuthenticated=A(()=>this.authService.isAuthenticated());currentUser=A(()=>this.authService.getCurrentUser());sidenavOpen=!0;toggleSidenav(){this.sidenavOpen=!this.sidenavOpen}logout(){this.authService.logout()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=V({type:o,selectors:[["app-root"]],decls:2,vars:1,consts:[["sidenav",""],[1,"flex","flex-col","h-screen"],[3,"toggleMenu","logoutClick","currentUser","appTitle"],[1,"flex","flex-1","overflow-hidden"],[1,"w-64","bg-white","dark:bg-gray-800","border-r","border-gray-200","dark:border-gray-700","overflow-y-auto"],[1,"flex-1","overflow-y-auto","bg-gray-50","dark:bg-gray-900"]],template:function(e,n){e&1&&H(0,ue,11,4,"div",1)(1,he,3,0),e&2&&U(n.isAuthenticated()?0:1)},dependencies:[J,$,Q,q,ee,te,oe],encapsulation:2})};Y(f,se).catch(o=>console.error(o));
