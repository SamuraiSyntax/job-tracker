@if (showModal) {
<div class="fixed inset-0 z-50 overflow-y-auto" aria-labelledby="modal-title" role="dialog" aria-modal="true">
  <!-- Backdrop -->
  <div class="fixed inset-0 bg-gray-900 opacity-75 transition-opacity" (click)="onCancel()" (keyup.enter)="onCancel()"
    (keydown.space)="onCancel()" tabindex="0" role="button" aria-label="Fermer la fenÃªtre de confirmation"></div>

  <!-- Modal container -->
  <div class="flex min-h-full items-center justify-center p-4">
    <div
      class="relative transform overflow-hidden rounded-xl bg-white dark:bg-gray-800 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-lg animate-in zoom-in-95 fade-in duration-200">
      <div class="bg-white dark:bg-gray-800 px-4 pb-4 pt-5 sm:p-6 sm:pb-4">
        <div class="sm:flex sm:items-start">
          <!-- Icon -->
          <div
            class="mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full sm:mx-0 sm:h-10 sm:w-10"
            [ngClass]="{
                       'bg-red-100 dark:bg-red-900/20': config?.type === 'danger',
                       'bg-yellow-100 dark:bg-yellow-900/20': config?.type === 'warning',
                       'bg-blue-100 dark:bg-blue-900/20': config?.type === 'info',
                       'bg-green-100 dark:bg-green-900/20': config?.type === 'success'
                     }">
            <i class="fas text-xl" [ngClass]="[
                       config?.icon || 'fa-exclamation-triangle',
                       config?.type === 'danger' ? 'text-red-600 dark:text-red-400' : '',
                       config?.type === 'warning' ? 'text-yellow-600 dark:text-yellow-400' : '',
                       config?.type === 'info' ? 'text-blue-600 dark:text-blue-400' : '',
                       config?.type === 'success' ? 'text-green-600 dark:text-green-400' : ''
                     ]"></i>
          </div>

          <!-- Content -->
          <div class="mt-3 text-center sm:ml-4 sm:mt-0 sm:text-left flex-1">
            <h3 class="text-lg font-semibold leading-6 text-gray-900 dark:text-white" id="modal-title">
              {{ config?.title }}
            </h3>
            <div class="mt-2">
              <p class="text-sm text-gray-600 dark:text-gray-400">
                {{ config?.message }}
              </p>
            </div>
          </div>
        </div>
      </div>

      <!-- Actions -->
      <div class="bg-gray-50 dark:bg-gray-900/50 px-4 py-3 sm:flex sm:flex-row-reverse sm:px-6 gap-3">
        <button type="button" (click)="onConfirm()"
          class="p-2 rounded-lg hover:bg-red-600 dark:hover:bg-red-500 transition-all duration-200 hover:scale-110 hover:shadow-lg cursor-pointer disabled:cursor-not-allowed text-white"
          [ngClass]="{
                  'bg-red-600 hover:bg-red-700 text-white': config?.type === 'danger',
                  'bg-yellow-500 hover:bg-yellow-600 text-white': config?.type === 'warning',
                  'bg-blue-600 hover:bg-blue-700 text-white': config?.type === 'info',
                  'bg-green-600 hover:bg-green-700 text-white': config?.type === 'success'
                }">
          {{ config?.confirmText }}
        </button>
        <button type="button" (click)="onCancel()"
          class="btn-outline mt-3 inline-flex w-full justify-center sm:mt-0 sm:w-auto cursor-pointer disabled:cursor-not-allowed">
          {{ config?.cancelText }}
        </button>
      </div>
    </div>
  </div>
</div>
}