import{b as x,c as o,d as N,e as k,g as L,i as _,j as R,p as q,q as D,s as T}from"./chunk-PFMXRURO.js";import"./chunk-E52SVNQE.js";import{a as E}from"./chunk-R53HURH7.js";import{a as w}from"./chunk-HO4B2M3A.js";import{b as G,c as V}from"./chunk-SLQYCLQY.js";import"./chunk-X42SFKBM.js";import"./chunk-EIPPF5CY.js";import{g as y,o as b,p as S,s as C,u as F}from"./chunk-KLJDSKD7.js";import{$ as c,Ma as f,Q as d,Ya as g,Za as v,bb as l,cb as e,db as t,eb as r,mb as u,xb as h,yb as a,za as n}from"./chunk-G3X2Z5OP.js";function A(s,m){s&1&&(r(0,"div",25),e(1,"span"),a(2,"Inscription en cours..."),t())}function I(s,m){s&1&&(r(0,"i",26),e(1,"span"),a(2,"S'inscrire"),t())}var M=class s{fb=d(D);authService=d(E);router=d(b);notificationService=d(F);destroyRef=d(c);registerForm=this.fb.group({nom:["",[o.required,o.minLength(2),o.maxLength(50)]],prenom:["",[o.required,o.minLength(2),o.maxLength(50)]],email:["",[o.required,o.email]],password:["",[o.required,o.minLength(6)]]});isLoading=!1;hidePassword=!0;onSubmit(){this.registerForm.valid?(this.isLoading=!0,this.authService.register(this.registerForm.value).pipe(w(this.destroyRef)).subscribe({next:()=>{this.notificationService.success("Inscription r\xE9ussie ! Bienvenue \u{1F389}"),this.router.navigate(["/dashboard"])},error:m=>{this.notificationService.error(m.message||"Une erreur est survenue lors de l'inscription"),this.isLoading=!1}})):(this.markFormGroupTouched(this.registerForm),this.notificationService.warning("Veuillez remplir correctement tous les champs"))}markFormGroupTouched(m){Object.keys(m.controls).forEach(p=>{m.get(p)?.markAsTouched()})}static \u0275fac=function(p){return new(p||s)};static \u0275cmp=f({type:s,selectors:[["app-register"]],decls:44,vars:10,consts:[["title","Inscription","subtitle","Cr\xE9ez votre compte Job Tracker"],[1,"space-y-4",3,"ngSubmit","formGroup"],["for","nom",1,"form-label"],[1,"relative"],["id","nom","type","text","formControlName","nom","required","","autocomplete","family-name","placeholder","Votre nom",1,"form-input","pl-10"],[1,"absolute","left-3","top-1/2","-translate-y-1/2","text-gray-400"],[1,"fas","fa-user"],["fieldName","Le nom",3,"control"],["for","prenom",1,"form-label"],["id","prenom","type","text","formControlName","prenom","required","","autocomplete","given-name","placeholder","Votre pr\xE9nom",1,"form-input","pl-10"],[1,"far","fa-user"],["fieldName","Le pr\xE9nom",3,"control"],["for","email",1,"form-label"],["id","email","type","email","formControlName","email","required","","autocomplete","email","placeholder","votre@email.com",1,"form-input","pl-10"],[1,"fas","fa-envelope"],["fieldName","L'email",3,"control"],["for","password",1,"form-label"],["id","password","formControlName","password","required","","autocomplete","new-password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",1,"form-input","pl-10","pr-10",3,"type"],[1,"fas","fa-lock"],["type","button",1,"absolute","right-3","top-1/2","-translate-y-1/2","text-gray-400","hover:text-gray-600","dark:hover:text-gray-200",3,"click"],["fieldName","Le mot de passe",3,"control"],["type","submit",1,"btn-primary","w-full","cursor-pointer","disabled:cursor-not-allowed",3,"disabled"],[1,"text-center","mt-4"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["routerLink","/auth/login",1,"text-primary-600","hover:text-primary-700","dark:text-primary-400","dark:hover:text-primary-300","font-medium"],[1,"animate-spin","rounded-full","border-2","border-white","border-t-transparent","w-5","h-5"],[1,"fas","fa-user-plus"]],template:function(p,i){p&1&&(e(0,"app-auth-card",0)(1,"form",1),u("ngSubmit",function(){return i.onSubmit()}),e(2,"div")(3,"label",2),a(4,"Nom"),t(),e(5,"div",3),r(6,"input",4),e(7,"span",5),r(8,"i",6),t()(),r(9,"app-form-field-error",7),t(),e(10,"div")(11,"label",8),a(12,"Pr\xE9nom"),t(),e(13,"div",3),r(14,"input",9),e(15,"span",5),r(16,"i",10),t()(),r(17,"app-form-field-error",11),t(),e(18,"div")(19,"label",12),a(20,"Email"),t(),e(21,"div",3),r(22,"input",13),e(23,"span",5),r(24,"i",14),t()(),r(25,"app-form-field-error",15),t(),e(26,"div")(27,"label",16),a(28,"Mot de passe"),t(),e(29,"div",3),r(30,"input",17),e(31,"span",5),r(32,"i",18),t(),e(33,"button",19),u("click",function(){return i.hidePassword=!i.hidePassword}),r(34,"i"),t()(),r(35,"app-form-field-error",20),t(),e(36,"button",21),g(37,A,3,0)(38,I,3,0),t(),e(39,"div",22)(40,"p",23),a(41," Vous avez d\xE9j\xE0 un compte ? "),e(42,"a",24),a(43,"Se connecter"),t()()()()()),p&2&&(n(),l("formGroup",i.registerForm),n(8),l("control",i.registerForm.get("nom")),n(8),l("control",i.registerForm.get("prenom")),n(8),l("control",i.registerForm.get("email")),n(5),l("type",i.hidePassword?"password":"text"),n(4),h(i.hidePassword?"far fa-eye-slash":"far fa-eye"),n(),l("control",i.registerForm.get("password")),n(),l("disabled",i.isLoading),n(),v(i.isLoading?37:38))},dependencies:[y,T,L,x,N,k,q,R,_,C,S,V,G],encapsulation:2,changeDetection:0})};export{M as RegisterComponent};
